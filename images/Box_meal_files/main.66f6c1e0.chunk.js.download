(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[2],{10:function(e,t,n){"use strict";t.a={INITIAL_DISPOSITION_DATA:"initialDispositionData",DISPOSITION_DATA:"dispositionData",SEARCH_ORDER_DATA:"searchOrderData",SCHEDULE_ORDER_DATA:"scheduleOrderData",SELECTED_TILE_DATA:"SelectedTileData",DISPOSITION_METHOD:"dispositionMethod",SEARCH_ORDER_USER_ADDRESS:"userAddress",SCHEDULE_ORDER_TIME_DATA:"scheduleOrderSelectedDateTime",CLOSED:"CLOSED",SCHEDULE_ORDER_TIME_PRESERVE_DATE:"scheduleOrderPreserveDate",SCHEDULE_ORDER_TIME_PRESERVE_TIME:"scheduleOrderPreserveTime",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP",TYPE_DINE_IN:"DINE-IN",PICK_UP:"pickup",TAKE_AWAY:"takeaway",DINE_IN:"dine-in",MENU_URL:"/menu",PDP_URL:"/pdp",SET_DISPOSITION:"SET_DISPOSITION",CART_STATES_DATA:"CART_STATES_DATA",CONFIRM_UPSIZE_ANALYTICS:"CONFIRM_UPSIZE_ANALYTICS",LANGUAGE_SELECTOR:"LANGUAGE_SELECTOR",LANGUAGE_UPDATED:"LANGUAGE_UPDATED",CMS_INITIALIZED:"CMS_INITIALIZED",ADD_TO_CART_CLICK:"ADD_TO_CART_CLICK",USER_LOCALIZED:"USER_LOCALIZED",PLP_PDP_DETAILS:"PLP_PDP_DETAILS",VISIBLE:"visible",HIDDEN:"hidden",ANALYTICS_LOCALISATION_SIGNIN:"localisationSignIn",AUTO:"auto",SHOW_CLEAR_CART_ALERT:"SHOW_CLEAR_CART_ALERT",CLEAR_CART_CONFIRM_CANCEL_MODAL:"CLEAR_CART_CONFIRM_CANCEL_MODAL",clearCartChangeFlag:"FromChange",orderTypeAlertTitle:"OrderType",searchStoreAlertTitle:"SearchStore",clearCartExposedFlag:"FromExposed",CURRENT_STORE_INFO:"currentStoreInfo",MINI_PDP_DATA:"MINI_PDP_DATA",FROMFLAGEDIT:"fromEdit",FROMFLAGPLP:"fromPLP",EDIT_CLICKED:"EDIT_CLICKED",INDIA:"INDIA",HIDDEN_TEXT:"hiddenText",TENDER_DATA:"TENDER_DATA",PAYMENET_FORM_PAYLOAD:"PAYMENET_FORM_PAYLOAD",ORDER_LOOKUP:"Order Lookup",SHOW_CART_ERROR_MODAL:"SHOW_CART_ERROR_MODAL",CART_DATA_ERROR_RESET:"CART_DATA_ERROR_RESET",SET_FORCERELOAD:"SET_FORCERELOAD"}},100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o}));var a=20,i=5e3,c=15e3,o=18e4},107:function(e,t,n){"use strict";t.a={contentData:{searchStoreHeaderText:"selectKFC",deliveryHeaderText:"deliveryAddress",searchStoreModalContent:{formContent:{memberText:"alreadyMember",singInLink:{linkUrl:null,linkText:"signIn",targetType:"_blank"},currentLocationText:"storeUseMyLocation",addressBoxPlaceHolderForSearchStore:"addressBoxPlaceHolderForSearchStore",addressBoxPlaceHolderForDelivery:"enterYourDeliveryAddress",mapText:"map",numberOfStoreText:"nearYou"},locationsContent:{storeData:[{map:{mapText:"Map",mapUrl:""},facilities:{washroom:!0,wheelchair:!0,wifi:!0},buttonData:{scheduleOrderButtonData:{buttonText:"Schedule Order",display:!0},orderNowButtonData:{buttonText:"Order Now",display:!0}}}]}}}}},11:function(e,t,n){"use strict";var a=n(61);n.d(t,"a",(function(){return a.a}))},115:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(36),i=n(6),c=n.n(i),o=n(15),r=n(2),s=n(37),d=n(29),l=n(3),u=n(22),b=n(30),v=n(28),j=function(e,t,n,a,i,c,o,s){var d={cartList:[],cartSummary:{},tenantId:n,country:s},l=e.id;return d.cartList=n&&o&&m(t,n,a,o),d.bucketId=l,d.cartSummary=Object(r.a)({},O(e,t,a,i,c)),d},O=function(e,t,n,a,i){var c=e||[],o=c.inclusiveTaxTotal,r=void 0===o?0:o,s=c.additionalChargeLines,d=void 0===s?[]:s,l=c.discountLines,u=void 0===l?[]:l,b=(null===e||void 0===e?void 0:e.subtotal)||(null===e||void 0===e?void 0:e.subTotal),v=(t&&t.filter((function(e){var t,n,c,o;return!e.toRemove&&(null===(t=e.newFoodLineItem)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.name)!==a&&(null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.name)!==i}))).reduce((function(e,t){var n;return+e+ +(null===(n=t.newFoodLineItem)||void 0===n?void 0:n.quantity)}),0),j=d&&d.map((function(e){return{chargeType:(null===e||void 0===e?void 0:e.chargeType)||"Additional-Charges",amount:(+(null===e||void 0===e?void 0:e.amount)/n||0).toFixed(2)}})),O=u.length&&u.map((function(e){var t,a,i,c="";if(null===e||void 0===e||null===(t=e.basicErrors)||void 0===t?void 0:t.length)c=null===e||void 0===e||null===(i=e.basicErrors[0])||void 0===i?void 0:i.message;else if(null===e||void 0===e||null===(a=e.promoConditionStatus)||void 0===a?void 0:a.length){var o,r,s=null===e||void 0===e?void 0:e.promoConditionStatus.filter((function(e){return!(null===e||void 0===e?void 0:e.isValidCondition)}));c=(null===s||void 0===s?void 0:s.length)?null===(o=s[0])||void 0===o||null===(r=o.displayMessage[0])||void 0===r?void 0:r.value:""}return{couponCode:(null===e||void 0===e?void 0:e.couponCode)||"Discount-Code",amount:(+(null===e||void 0===e?void 0:e.amount)/n||0).toFixed(2),status:e.status.name,isError:"APPLIED"!==String(e.status.name).toUpperCase(),errorMessages:c}})),m=(+(null===e||void 0===e?void 0:e.additionalChargeTotal)/n||0).toFixed(2);return{cartId:(null===e||void 0===e?void 0:e.id)||"",catalog:null===e||void 0===e?void 0:e.catalog,quantity:v,taxAmounts:(r/n||0).toFixed(2),additionalCharges:j,totalAdditionalCharges:m,discountAmounts:O,subTotal:(+b/n||0).toFixed(2),totalAmount:(+(null===e||void 0===e?void 0:e.total)/n||0).toFixed(2),recommendedItems:(null===e||void 0===e?void 0:e.recommendedItems)||[]}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return e&&e.length&&e.map((function(e){var i,c,o,r,s,d,l,u,j,O,m,p,h,g,x,N,E,T,I,C,S,A,y,_;return{foodLineId:null===e||void 0===e||null===(i=e.newFoodLineItem)||void 0===i?void 0:i.id,foodItemId:null===e||void 0===e||null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.id,name:null===e||void 0===e||null===(r=e.newFoodLineItem)||void 0===r||null===(s=r.item)||void 0===s?void 0:s.name,foodName:null===e||void 0===e||null===(d=e.newFoodLineItem)||void 0===d||null===(l=d.item)||void 0===l||null===(u=l.dname[0])||void 0===u?void 0:u.value,quantity:null===e||void 0===e||null===(j=e.newFoodLineItem)||void 0===j?void 0:j.quantity,unitPrice:(null===e||void 0===e||null===(O=e.newFoodLineItem)||void 0===O?void 0:O.unitPrice)/n,imageData:{src:"".concat(Object(b.a)(v.K)).concat(t,"/images/items/").concat(a,"/").concat(null===e||void 0===e||null===(m=e.newFoodLineItem)||void 0===m||null===(p=m.item)||void 0===p||null===(h=p.imageName[0])||void 0===h?void 0:h.value,".jpg"),altText:null===e||void 0===e||null===(g=e.newFoodLineItem)||void 0===g||null===(x=g.item)||void 0===x||null===(N=x.dname[0])||void 0===N?void 0:N.value},modifiers:f(null===e||void 0===e||null===(E=e.newFoodLineItem)||void 0===E||null===(T=E.item)||void 0===T?void 0:T.modGrps),shortDescription:null===e||void 0===e||null===(I=e.newFoodLineItem)||void 0===I||null===(C=I.item)||void 0===C||null===(S=C.shortDescription[0])||void 0===S?void 0:S.value,customizable:null===e||void 0===e||null===(A=e.newFoodLineItem)||void 0===A||null===(y=A.item)||void 0===y?void 0:y.customizable,toRemove:null===e||void 0===e?void 0:e.toRemove,requireModification:null===e||void 0===e?void 0:e.requireModification,menuPrice:null===e||void 0===e?void 0:e.menuPrice,cartPrice:null===e||void 0===e?void 0:e.cartPrice,discountComponents:null===e||void 0===e||null===(_=e.newFoodLineItem)||void 0===_?void 0:_.discountComponents}}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0?e.map((function(e){var t;return null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.dname[0])||void 0===t?void 0:t.value})).join(", ")})).join(", ").split(", "):[]},p=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var i,r,u,b=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.length>2&&void 0!==b[2]?b[2]:[],r=s.a.ANALYTICS_EVENTS,t!==r.EDIT){e.next=6;break}return e.next=5,d.a.registerEvent(t,{"%event%":"editCartItem"},l.H);case 5:return e.abrupt("return");case 6:return u=n.map(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a,o,r,s,d,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(null===i||void 0===i?void 0:i.find((function(e){return e.products.find((function(e){return e.name===t.foodName}))})))||{},r=o.id,s=void 0===r?"NA":r,d=o.name,u=void 0===d?"NA":d,e.abrupt("return",{item_name:(null===t||void 0===t?void 0:t.foodName)||"NA",item_id:"".concat((null===t||void 0===t?void 0:t.foodItemId)||"NA"),price:(null===t||void 0===t?void 0:t.unitPrice)||"NA",item_category:u,item_variant:Object(l.Db)(null===t||void 0===t?void 0:t.modifiers)?"NA":null===t||void 0===t||null===(a=t.modifiers)||void 0===a?void 0:a.reduce((function(e,t){return e+"".concat(t,", ")}),""),item_list_name:u,item_list_id:s,index:n,quantity:"".concat((null===t||void 0===t?void 0:t.quantity)||"NA")});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=9,d.a.registerEvent(t,{data:{event:t,ecommerce:Object(a.a)({},t,{items:u})}},l.H);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){return!!e&&Object(u.j)(e)>s.a.CART_EXPIRE_TIME_HRS},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=e.map((function(e){var a,i=(null===t||void 0===t?void 0:t.find((function(t){return t.products.find((function(t){return t.name===e.foodName}))})))||{},c=i.id,o=void 0===c?"NA":c,r=i.name,s=void 0===r?"NA":r;return{item_name:(null===e||void 0===e?void 0:e.foodName)||"NA",item_id:"".concat((null===e||void 0===e?void 0:e.foodItemId)||"NA"),price:Object(l.t)(n,"removeAllQty","quantityModified",null===e||void 0===e?void 0:e.cartPrice,(null===e||void 0===e?void 0:e.cartPrice)/(null===e||void 0===e?void 0:e.quantity)),item_category:s,item_variant:Object(l.Db)(null===e||void 0===e?void 0:e.modifiers)?"NA":null===e||void 0===e||null===(a=e.modifiers)||void 0===a?void 0:a.reduce((function(e,t){return e+"".concat(t,", ")}),""),item_list_name:s,item_list_id:o,index:1,quantity:Object(l.t)(n,"removeAllQty","quantityModified",null===e||void 0===e?void 0:e.quantity,1)}}));return a}},117:function(e,t,n){"use strict";t.a={MEMBER_SOURCE:"memberSource",REFRESH_SOURCE:"refreshSource",GUEST_SOURCE:"guestSource",GUEST_REFRESH_SOURCE:"guestRefresh",SIGN_IN_TOAST_MSG:"signInToast",GENERIC_ERROR:"generic_error"}},122:function(e,t,n){"use strict";t.a=n.p+"static/media/tickWhiteToast.c5b28bc1.svg"},125:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return o}));var a={WHITE:"#fff"},i={DEV:"development"},c="HIDE_CONSOLE_LOGS",o={Template1:"brandPageTemplate1",Template2:"brandPageTemplate2"}},13:function(e,t,n){"use strict";var a=n(176);n.d(t,"a",(function(){return a.a}))},140:function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return C}));var a=n(7),i=n(1),c=n.n(i),o=n(9),r=n(117),s=n(35),d=n(133),l=n(47),u=n(122),b=n(13),v=n(5),j=n(79),O=n(3),m=n(30),f=n(28),p=n(98),h=n(109),g=n(159),x=n(51),N=n(150),E=n(0),T=function(e){var t;try{var n={secret:null===e||void 0===e?void 0:e.access_token},a={secret:null===e||void 0===e?void 0:e.refresh_token},i={secret:null===e||void 0===e?void 0:e.id_token};j.a.setItem("access_token",n),j.a.setItem("refresh_token",a),j.a.setItem("id_token",i),(null===n||void 0===n?void 0:n.secret)&&Object(s.k)(null===n||void 0===n?void 0:n.secret),t=[null===e||void 0===e?void 0:e.access_token,null===e||void 0===e?void 0:e.refresh_token,null===e||void 0===e?void 0:e.id_token]}catch(c){t=null}return t},I=function(e,t,n,a){l.b.dark(Object(E.jsxs)("div",{className:"img-text-div",children:[Object(E.jsx)(b.a,{srcFile:e})," ",Object(E.jsx)("span",{className:"text",children:Object(v.e)(t)})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:l.b.POSITION[n]}),setTimeout((function(){l.b.dismiss()}),a)},C=function(e){var t=e.history,n=void 0===t?[]:t,s=window.location.origin+Object(m.a)(f.D),l=Object(o.b)(),b=Object(o.c)((function(e){return e.authReducer})),v=localStorage.getItem("redirect_path_name")||"/",E=r.a.MEMBER_SOURCE,C=r.a.REFRESH_SOURCE,S=r.a.GUEST_SOURCE,A=r.a.GUEST_REFRESH_SOURCE,y=r.a.SIGN_IN_TOAST_MSG,_=r.a.GENERIC_ERROR,D=c.a.useState(!1),R=Object(a.a)(D,2),w=R[0],L=R[1],k=Object(o.c)((function(e){return e.tenantReducer})).tenantId,P=Object(o.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null}));Object(i.useEffect)((function(){l(Object(p.a)("in"))}),[l]),Object(i.useEffect)((function(){k&&(h.a.tenantId=k,L(h.a.isConfigAvailable))}),[k]),Object(i.useEffect)((function(){if(w)if(window.location.href.includes("access_token"))!1===b.error&&b.tokenSource===S&&n.push("/");else if(window.location.href.includes("refresh_request")){var e;!1===b.error&&[C,A,S].includes(b.tokenSource)&&Object(O.Ob)(null===(e=j.a.getItem("access_token"))||void 0===e?void 0:e.secret,null===b||void 0===b?void 0:b.expires_in)&&n.push(v)}else window.location.href.includes("code")?!1===b.error&&b.tokenSource===E&&(n.push(v),I(u.a,y,"BOTTOM_CENTER",5e3)):window.location.href.includes("login_result=skipped")?n.push(Object(O.mc)()):(I(u.a,_,"TOP_CENTER",1e4),n.push(v))}),[w,_,S,E,C,A,y,b,n,v]);var M=Object(i.useCallback)((function(e){if(w){var t={grant_type:Object(m.a)(f.b),client_id:Object(m.a)(f.c),code:e.code,redirect_uri:s,scope:Object(m.a)(f.f),state:e.state,code_verifier:JSON.parse(localStorage.getItem("code_verifier"))};l(Object(d.a)({authBody:t,secureTokens:T}))}}),[w,s,l]),F=Object(i.useCallback)((function(){if(w)if(window.location.href.includes("access_token")){var e=window.location.hash.replace("#","").split("&").reduce((function(e,t){return e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1]),e}),{});l(Object(d.c)(e)),T(e)}else if(window.location.href.includes("refresh_request"))Object(N.c)(l,P,Object(O.Kb)(null===b||void 0===b?void 0:b.tokenSource));else if(window.location.href.includes("code")){var t=window.location.search.replace("?","").split("&").reduce((function(e,t){return e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1]),e}),{});M(t)}}),[w,l,P,null===b||void 0===b?void 0:b.tokenSource,M]);return Object(i.useEffect)((function(){if(b.tokenSource===E){var e,t=null===(e=j.a.getItem("access_token"))||void 0===e?void 0:e.secret,n=x.a.getPhoneNumberFromToken(t),a=x.a.getCustomerIdFromToken(t),i=x.a.getEmailFromToken(t),c=x.a.getFirstNameFromToken(t),o=x.a.getFamilyNameFromToken(t);Object(g.b)({customerId:a,loginMethod:"Phone",firstName:c,lastName:o,phoneNumber:n}),Object(g.a)({phoneNumber:n,customerId:a,email:i})}else if(b.tokenSource===S){var r,s=null===(r=j.a.getItem("access_token"))||void 0===r?void 0:r.secret,d=x.a.getCustomerIdFromToken(s);Object(g.c)(d),localStorage.setItem("loginSkipped",null)}}),[b]),Object(i.useEffect)((function(){F()}),[F]),null}},150:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return te}));var a=n(7),i=n(2),c=n(6),o=n.n(c),r=n(15),s=n(29),d=n(35),l=n(28),u=n(109),b=n(30),v=n(69),j=n(5),O=n(80),m=n(339),f=n(133),p=n(20),h=n(27),g=n(67),x=n(98),N=n(51),E=n(390),T=n(8),I=n(16),C=n(31),S=n(79),A=n(22),y=n(3),_=n(140),D=n(159),R=n(352),w=n(14),L=n.n(w),k=n(89),P=n(115),M=n(44),F=n(65),H=n(10),U=n(1),B=n.n(U),Y=n(684),G=n(353),K=n.n(G),V=n(9),W=n(47),q=(n(512),n(513),n(17)),z=n(387),Q=n(76),J=n(383),X=n.n(J),Z=n(0),$=function(e,t){e&&Object(r.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.b.BindPhone();case 2:n={client_id:Object(b.a)(l.u),grant_type:Object(b.a)(l.v),scope:Object(b.a)(T.l.GOOGLE_SPOT_AUTH_SCOPE),token:I.b.googlePhoneToken,secureTokens:_.b},(null===I.b||void 0===I.b?void 0:I.b.googlePhoneToken)&&t(Object(f.f)(n));case 4:case"end":return e.stop()}}),e)})))()},ee=function(e){e(Object(f.b)({guestBody:{client_id:Object(b.a)(l.y),grant_type:Object(b.a)(l.z),scope:Object(b.a)(l.A)},secureTokens:_.b}))},te=function(e,t,n){var a,i,c={grant_type:Object(b.a)(l.G),client_id:Object(b.a)(l.c),refresh_token:null===(a=S.a.getItem("refresh_token"))||void 0===a?void 0:a.secret},o={grant_type:Object(b.a)(l.G),client_id:Object(b.a)(l.y),refresh_token:null===(i=S.a.getItem("refresh_token"))||void 0===i?void 0:i.secret};e(n?Object(f.e)({refreshTokenBody:c,secureTokens:_.b,errorCallback:function(){Object(k.d)(null===t||void 0===t?void 0:t.id),setTimeout((function(){window.localStorage.clear(),window.location.replace(Object(b.a)(l.J))}),2e3)}}):Object(f.d)({refreshTokenBody:o,secureTokens:_.b,errorCallback:function(){setTimeout((function(){ee(e)}),2e3)}}))},ne=function(t){var n,c,u,f,x,_=t.isConfigAvailable,D=Object(U.useRef)(),G=Object(U.useRef)(null),J=Object(V.c)((function(e){return e.authReducer})),X=J.tokenSource,ne=J.expires_in,ae=J.refresh_expires_in,ie=Object(V.c)((function(e){return e.profileReducer})),ce=Object(V.c)((function(e){return e.cartReducer})),oe=Object(V.c)((function(e){return e.errorReducer})),re=B.a.useState(Object(y.Lb)(window.innerWidth)),se=Object(a.a)(re,2),de=se[0],le=se[1],ue=B.a.useState(!1),be=Object(a.a)(ue,2),ve=be[0],je=be[1],Oe=H.a.INITIAL_DISPOSITION_DATA,me=H.a.LANGUAGE_UPDATED,fe=H.a.SHOW_CART_ERROR_MODAL,pe=Object(V.c)(R.a).disposition,he=void 0===pe?{}:pe,ge=Object(U.useContext)(q.a),xe=ge.userOrderState,Ne=ge.userOrderStateDispatch,Ee=Object(V.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=void 0===n?{}:n,c=t.analyticsProviders,o=(c=void 0===c?{}:c).web,r=void 0===o?{}:o,s=t.defaultAnalyticsProviders,d=(s=void 0===s?{}:s).web,l=void 0===d?{}:d,u=t.country;return Object(i.a)(Object(i.a)({},a),{},{analyticsProviders:r,defaultAnalyticsProviders:l,country:u})})),Te=Ee.analyticsProviders,Ie=Ee.defaultAnalyticsProviders,Ce=Ee.defaultLanguage,Se=Ee.country,Ae=Object(V.c)((function(e){return e.appStateReducer.userStatus})),ye=Object(V.c)((function(e){return L.a.get(e,"appVersionReducer.response",null)})),_e=Object(V.c)((function(e){return e.tenantReducer})).allowRemoteWipeOut,De=Object(V.c)((function(e){return e.cartReducer})),Re=De.userLastActiveTime,we=De.cartData,Le=De.cartDataError,ke=De.isBasketLoading,Pe=(we||{}).foodLines,Me=void 0===Pe?[]:Pe,Fe=B.a.useState(L.a.reduce(null===we||void 0===we?void 0:we.foodLines,(function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0)),He=Object(a.a)(Fe,2),Ue=He[0],Be=He[1],Ye=Object(V.c)((function(e){return null===e||void 0===e?void 0:e.tenantReducer})),Ge=Ye.tenantId,Ke=Ye.addHope,Ve=Ye.carryBag,We=Object(V.c)((function(e){return null===e||void 0===e?void 0:e.postOrderReducer})),qe=Object(V.c)((function(e){var t=e.i18nReducer,n=(t=void 0===t?{}:t).response,i=(n=void 0===n?{}:n).items;i=void 0===i?[]:i;var c=Object(a.a)(i,1)[0],o=(c=void 0===c?{}:c).sys,r=(o=void 0===o?{}:o).locale,s=c.fields;return{locale:r,i18Translations:(s=void 0===s?{}:s).data}})),ze=qe.locale,Qe=qe.i18Translations;sessionStorage.setItem("userId",null===ie||void 0===ie?void 0:ie.customerId);var Je=Object(V.b)(),Xe=function(){var e=Object(y.Lb)(window.innerWidth);le(e)};Object(U.useEffect)((function(){window.addEventListener("resize",Xe)}),[de]),Object(U.useLayoutEffect)((function(){if(_){var e={gtmId:Object(b.a)(l.x)};K.a.initialize(e)}}),[_]),Object(U.useEffect)((function(){if(_){var e=Object(b.a)(l.t);if(e){var t,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e.replace("MAP_LANG",null!==(t=null===Ce||void 0===Ce?void 0:Ce.key)&&void 0!==t?t:"en-US"),window.initMap=function(){console.log("Google map has been loaded successfully")},document.head.appendChild(n)}}}),[_,null===Ce||void 0===Ce?void 0:Ce.key]),Object(U.useEffect)((function(){if(G.current=Ue,Object(y.u)(Ke,Ve)){var e=Object(y.Q)(Me,Ke,Ve),t=null===e||void 0===e?void 0:e.filter((function(e){var t;return!0!==(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.isHidden)}));Be(L.a.reduce(t,(function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0))}}),[Me]),Object(U.useEffect)((function(){!function(e,t){var n=JSON.parse(sessionStorage.getItem("reorderClick"));null!=t&&e>t&&!n&&Object(y.l)(e-t)}(Ue,null===G||void 0===G?void 0:G.current)}),[Ue]);Object(U.useEffect)((function(){if(!Object(w.isEmpty)(Te)&&!Object(w.isEmpty)(Ie)){var e=null===(t=Te)||void 0===t?void 0:t.map((function(e){return e===(null===v.c||void 0===v.c?void 0:v.c.GTM)?{GTM:y.H}:null}));s.a.registerAnalyticsProviders(e),s.a.defaultAnalyticsProviders=Ie}var t}),[Te,Ie]),Object(U.useEffect)((function(){var e,t,n=null===Le||void 0===Le||null===(e=Le.errors)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.includes("out of stock");Ne({type:fe,value:{showCartErrorModal:n}})}),[Le]);var Ze=null===(n=S.a.getItem("access_token"))||void 0===n?void 0:n.secret,$e=function(){var e=N.a.getPhoneNumberFromToken(Ze),t=N.a.getCustomerIdFromToken(Ze),n=N.a.getFirstNameFromToken(Ze),a=N.a.getEmailFromToken(Ze);!function(e,t,n,a,c){var o,r,s,d,l=e.tokenSource,u=e.userParams,b=e.payload,v=e.cartReducer;if(Object(y.Kb)(l)){var j;t(Object(O.b)(Object(i.a)(Object(i.a)({},u),{},{loggedIn:!0}))),(null===c||void 0===c?void 0:c.orderAccepted)&&Object.keys(null===c||void 0===c?void 0:c.orderAccepted).length&&t(Object(Q.f)({tenantId:n,customerId:a,orderId:null===c||void 0===c||null===(j=c.orderAccepted)||void 0===j?void 0:j.id})),t(Object(g.d)(b))}(null===v||void 0===v||null===(o=v.cartData)||void 0===o?void 0:o.id)&&(null===v||void 0===v||null===(r=v.cartData)||void 0===r||null===(s=r.customer)||void 0===s?void 0:s.id)!==a&&t(Object(p.t)({tenantId:n,basketId:null===v||void 0===v||null===(d=v.cartData)||void 0===d?void 0:d.id,customerId:a}))}({tokenSource:X,userParams:Ae,payload:{customerId:t,tenantId:Ge,phoneNumber:e,firstName:n,emailId:a},cartReducer:ce},Je,Ge,t,We)};Object(U.useEffect)((function(){var e,t=(Ze&&N.a.getIATfromToken(Ze))+parseInt(ne,10)-Object(A.h)();if(t>0){var n=Object(b.a)(T.l.TOKEN_EXPIRY_GRACE_PERIOD),a=t*Number(n)*.01;e=setTimeout((function(){var e=Object(y.Kb)(X);je(e&&I.b.isGoogle),!I.b.isGoogle&&te(Je,null===ie||void 0===ie?void 0:ie.basic,e)}),[1e3*(t-a)])}return function(){e&&clearTimeout(e)}}),[Ze,Je,ne,X,null===ie||void 0===ie?void 0:ie.basic]);var et=null===(c=S.a.getItem("refresh_token"))||void 0===c?void 0:c.secret;Object(U.useEffect)((function(){var e,t;if(ae&&et){var n=N.a.getExpFromToken(et);console.log((new Date).toUTCString(),"******** actual refreshTokenExpireAt ",n);var a=n-Object(A.h)(),i=1e3*(a-60*Number(Object(b.a)(T.l.USER_RESET_GRACE_TIME_MINUTES)));if(console.log((new Date).toUTCString(),"************ userRefreshTimeSpan",i),console.log((new Date).toUTCString(),"************ Engaging Timer "),a>0){e=setTimeout((function(){Object(y.Kb)(X)?!I.b.isGoogle&&function(){var e;Object(k.d)(null===ie||void 0===ie||null===(e=ie.basic)||void 0===e?void 0:e.id),setTimeout((function(){console.log((new Date).toUTCString(),"************ Reset Member User "),window.localStorage.clear(),window.location.replace(Object(b.a)(l.J))}),2e3)}():setTimeout((function(){window.localStorage.clear(),console.log((new Date).toUTCString(),"************"," Guest Token Request"),window.location.assign("/")}),3e3)}),i);var c=1e3*(a-60*Number(Object(b.a)(T.l.USER_RESET_WARNING_GRACE_TIME_MINUTES)));console.log((new Date).toUTCString(),"************ userRefreshWarningToastTimeSpan",c),t=setTimeout((function(){W.b.dark(Object(Z.jsx)("div",{"data-testid":"user-refresh-warning-toast",className:"img-text-div",children:Object(Z.jsx)("span",{className:"text",children:Object(j.e)("userRefreshWarning")})}),{hideProgressBar:!0,position:W.b.POSITION.BOTTOM_CENTER,className:"user-refresh-warning-toast"})}),c)}}return function(){console.log((new Date).toUTCString(),"************ Cleaning Timers "),e&&clearTimeout(e),t&&clearTimeout(t)}}),[Ze,null===ie||void 0===ie||null===(u=ie.basic)||void 0===u?void 0:u.id,ae,et,X]);var tt=localStorage.getItem("orderComplete");function nt(){return(nt=Object(r.a)(o.a.mark((function e(){var t,n,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xe.dispositionNew,t=Object(y.Eb)(t)?JSON.parse(localStorage.getItem("dispositionNew")):t,!Ae.localized){e.next=8;break}return i={storeInfo:null===(n=t)||void 0===n?void 0:n.store,dispositionType:Object(y.L)(null===(a=t)||void 0===a?void 0:a.type)},e.next=6,Object(y.g)(i.storeInfo,i.dispositionType,ie.customerId);case 6:c=e.sent,Ge&&Je(Object(p.f)({basketId:we.id},!0,{data:c,tenantId:Ge}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(U.useEffect)((function(){$(ve,Je)}),[Je,ve]),Object(U.useEffect)((function(){if(_)if(!Ze&&Object(w.isEmpty)(X))ee(Je);else if(!Object(w.isEmpty)(X)&&!Object(w.isEmpty)(Ge)){if(Object(d.k)(Ze),Object(y.Ob)(Ze,ne))$e(),je(!1),localStorage.removeItem("orderComplete");else if(!window.location.href.includes("refresh_request")){var e=Object(y.Kb)(X);je(e&&I.b.isGoogle),!I.b.isGoogle&&Object(y.fc)()}}}),[Ze,X,ne,Ge,_,tt]),Object(U.useEffect)((function(){Object(j.d)({})}),[Je]),Object(U.useEffect)((function(){Object.keys(he).length&&Ne({type:Oe,value:{disposition:he}})}),[he]),Object(U.useEffect)((function(){var e="".concat(Se,"_").concat(T.wb);!function(e,t,n,a,i){if(e)if(Object(y.Jb)(t)){var c=Object(y.T)(Object(y.T)(t)),o=Object(y.mb)(t);Object(j.a)(c,o)}else(null===n||void 0===n?void 0:n.cmsInitialized)&&Object(y.D)(e,a,i)}(Ce,e,xe,Ae,Je)}),[Ce,xe,Ae,Je,Se]),Object(U.useEffect)((function(){if(Qe){Object(y.kc)(ze,Qe),Object(j.a)(Qe,ze),Object(j.b)(ze);var e="".concat(Se,"_").concat(T.wb),t=Object(y.T)(e);Se&&T.wb&&Object(y.kc)(e,ze);var n=Object(y.T)(e);t&&t!==n&&Ne({type:me,value:{languageUpdationHappened:ze}})}}),[Qe]),Object(U.useEffect)((function(){_e&&Je(Object(m.a)({object:Object(C.a)(),contentFull:{content_type:"appMetaData",include:"5"}}))}),[Je,_e]),Object(U.useEffect)((function(){var e=localStorage.getItem("webAppVersion");!e&&(null===ye||void 0===ye?void 0:ye.webAppVersion)?localStorage.setItem("webAppVersion",null===ye||void 0===ye?void 0:ye.webAppVersion):(null===ye||void 0===ye?void 0:ye.webAppVersion)>Number(e)&&setTimeout((function(){window.localStorage.clear(),window.location.reload()}),2e3)}),[ye]),Object(U.useEffect)((function(){D.current=Ae.loggedIn}),[Ae.loggedIn]),Object(U.useEffect)((function(){Ae.loggedIn&&!ke&&(null===we||void 0===we?void 0:we.id)&&Object(P.b)(Re)&&function(){nt.apply(this,arguments)}()}),[xe.dispositionNew,Re,Ae]),Object(U.useEffect)((function(){var e,t,n=null===ce||void 0===ce||null===(e=ce.cartData)||void 0===e||null===(t=e.discountLines)||void 0===t?void 0:t.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.name)!==M.a}));if(!Object(w.isEmpty)(n)){var a,i,c,o,r,s=Object(F.b)(null===n||void 0===n?void 0:n[0]),d=!(null===(a=window)||void 0===a||null===(i=a.location)||void 0===i||null===(c=i.pathname)||void 0===c?void 0:c.includes("cart"));s&&d&&W.b.dark(Object(Z.jsx)("div",{"data-testid":"invalid-coupons-toast",className:"img-text-div",children:Object(Z.jsx)("span",{className:"text",children:s})}),{hideProgressBar:!0,position:W.b.POSITION.BOTTOM_CENTER}),Je(Object(p.m)({basketId:null===ce||void 0===ce||null===(o=ce.cartData)||void 0===o?void 0:o.id,tenantId:Ge,couponCode:null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.couponCode}))}}),[null===ce||void 0===ce||null===(f=ce.cartData)||void 0===f?void 0:f.discountLines,null===ce||void 0===ce||null===(x=ce.cartData)||void 0===x?void 0:x.id,Je,Ge]),Object(U.useEffect)((function(){var t,n;"development"===(null===(t=e)||void 0===t||null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===n?void 0:n.NODE_ENV)&&(null===oe||void 0===oe?void 0:oe.errorCode)&&W.b.dark(Object(Z.jsx)("div",{"data-testid":"generic-error-toast",className:"img-text-div",children:Object(Z.jsx)("span",{className:"text",children:"".concat(Object(j.e)("somethingWentWrong")," (").concat(null===oe||void 0===oe?void 0:oe.errorCode,")")})}),{hideProgressBar:!0,position:W.b.POSITION.BOTTOM_CENTER,onClose:function(){return Je(Object(h.b)(void 0))}})}),[Je,null===oe||void 0===oe?void 0:oe.errorCode]);var at;return I.a.isBrowserSupported||Object(w.isEmpty)(Qe)?Object(Z.jsxs)(E.a,{isPullable:de&&function(){var e,t;return!(null===xe||void 0===xe||null===(e=xe.scheduleOrderData)||void 0===e?void 0:e.showScheduleOrder)&&!(null===xe||void 0===xe||null===(t=xe.searchStoreData)||void 0===t?void 0:t.showSearchStore)}(),className:"pullToRefresh",onRefresh:function(){return window.location.reload(),!0},refreshingContent:null,pullingContent:null,pullDownThreshold:75,maxPullDownDistance:75,children:[Object(Z.jsx)(z.a,{}),Object(Z.jsx)(W.a,{limit:1})]}):Object(Z.jsxs)(Y.a,{variant:"danger",className:"appNotAvailable",children:[null!==(at=Object(j.e)(T.ub))&&void 0!==at?at:"Unsupported Browser. Please use following browsers to use the app.",Object(Z.jsx)("br",{}),JSON.stringify(I.a.minSupportedBrowsers)]})};ne.defaultProps={isConfigAvailable:!1};t.a=function(){var e=H.a.CMS_INITIALIZED,t=H.a.SET_FORCERELOAD,n=Object(U.useContext)(q.a).userOrderStateDispatch,i=B.a.useState(!1),c=Object(a.a)(i,2),s=c[0],d=c[1],l=B.a.useState(!1),b=Object(a.a)(l,2),v=b[0],j=b[1],O=Object(V.c)((function(e){return e.tenantReducer})).tenantId,m=Object(V.b)();return Object(U.useEffect)((function(){m(Object(x.a)("in")),Object(D.d)()}),[m]),Object(U.useEffect)((function(){O&&(u.a.tenantId=O,d(u.a.isConfigAvailable))}),[O]),Object(U.useEffect)((function(){O&&m(Object(x.b)({tenantId:O}))}),[m,O]),Object(U.useLayoutEffect)((function(){s&&Object(r.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)();case 2:a=t.sent,console.log("contentful has been initialized, space: ",null===a||void 0===a?void 0:a.name),n({type:e,value:{cmsInitialized:!0}}),j(!0);case 6:case"end":return t.stop()}}),t)})))()}),[e,s,n]),Object(U.useEffect)((function(){X.a.initialize("150938b5-2729-4abe-a2e6-ceaba2105928",{baseUrl:"sdk.fra-01.braze.eu",safariWebsitePushId:"web.com.cognizantorderserv.kfcindia",enableLogging:!0,manageServiceWorkerExternally:!0}),I.b.BindUserAgent(),n({type:t,value:{forceReload:!0}})}),[]),v?Object(Z.jsx)(ne,{isConfigAvailable:s}):Object(Z.jsx)(Z.Fragment,{})}}).call(this,n(137))},151:function(e,t,n){"use strict";t.a=n.p+"static/media/Icon_Add_to_Cart.58b87a9b.svg"},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return b}));var a=n(6),i=n.n(a),c=n(15),o=n(29),r=n(33),s=n(3),d=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,d,l,u,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.customerId,c=void 0===a?"NA":a,d=t.email,l=void 0===d?"NA":d,u=t.phoneNumber,b=void 0===u?"NA":u,e.next=3,o.a.registerEvent(null===r.a||void 0===r.a||null===(n=r.a.registrationComplete)||void 0===n?void 0:n.name,{"%event%":"registrationComplete","%userID%":c,"%email%":l,"%phone%":b},s.H);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,d,l,u,b,v,j,O,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.customerId,c=void 0===a?"NA":a,d=t.loginMethod,l=void 0===d?"NA":d,u=t.firstName,b=void 0===u?"NA":u,v=t.lastName,j=void 0===v?"NA":v,O=t.phoneNumber,m=void 0===O?"NA":O,e.next=3,o.a.registerEvent(null===r.a||void 0===r.a||null===(n=r.a.signInFinish)||void 0===n?void 0:n.name,{"%event%":"signInFinish","%userID%":c,"%loginMethod%":l,"%firstName%":b,"%lastName%":j,"%phoneNumber%":m},s.H);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){!0===JSON.parse(localStorage.getItem("loginSkipped"))&&setTimeout((function(){l({customerId:e,loginMethod:"I\u2019m a guest, sign me up later!"})}),100)},b=function(){window.location.href.includes("login_result=skipped")&&localStorage.setItem("loginSkipped",!0)}},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return _}));var a=n(6),i=n.n(a),c=n(15),o=n(91),r=n(90),s=n(62),d=n(64),l=n(340),u=n(8),b=n(54),v=n(207),j=n(79),O=n(51),m=n(30),f=n(28),p=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"paymentStatusOlo",get:function(){return this._data.has(this.KEY_PAYMENT_OLO)||this._data.set(this.KEY_PAYMENT_OLO,!1),this._data.get(this.KEY_PAYMENT_OLO)}},{key:"paymentStatusChannel",get:function(){return this._data.has(this.KEY_PAYMENT_CHANNEL)||this._data.set(this.KEY_PAYMENT_CHANNEL,!1),this._data.get(this.KEY_PAYMENT_CHANNEL)}},{key:"orderStatusOlo",get:function(){return this._data.has(this.KEY_ORDER_OLO)||this._data.set(this.KEY_ORDER_OLO,!1),this._data.get(this.KEY_ORDER_OLO)}},{key:"orderStatusChannel",get:function(){return this._data.has(this.KEY_ORDER_CHANNEL)||this._data.set(this.KEY_ORDER_CHANNEL,!1),this._data.get(this.KEY_ORDER_CHANNEL)}},{key:"transactionId",get:function(){return this._data.get(this.KEY_TRANSACTION_ID)},set:function(e){this._data.set(this.KEY_TRANSACTION_ID,e)}},{key:"payment",get:function(){return this._data.get(this.KEY_PAYMENT)},set:function(e){this._data.set(this.KEY_PAYMENT,e)}},{key:"paymentStatusGoogle",get:function(){return this._data.get(this.KEY_PAYMENT_STATUS_GOOGLE)},set:function(e){var t,n;if(null===e||void 0===e||null===(t=e.paymentMethodData)||void 0===t||null===(n=t.tokenizationData)||void 0===n?void 0:n.token){var a=JSON.parse(e.paymentMethodData.tokenizationData.token);if(null===a||void 0===a?void 0:a.signedMessage){var i,c=JSON.parse(a.signedMessage);this._data.set(this.KEY_PAYMENT_STATUS_GOOGLE,null===c||void 0===c||null===(i=c.paymentMethodDetails)||void 0===i?void 0:i.status)}}}},{key:"shouldGoogleSpotIgnoreOloFailure",get:function(){return console.log("ChannelManager.isGoogle",h.isGoogle),!!h.isGoogle&&("false"===Object(m.a)(f.w)&&h.paymentStatusGoogle===u.l.Status.Pass)}},{key:"googlePhoneToken",get:function(){return this._data.get(this.KEY_GOOGLE_PHONE_TOKEN)},set:function(e){this._data.set(this.KEY_GOOGLE_PHONE_TOKEN,e)}},{key:"oloPhoneToken",get:function(){return this._data.get(this.KEY_OLO_PHONE_TOKEN)},set:function(e){this._data.set(this.KEY_OLO_PHONE_TOKEN,e)}},{key:"oloPaymentInitializer",get:function(){return this._data.get(this.KEY_OLO_PAYMENT_INITIALIZER)},set:function(e){this._data.set(this.KEY_OLO_PAYMENT_INITIALIZER,e)}},{key:"enableFeedback",value:function(){this._data.set(this.KEY_FEEDBACK,!0)}},{key:"disableFeedback",value:function(){this._data.set(this.KEY_FEEDBACK,!1)}},{key:"enabledFakeSolution",value:function(){this._data.set(this.KEY_FAKE_SOLUTIONS,!0)}},{key:"disableFakeSolution",value:function(){this._data.set(this.KEY_FAKE_SOLUTIONS,!1)}}]),e}();p._data=new Map,p.DEFAULT_HEADER="userAgent",p.DEFAULT_NULL="-",p.DEFAULT_BUILD="21.07.19.03.17.2",p.KEY_CHANNEL="data.channel",p.KEY_ADDRESS="data.address",p.KEY_COORDINATES="data.coordinates",p.KEY_EMAIL="data.email",p.KEY_NAME="data.name",p.KEY_PHONE="data.phone",p.KEY_ORDER_ID="data.order.id",p.KEY_STORE_ID="data.store.id",p.KEY_BASKET_ID="data.basket.id",p.KEY_CUSTOMER_ID="data.customer.id",p.KEY_TRANSACTION_ID="data.transaction.id",p.KEY_TAXES="data.taxes",p.KEY_DISCOUNT="data.discount",p.KEY_TOTAL="data.total",p.KEY_SETUP_GOOGLE="setup.google",p.KEY_DEBUG="enable.debug",p.KEY_FAKE_SOLUTIONS="enable.fake.solutions",p.KEY_PAYMENT="data.payment",p.KEY_PAYMENT_STATUS_GOOGLE="data.payment.status.google",p.KEY_GOOGLE_PHONE_TOKEN="data.google.phone.token",p.KEY_OLO_PHONE_TOKEN="data.olo.phone.token",p.KEY_OLO_PAYMENT_INITIALIZER="data.olo.payment.initializer",p.KEY_FEEDBACK_COUNT="data.feedback.counter",p.KEY_PAYMENT_OLO="status.payment.olo",p.KEY_PAYMENT_CHANNEL="status.payment.channel",p.KEY_ORDER_OLO="status.order.olo",p.KEY_ORDER_CHANNEL="status.order.channel",p.STORAGE_PHONE="storage.phone",p.KEY_FEEDBACK="enable.feedback",p.isGoogleSetup=function(){var e;return null!==(e=p._data.get(p.KEY_SETUP_GOOGLE))&&void 0!==e&&e},p.isPhoneSetup=function(){var e;return!h.isGoogle||!!(null===(e=window)||void 0===e?void 0:e.microapps)},p.isDebugEnabled=function(){var e;return null!==(e=h._data.get(p.KEY_DEBUG))&&void 0!==e&&e},p.isFeedbackEnabled=function(){var e;return null!==(e=p._data.get(p.KEY_FEEDBACK))&&void 0!==e&&e},p.isFakeSolutionEnabled=function(){var e;return null!==(e=p._data.get(p.KEY_FAKE_SOLUTIONS))&&void 0!==e&&e},p.feedbackCount=function(){return p._data.get(p.KEY_FEEDBACK_COUNT)||p._data.set(p.KEY_FEEDBACK_COUNT,0),p._data.set(p.KEY_FEEDBACK_COUNT,p._data.get(p.KEY_FEEDBACK_COUNT)+1),p._data.get(p.KEY_FEEDBACK_COUNT)},p.addFeedback=function(e){if(h.isDebugEnabled()||p.isFeedbackEnabled()){var t,n,a=document.createElement("p");"string"===typeof e?n=document.createTextNode("".concat(p.feedbackCount(),": ").concat(e)):e instanceof Error&&(n=document.createTextNode("".concat(p.feedbackCount(),": ").concat(e.stack)),a.style.borderRadius="0.3125rem",a.style.backgroundColor="#ff00001a"),a.appendChild(n),null===(t=document.getElementById("test-feedback"))||void 0===t||t.appendChild(a),console.log("[[ CM ]]",e)}};var h=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"channel",get:function(){return this._data.has(this.KEY_CHANNEL)||this.BindUserAgent(),this._data.get(this.KEY_CHANNEL)}},{key:"address",get:function(){return this._data.get(this.KEY_ADDRESS)}},{key:"coordinates",get:function(){return this._data.get(this.KEY_COORDINATES)}},{key:"name",get:function(){return this._data.get(this.KEY_NAME)}},{key:"email",get:function(){return this._data.get(this.KEY_EMAIL)}},{key:"phone",get:function(){var e,t=null!==(e=localStorage.getItem(this.STORAGE_PHONE))&&void 0!==e?e:this._data.get(this.KEY_PHONE);return t&&localStorage.setItem(this.STORAGE_PHONE,t),t}},{key:"orderId",get:function(){return this.isFakeSolutionEnabled()?(this.addFeedback("Channel Manager is OVERRIDING order id with ".concat(u.l.Debug.Google.BasketId)),u.l.Debug.Google.OrderId):this._data.get(this.KEY_ORDER_ID)},set:function(e){this._data.set(this.KEY_ORDER_ID,e)}},{key:"storeId",get:function(){return this._data.get(this.KEY_STORE_ID)}},{key:"basketId",get:function(){return this.isFakeSolutionEnabled()?(this.addFeedback("Channel Manager is OVERRIDING basket id with ".concat(u.l.Debug.Google.BasketId)),u.l.Debug.Google.BasketId):this._data.get(this.KEY_BASKET_ID)}},{key:"customerId",get:function(){return this._data.get(this.KEY_CUSTOMER_ID)}},{key:"taxes",get:function(){if(!this._data.get(this.KEY_TAXES)){this._data.set(this.KEY_TAXES,{gst:0,cgst:0,sgst:0,igst:0,cess:0})}return this._data.get(this.KEY_TAXES)}},{key:"discount",get:function(){var e;return null!==(e=this._data.get(this.KEY_DISCOUNT))&&void 0!==e?e:0}},{key:"total",get:function(){var e;return null!==(e=this._data.get(this.KEY_TOTAL))&&void 0!==e?e:0}},{key:"isBrowser",get:function(){return this.channel===u.l.VIEWPORT_CHANNEL_BROWSER}},{key:"isGoogle",get:function(){return this.channel===u.l.VIEWPORT_CHANNEL_GOOGLE}},{key:"isPhonePe",get:function(){return this.channel===u.l.VIEWPORT_CHANNEL_PHONE_PE}},{key:"isPayTm",get:function(){return this.channel===u.l.VIEWPORT_CHANNEL_PAY_TM}},{key:"status",get:function(){return n.isGoogle?this.paymentStatusOlo:null}},{key:"enableGoogleDebug",value:function(){this._data.set(this.KEY_ADDRESS,u.l.Debug.Google.Address),this._data.set(this.KEY_COORDINATES,u.l.Debug.Google.Coordinates),this._data.set(this.KEY_NAME,u.l.Debug.Google.Name),this._data.set(this.KEY_EMAIL,u.l.Debug.Google.Email),this._data.set(this.KEY_PHONE,u.l.Debug.Google.Phone),this.enableDebug(),this.enableFeedback(),this.setForGoogle()}},{key:"enableDebug",value:function(){this._data.set(this.KEY_DEBUG,!0),document.body.classList.add(u.l.VIEWPORT_CLASSNAME_DEBUG)}},{key:"disableDebug",value:function(){this._data.set(this.KEY_DEBUG,!1),document.body.classList.remove(u.l.VIEWPORT_CLASSNAME_DEBUG)}},{key:"BindUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(n.enableGoogleDebug(),this._data.delete(this.KEY_CHANNEL)),!this._data.get(this.KEY_CHANNEL)){var a,i,c,o,r,s,d,b,v;if(e)o="".concat(null!==(r=null===e||void 0===e?void 0:e[this.DEFAULT_HEADER])&&void 0!==r?r:null).toLowerCase();if(!l)null!==(s=o)&&void 0!==s||(o="".concat(null!==(d=null===(b=window)||void 0===b||null===(v=b.navigator)||void 0===v?void 0:v.userAgent)&&void 0!==d?d:null).toLowerCase());(null===(a=o)||void 0===a?void 0:a.includes(u.l.VIEWPORT_AGENT_GOOGLE.toLowerCase()))?this.setForGoogle():(null===(i=o)||void 0===i?void 0:i.includes(u.l.VIEWPORT_AGENT_PHONE_PE.toLowerCase()))?this.setForPhonePe():(null===(c=o)||void 0===c?void 0:c.includes(u.l.VIEWPORT_AGENT_PAY_TM.toLowerCase()))?this.setForPayTm():this.setForBrowser()}}},{key:"BindLocation",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=7;break}return e.next=3,x.Coordinates();case 3:return e.next=5,x.Address();case 5:case 12:e.next=18;break;case 7:if(!n.isPhonePe){e.next=14;break}return e.next=10,N.Coordinates();case 10:return e.next=12,N.Address();case 14:return e.next=16,g.Coordinates();case 16:return e.next=18,g.Address();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"BindPhone",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=3;break}return e.next=3,x.Phone();case 3:return e.abrupt("return",this.phone);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"BindUser",value:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=7;break}return e.next=3,x.User();case 3:return e.next=5,g.User();case 5:e.next=10;break;case 7:if(!n.isPhonePe){e.next=10;break}return e.next=10,N.User(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"BindPayment",value:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parseInitializer(t),!n.isGoogle){e.next=8;break}return this.addFeedback("Channel manager is about to call google manager - payment..."),e.next=5,x.Payment();case 5:this.addFeedback("Channel manager has finished calling google manager - payment..."),e.next=9;break;case 8:this.addFeedback("Channel manager has chosen to SKIP payment...");case 9:this.addFeedback("Looks like the await finished for bind payment");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"BindOrder",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=5;break}return e.next=3,x.Order();case 3:return e.next=5,g.Order();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(p);h.setForGoogle=function(){h._data.set(h.KEY_CHANNEL,u.l.VIEWPORT_CHANNEL_GOOGLE),document.body.classList.add(u.l.VIEWPORT_CLASSNAME_GOOGLE)},h.setForPhonePe=function(){h._data.set(h.KEY_CHANNEL,u.l.VIEWPORT_CHANNEL_PHONE_PE),document.body.classList.add(u.l.VIEWPORT_CLASSNAME_PHONE_PE)},h.setForPayTm=function(){h._data.set(h.KEY_CHANNEL,u.l.VIEWPORT_CHANNEL_PAY_TM),document.body.classList.add(u.l.VIEWPORT_CLASSNAME_PAY_TM)},h.setForBrowser=function(){h._data.set(h.KEY_CHANNEL,u.l.VIEWPORT_CHANNEL_BROWSER),document.body.classList.add(u.l.VIEWPORT_CLASSNAME_BROWSER)},h.parseInitializer=function(e){var t,n;h.oloPaymentInitializer=e,h.transactionId=null===e||void 0===e||null===(t=e.allowedPaymentMethods)||void 0===t||null===(n=t[0].parameters)||void 0===n?void 0:n.transactionId},h.bindGooglePaySpotJS=function(){if(!h.isGoogleSetup()){var e,t=document.createElement("script");t.src=u.l.Setting.Google.Source,document.body.appendChild(t),h.addFeedback("the google pay spot script has been added to the dom..."),h._data.set(h.KEY_SETUP_GOOGLE,!0);try{var n;(null===(n=window)||void 0===n?void 0:n.microapps)||(e=setInterval((function(){var t,n;h.addFeedback("Checking micro apps: "+((null===(t=window)||void 0===t?void 0:t.microapps)?"Pass":"Fail")),(null===(n=window)||void 0===n?void 0:n.microapps)&&(h.addFeedback("Interval cleared: ".concat(e)),clearInterval(e))}),u.l.Setting.Interval),h.addFeedback("Interval added: ".concat(e)))}catch(a){console.log("Exception in function bindGooglePaySpotJS.")}}};var g=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s,d,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use coordinates from olo - ".concat(h.channel,"...")),!(null===(t=navigator)||void 0===t?void 0:t.geolocation)){e.next=19;break}return e.prev=2,r=function(e){return new Promise((function(t,n){return navigator.geolocation.getCurrentPosition(null!==t&&void 0!==t?t:null,null!==n&&void 0!==n?n:null,e)}))},s={enableHighAccuracy:u.l.Setting.Accuracy,timeout:u.l.Setting.Timeout,maximumAge:u.l.Setting.Expiration},e.next=7,r(s);case 7:d=e.sent,l={longitude:null!==(n=null===d||void 0===d||null===(a=d.coords)||void 0===a?void 0:a.longitude)&&void 0!==n?n:null,latitude:null!==(c=null===d||void 0===d||null===(o=d.coords)||void 0===o?void 0:o.latitude)&&void 0!==c?c:null},this._data.set(this.KEY_COORDINATES,l),this.addFeedback("Channel manager is saving coordinates from olo - ".concat(h.channel,"... ").concat(h.coordinates)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception coordinates from olo - ".concat(h.channel,"...")),this.addFeedback(e.t0);case 17:e.next=20;break;case 19:this.addFeedback("Channel manager has chosen to SKIP coordinates from olo - ".concat(h.channel,"..."));case 20:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.coordinates){e.next=6;break}return t={lat:h.coordinates.latitude,lng:h.coordinates.longitude},e.next=4,Object(b.e)(t);case 4:n=e.sent,this._data.set(this.KEY_ADDRESS,n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addFeedback("Channel manager has chosen to use user from olo - ".concat(h.channel,"...")),this.addFeedback("Channel manager is saving user name from olo - ".concat(h.channel,"... ").concat(h.name)),this.addFeedback("Channel manager is saving user email from olo - ".concat(h.channel,"... ").concat(h.email));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Order",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addFeedback("Channel manager has chosen to use order from olo - ".concat(h.channel,"...")),this._data.set(this.KEY_ORDER_OLO,!0),this.addFeedback("Channel manager is saving order status olo - ".concat(h.channel,"... ").concat(this.orderStatusOlo));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(p),x=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use coordinates from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=15;break}return e.prev=2,e.t0=this._data,e.t1=this.KEY_COORDINATES,e.next=7,null===(n=window.microapps)||void 0===n?void 0:n.getCurrentLocation();case 7:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2),e.next=15;break;case 11:e.prev=11,e.t3=e.catch(2),this.addFeedback("Channel manager hit an exception coordinates from google - ".concat(h.channel,"...")),this.addFeedback(e.t3);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use address from google - ".concat(h.channel,"...")),e.next=3,g.Address();case 3:this.addFeedback("Channel manager is saving address from google - ".concat(h.channel,"... ").concat(h.address));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Phone",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use phone from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=26;break}return e.prev=2,c={nonce:u.l.Setting.Google.Nonce,skipPrompt:!u.l.Setting.Google.Prompt},this.addFeedback("Channel manager is about to call google - phone api..."),this.addFeedback("Channel manager is sending phone request to google - ".concat(h.channel,"... ").concat(JSON.stringify(c))),e.next=8,null===(n=window.microapps)||void 0===n?void 0:n.getPhoneNumber(c);case 8:o=e.sent,r=JSON.parse(atob(o.split(".")[1])),s=null===r||void 0===r||null===(a=r.phone_number)||void 0===a?void 0:a.split(" ")[1],localStorage.setItem(this.STORAGE_PHONE,s),this.googlePhoneToken=o,this._data.set(this.KEY_PHONE,s),this.addFeedback("Channel manager is receiving phone request from google - ".concat(h.channel,"... ").concat(o)),this.addFeedback("Phone number ".concat(s,"...")),this.addFeedback("Phone number saved..."),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception phone from google - ".concat(h.channel,"...")),this.addFeedback(e.t0),h.isDebugEnabled()&&(this.googlePhoneToken=u.l.Debug.Google.Token.Phone,this.addFeedback("Channel manager is OVERRIDING phone for google - ".concat(h.channel,"... ").concat(this.googlePhoneToken)));case 24:e.next=27;break;case 26:this.addFeedback("Channel manager has chosen to SKIP phone from google - ".concat(h.channel,"..."));case 27:case"end":return e.stop()}}),e,this,[[2,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use user from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=24;break}return e.prev=2,a={nonce:u.l.Setting.Google.Nonce,skipPrompt:!u.l.Setting.Google.Prompt},e.next=6,null===(n=window.microapps)||void 0===n?void 0:n.getIdentity(a);case 6:c=e.sent,o=JSON.parse(atob(c.split(".")[1])),r=null===o||void 0===o?void 0:o.name,s=null===o||void 0===o?void 0:o.email,this._data.set(this.KEY_NAME,r),this._data.set(this.KEY_EMAIL,s),this.addFeedback("Channel manager identity debug data ".concat(c,"...")),this.addFeedback("User name ".concat(r,"...")),this.addFeedback("User email ".concat(s,"...")),this.addFeedback("User name and email saved..."),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception user from google - ".concat(h.channel,"...")),this.addFeedback(e.t0);case 22:e.next=25;break;case 24:this.addFeedback("Channel manager has chosen to SKIP user from google - ".concat(h.channel,"..."));case 25:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"Payment",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use payment from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=24;break}return e.prev=2,this.addFeedback("Channel manager is sending request... ".concat(JSON.stringify(this.oloPaymentInitializer))),e.next=6,null===(n=window.microapps)||void 0===n?void 0:n.requestPayment(this.oloPaymentInitializer);case 6:a=e.sent,c=JSON.stringify(a),this.addFeedback("Channel manager received google payment response... ".concat(c)),this.paymentStatusGoogle=a,this.payment=c,this.addFeedback("Channel manager is saving payment status ".concat(h.channel,"... ").concat(this.paymentStatusGoogle)),this.addFeedback("Channel manager payment debug data ".concat(a,"...")),this.addFeedback("Channel manager has active payment data... ".concat(JSON.stringify(this.payment))),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception payment from google - ".concat(h.channel,"...")),this.addFeedback(e.t0),this.payment=e.t0,h.isDebugEnabled()&&(o=u.l.Debug.Google.Payment.Response,this.paymentStatusGoogle=o,this.payment=JSON.stringify(o),this._data.set(this.KEY_PAYMENT_CHANNEL,!0),this.addFeedback("Channel manager is OVERRIDING payment for google - ".concat(h.channel,"... ").concat(this.paymentStatusChannel)));case 22:e.next=25;break;case 24:this.addFeedback("Channel manager has chosen to SKIP payment from google - ".concat(h.channel,"..."));case 25:case"end":return e.stop()}}),e,this,[[2,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"Order",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s,d,l,u,b,v,j,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use order from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=23;break}return e.prev=2,v=document.querySelector('[alt="KFC LOGO"]'),j={title:"Transaction: ".concat(h.transactionId),subtitle:"Order: ".concat(h.orderId),imageUrl:"https://".concat(null===(n=window)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.host).concat(null===v||void 0===v?void 0:v.src),total:{currency:"INR",value:null!==(c=null===(o=this.oloPaymentInitializer)||void 0===o||null===(r=o.transactionInfo)||void 0===r?void 0:r.totalPrice)&&void 0!==c?c:0},status:{type:"COMPLETED"},payments:[{id:null!==(s=null===(d=this.oloPaymentInitializer)||void 0===d||null===(l=d.allowedPaymentMethods)||void 0===l||null===(u=l[0].parameters)||void 0===u?void 0:u.transactionReferenceId)&&void 0!==s?s:"ref-".concat((new Date).getTime())}],merchant:{id:"KFC"}},this.addFeedback("Channel manager is sending ".concat(h.channel," order request... ").concat(JSON.stringify(j))),e.next=8,null===(b=window.microapps)||void 0===b?void 0:b.createOrder(j);case 8:O=e.sent,this._data.set(this.KEY_ORDER_CHANNEL,!0),this.oloPaymentInitializer=null,this.addFeedback("Channel manager is receiving ".concat(h.channel," order request... ").concat(JSON.stringify(O))),this.addFeedback("Channel manager is saving order status ".concat(h.channel,"... ").concat(this.orderStatusChannel)),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(2),this.oloPaymentInitializer=null,this.addFeedback("Channel manager hit an exception from ".concat(h.channel," order request...")),this.addFeedback(e.t0),h.isDebugEnabled()&&(this._data.set(this.KEY_ORDER_CHANNEL,!0),this.addFeedback("Channel manager is OVERRIDING order status ".concat(h.channel,"... ").concat(this.orderStatusChannel)));case 21:e.next=24;break;case 23:this.addFeedback("Channel manager has chosen to SKIP from google - ".concat(h.channel,"..."));case 24:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(){return e.apply(this,arguments)}}()}]),n}(p),N=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use coordinates from phonepe - ".concat(h.channel,"...")),e.next=3,Object(v.a)();case 3:if(!e.sent){e.next=8;break}return e.next=6,g.Coordinates();case 6:e.next=9;break;case 8:console.log("User did not provide location permission");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use address from phonepe - ".concat(h.channel,"...")),e.next=3,g.Address();case 3:this.addFeedback("Channel manager is saving address from phonepe - ".concat(h.channel,"... ").concat(h.address));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}a=null===(n=j.a.getItem("access_token"))||void 0===n?void 0:n.secret,c=O.a.getFirstNameFromToken(a),o=O.a.getEmailFromToken(a),r=O.a.getPhoneNumberFromToken(a),this._data.set(this.KEY_NAME,null!==c&&void 0!==c?c:null),this._data.set(this.KEY_EMAIL,null!==o&&void 0!==o?o:null),this._data.set(this.KEY_PHONE,null!==r&&void 0!==r?r:null),e.next=11;break;case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(p),E=n(7),T=n(350),I=n.n(T),C={chrome:">=51",firefox:">=52",edge:">=14",safari:">=10"},S="min.supported.browser",A="is.browser.supported",y=new(function(){function e(){var t,n;Object(s.a)(this,e),this._data=new Map,this.browser=I.a.getParser(null===(t=window)||void 0===t||null===(n=t.navigator)||void 0===n?void 0:n.userAgent)}return Object(d.a)(e,[{key:"minSupportedBrowsers",get:function(){return this._data.get(S)},set:function(e){this._data.set(S,e)}},{key:"isBrowserSupported",get:function(){var e;return null!==(e=this._data.get(A))&&void 0!==e&&e},set:function(e){this._data.set(A,null!==e&&void 0!==e&&e)}},{key:"bind",value:function(e){var t;console.log("=============current user agent info: ",this.browser),console.log("=============current browser and version: ",this.browser.getBrowser()),e||(e=JSON.stringify(C));for(var n=JSON.parse(e),a=0,i=Object.entries(C);a<i.length;a++){var c=Object(E.a)(i[a],2),o=c[0],r=c[1];n["".concat(o)]||(n["".concat(o)]=r)}this.minSupportedBrowsers=n,console.log("=============minSupportedBrowsers: ",this.minSupportedBrowsers),this.isBrowserSupported=null===(t=this.browser.satisfies(this.minSupportedBrowsers))||void 0===t||t,console.log("=============satisfies? ",this.isBrowserSupported)}}]),e}());Object.freeze(y);var _=y},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m}));var a=n(7),i=n(1),c=n(23),o=n(2),r=n(10),s=n(38),d=n(37),l=n(48),u=n(44),b=n(86),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dispositionStateData:{},searchStoreData:{},scheduleOrderData:{},selectedTile:{},confirmUpsizeName:"none",dispositionOld:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:""},dispositionNew:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",selectedTime:""},pdpScreenCommons:{expandType:"all",currentAccordian:"",modGroupIdsUpdated:[]},cartAlertData:{showCartAlert:!1},cartItems:{currentEditItem:{},itemLocations:[]},cartStateData:{showCartState:!1},deliveryAddress:"",showLanguageSelector:!0,languageUpdationHappened:"",cmsInitialized:!1,addToCart:!1,productItemId:"",categoryId:"",oldProduct:{},isLocalized:!1,customizable:!1,catalogs:"",fromPdpPage:!1,ProductDetails:{},showCouponCopied:!1,showCartClearAlert:!1,modalToOpenOnConfirm:"",modalOpenFrom:"",confirmCallBack:null,currentStoreInfo:null,minipdpData:{itemId:"",fromFlag:"",foodLineId:""},cartEditClicked:!1,deeplinkSelectedStoreId:"",deepLinkStoreMode:!1,showCartErrorModal:!1,forceReload:!1,pdpDeepLinking:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.a.INITIAL_DISPOSITION_DATA,a=r.a.DISPOSITION_DATA,i=r.a.SEARCH_ORDER_DATA,v=r.a.SCHEDULE_ORDER_DATA,j=r.a.DISPOSITION_METHOD,O=r.a.SEARCH_ORDER_USER_ADDRESS,m=r.a.SCHEDULE_ORDER_TIME_DATA,f=r.a.SCHEDULE_ORDER_TIME_PRESERVE_DATE,p=r.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,h=r.a.SELECTED_TILE_DATA,g=r.a.SET_DISPOSITION,x=r.a.CART_STATES_DATA,N=r.a.CONFIRM_UPSIZE_ANALYTICS,E=r.a.ADD_TO_CART_CLICK,T=r.a.USER_LOCALIZED,I=r.a.LANGUAGE_SELECTOR,C=r.a.LANGUAGE_UPDATED,S=r.a.CMS_INITIALIZED,A=r.a.PLP_PDP_DETAILS,y=r.a.SHOW_CLEAR_CART_ALERT,_=r.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,D=r.a.CURRENT_STORE_INFO,R=r.a.MINI_PDP_DATA,w=r.a.EDIT_CLICKED,L=r.a.TENDER_DATA,k=r.a.PAYMENET_FORM_PAYLOAD,P=r.a.SHOW_CART_ERROR_MODAL,M=r.a.SET_FORCERELOAD,F=s.a.CUSTM_EXPAND_TYPE,H=s.a.EXPAND_ACCORDIAN,U=s.a.MODGROUP_IDS_UPDATE,B=s.a.UPDATE_DEFAULT_MODGROUP,Y=s.a.RESET_MODGROUP_IDS_UPDATE,G=s.a.SET_PDP_DEEPLINK_MODE,K=d.a.CART_ALERT,V=d.a.SET_ADDED_LOCATION,W=b.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;switch(t.type){case n:var q=Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{contentData:Object(o.a)({},t.value)});return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:q});case a:var z=Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{showDisposition:t.value.showDisposition});return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:z});case j:return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{dispositionType:t.value.dispositionType})});case i:var Q=Object(o.a)(Object(o.a)({},e.searchStoreData),{},{showSearchStore:t.value.showSearchStore,searchedPlaceNonLocalized:t.value.searchedPlaceNonLocalized});return Object(o.a)(Object(o.a)({},e),{},{searchStoreData:Q});case O:return Object(o.a)(Object(o.a)({},e),{},{searchStoreData:Object(o.a)(Object(o.a)({},e.searchStoreData),{},{userAddress:t.value.userAddress})});case v:var J=Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{showScheduleOrder:t.value.showScheduleOrder,storeInfo:t.value.selectedStoreInfo,changeFlow:t.value.changeFlow,isAddressFlow:t.value.isAddressFlow,deliveryAddress:t.value.deliveryAddress?t.value.deliveryAddress:e.scheduleOrderData.deliveryAddress});return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:J});case h:return Object(o.a)(Object(o.a)({},e),{},{selectedTile:t.value.selectedData});case m:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectedDateTimeInfo:t.value.selectedDateTime})});case f:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectContentData:Object(o.a)(Object(o.a)({},e.scheduleOrderData.selectContentData),{},{savedDate:t.value.selectContentDate})})});case p:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectContentData:Object(o.a)(Object(o.a)({},e.scheduleOrderData.selectContentData),{},{savedTime:t.value.selectContentTime})})});case F:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{expandType:t.value})});case H:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{currentAccordian:t.value})});case U:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:[].concat(Object(c.a)(e.pdpScreenCommons.modGroupIdsUpdated),[t.value])})});case B:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:t.value})});case Y:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:[]})});case x:return Object(o.a)(Object(o.a)({},e),{},{cartStateData:{showCartState:t.value.showCartModal}});case N:return Object(o.a)(Object(o.a)({},e),{},{confirmUpsizeName:t.value.confirmUpsizeName});case g:return Object(o.a)(Object(o.a)({},e),{},{dispositionOld:Object(o.a)({},t.value.oldvalue),dispositionNew:Object(o.a)({},t.value.newValue)});case K:return Object(o.a)(Object(o.a)({},e),{},{cartAlertData:{showCartAlert:t.value.showCartAlert}});case V:return Object(o.a)(Object(o.a)({},e),{},{cartItems:{currentEditItem:t.value.editItem,itemLocations:[].concat(Object(c.a)(e.cartItems.itemLocations),[t.value.itemLocation])}});case E:return Object(o.a)(Object(o.a)({},e),{},{addToCart:t.value.addToCart,productItemId:t.value.productItemId,categoryId:t.value.categoryId,oldProduct:t.value.oldProduct,customizable:t.value.customizable,catalogs:t.value.catalogs,fromPdpPage:t.value.fromPdpPage});case A:return Object(o.a)(Object(o.a)({},e),{},{ProductDetails:t.value});case T:return Object(o.a)(Object(o.a)({},e),{},{isLocalized:t.value.isLocalized});case I:return Object(o.a)(Object(o.a)({},e),{},{showLanguageSelector:t.value.showLanguageSelector});case C:return Object(o.a)(Object(o.a)({},e),{},{languageUpdationHappened:t.value.languageUpdationHappened});case S:return Object(o.a)(Object(o.a)({},e),{},{cmsInitialized:t.value.cmsInitialized});case l.r:return Object(o.a)(Object(o.a)({},e),{},{showCouponCopied:!0});case l.f:return Object(o.a)(Object(o.a)({},e),{},{showCouponCopied:!1});case y:return Object(o.a)(Object(o.a)({},e),{},{showCartClearAlert:t.value.showCartClearAlert});case _:return Object(o.a)(Object(o.a)({},e),{},{modalToOpenOnConfirm:t.value.modalToOpenOnConfirm,modalOpenFrom:t.value.modalOpenFrom,confirmCallBack:t.value.confirmCallBack});case D:return Object(o.a)(Object(o.a)({},e),{},{currentStoreInfo:t.value});case R:return Object(o.a)(Object(o.a)({},e),{},{minipdpData:{itemId:t.value.id,fromFlag:t.value.flag,foodLineId:t.value.foodLineId}});case w:return Object(o.a)(Object(o.a)({},e),{},{cartEditClicked:t.value.cartEditClicked});case u.n:return Object(o.a)(Object(o.a)({},e),{},{couponErrorMessage:t.value.couponErrorMessage});case u.o:return Object(o.a)(Object(o.a)({},e),{},{expiryMessage:t.value.expiryMessage});case L:return Object(o.a)(Object(o.a)({},e),{},{tenderInfo:t.value.tenderInfo,isPaymentAdded:t.value.isPaymentAdded});case k:return Object(o.a)(Object(o.a)({},e),{},{paymentFormPayload:t.value.paymentFormPayload});case W:return Object(o.a)(Object(o.a)({},e),{},{deepLinkStoreMode:t.value.deepLinkStoreMode,deeplinkSelectedStoreId:t.value.deeplinkSelectedStoreId});case G:return Object(o.a)(Object(o.a)({},e),{},{pdpDeepLinking:t.value.pdpDeepLinking});case P:return Object(o.a)(Object(o.a)({},e),{},{showCartErrorModal:t.value.showCartErrorModal});case M:return Object(o.a)(Object(o.a)({},e),{},{forceReload:t.value.forceReload});default:return e}},j=n(0),O=Object(i.createContext)({userOrderState:{},userOrderStateDispatch:function(){}}),m=function(e){var t=e.children,n=Object(i.useReducer)(v,{dispositionStateData:{contentData:{}},searchStoreData:{contentData:{},userAddress:""},scheduleOrderData:{changeFlow:!1,contentData:{},storeInfo:{},selectedDateTimeInfo:{time:"",interval:"",date:""},selectContentData:{savedDate:"",savedTime:""}},selectedTile:{},confirmUpsizeName:"none",dispositionOld:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:""},dispositionNew:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",selectedTime:""},pdpScreenCommons:{expandType:"all",currentAccordian:"",modGroupIdsUpdated:[]},cartAlertData:{showCartAlert:!1},cartItems:{currentEditItem:{},itemLocations:[]},cartStateData:{showCartState:!1},deliveryAddress:"",showLanguageSelector:!1,languageUpdationHappened:"",cmsInitialized:!1,addToCart:!1,productItemId:"",categoryId:"",oldProduct:{},isLocalized:!1,customizable:!1,catalogs:"",fromPdpPage:!1,showCouponCopied:!1,showCartClearAlert:!1,modalToOpenOnConfirm:"",modalOpenFrom:"",currentStoreInfo:null,minipdpData:{itemId:"",fromFlag:"",foodLineId:""},cartEditClicked:!1,couponErrorMessage:"",tenderInfo:{name:"",payload:{}},isPaymentAdded:!1,paymentFormPayload:{},showCartErrorModal:!1,forceReload:!1}),c=Object(a.a)(n,2),o=c[0],r=c[1];return Object(j.jsx)(O.Provider,{value:{userOrderState:o,userOrderStateDispatch:r},children:t})}},176:function(e,t,n){"use strict";var a=n(2),i=(n(1),n(93)),c=n(0),o=["srcFile","defaultPath","alt"],r=function(e){var t=e.srcFile,n=e.defaultPath,r=void 0===n?"":n,s=e.alt,d=void 0===s?"":s,l=Object(i.a)(e,o);return t?Object(c.jsx)("img",Object(a.a)({onError:function(e){e.target.onerror=null,e.target.src=r},src:t,alt:d||""},l)):null};t.a=function(e){return Object(c.jsx)(r,Object(a.a)({},e))}},207:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var a=n(6),i=n.n(a),c=n(15),o=n(145),r=n(50),s=function(e){var t=e.find((function(e){return String(e.permission)===o.PhonePe.Constants.Permission.LOCATION}));return Boolean(t&&(null===t||void 0===t?void 0:t.permissionGranted))},d=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PhonePe.PhonePe.build(o.PhonePe.Constants.Species.web);case 2:return t=e.sent,e.next=5,t.seekPermission([o.PhonePe.Constants.Permission.LOCATION]);case 5:return n=e.sent,e.abrupt("return",Boolean(n&&s(n)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e,t,n){console.log("reservationId::",e),console.log("fallbackURL::",t),o.PhonePe.PhonePe.build(o.PhonePe.Constants.Species.web).then((function(a){a.proceedToPay(e,t).then((function(e){console.log("Payment was successful = "+e),n(r.c.PHONEPE_SWITCH_CONSTANTS.SUCCESS)})).catch((function(e){console.log("Payment failed"+e),n(r.c.PHONEPE_SWITCH_CONSTANTS.FAILURE)}))}))}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));t.d={CLOSED:"CLOSED",SEARCH_IN_CART:"SEARCH_IN_CART",CANCEL:"cancelButtonText",SUBMIT:"Submit",OCCASSOIN_HEADING:"occasionGiveName",OREDER_PLACEHOLDER:"nameThisOrder",YOUR_ORDER:"yourOrder",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",GIFT_CARD:"giftCard",TOTAL:"total",COMPLETED:"completed",NO_ORDER_MSG:"noOrderFor12",REFUND_MSG:"refundMessage",HAVE_A_QUESTION:"haveAQuestion",CONNECT_WITH_SPECIALIST:"connectWithASpecialist",YOUR_PAST_ORDER:"yourPastOrder",LOOKING_FOR_OFFER:"lookingForSpecificOrder",ORDER_HISTORY_TAG:"orderHistory",REFUND_INIT:"refund-initiated",SCHEDULE:"scheduled",REORDER_TEXT:"reorderBtn",GOOD_EVE:"",MSG:"message",MY_FAV_MENU:"myFavorite",ADDRESS:"address",ACCOUNT_SETTING:"accoundSetting",SIGN_OUT:"signOut",REFUND_INIT_TEXT:"refundInitiated",ORDER:"order",TRACK_YOUR_ORDER:"trackYourOrder",AT:"at",GET_HELP:"getHelp",LOAD_MORE:"loadMore",VIEWED:"Viewed",OF:"of",ORDER_LOOKUP:"orderLookup",VIEW_MENU:"viewMenu",ADD_TO_OCCASION:"addToOccasion",VIEW_RECEIPT:"viewReceipt",SAVE:"save",EDIT_OCCASSION_DIALOG_TITLE:"Edit Occasion Name",OCCASSION_LABEL:"Occasion Name",SAME_OCCASSIONNAME_ERROR:"Occasion name already exists",EMPTY_OCCASSION_FIELD_ERROR:"Occasion name should not be empty",ADD_TO_CART_OCCASSION:"Add to Cart",STORE_CLOSED_BUTTON_TEXT:"storeClosedButtonText",ITEM_UNAVAILABLE:"Unavailable",VIEW_ORDER_HISTORY_BTN:"View Order History",MY_OCCASSION_TEXT:"My Occasions",MY_OCCASSION_UNAVAILABLE_TITLE:"You haven't created any occasions yet",DELETE_OCCASSION_TEXT:"Delete this Occassion",REORDER_OCCASSION:"Reorder",MY_FAVOURITE_MENU_TITLE_TEXT:"My Favorite Menu",MY_FAVOURITE_NO_ITEMS_TEXT:"You haven't favorited any items yet",MY_FAVOURITE_BROWSE_MENU:"Browse the menu",EDIT_ITEM_TEXT:"editItemText",MORNING:"morning",NOON:"noon",EVENING:"evening",ACCOUNT_FAV_PAGE:"Account - Favorite Menu",KFC_LOVER:"KFC LOVER",TODAY_AT:"todayAt",ADD_ITEM_TO_CART_TEXT:"addItemToCartText",LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",NAME_EXIST:"nameExistMsg",OCCASION_NAME_VALIDATION:"OccasionNameValidation",UNFAVOURITE_ITEM_MESSAGE:"unFavoriteItemMessage",ACCOUNT_ORDERS:"Account - Order History",TRACK_ORDER:"trackOrder",CANCELLED:"Cancelled",DELIVERED:"Delivered",PICK_UP:"PICK UP"};var a={ACCOUNT_SETTINGS_TEXT:"accoundSetting",DELETE_ACCOUNT_TEXT:"deleteAccount",EDIT_PERSONAL_INFO:"editPersonalInfo",FIRST_NAME_TEXT:"firstNamePlaceholder",LAST_NAME_TEXT:"lastNamePlaceHolder",EMAIL_TEXT:"emailPlaceholder",PHONE_NUMBER_TEXT:"phonePlaceholder",CANCEL:"cancelButtonText",SAVE:"save",PERSONAL_INFO_TEXT:"personalInfo",EDIT:"edit",DELETE_ACCOUNT_MESSAGE:"areYouSureToDeleteAccountText",CONFIRM:"confirm",emailHelpText:"emailHelpText",phoneHelpText:"phoneHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText"},i={COMMUNICATION_PREFERENCES_TEXT:"communicationPreferences",LEAVE:"leaveText",SAVE:"save"},c="https://"},218:function(e,t,n){"use strict";(function(e){var a=n(7),i=n(1),c=n(9),o=n(13),r=n(374),s=n(0),d=function(t){var n=t.isInProgress,d=Object(i.useRef)(null),l=Object(i.useState)(!1),u=Object(a.a)(l,2),b=u[0],v=u[1],j=Object(c.c)((function(t){var a;return null!==(a=function(t){var n,a,i,c,o,r,s,d,l,u,b,v,j,O,m,f,p,h,g,x,N,E,T,I,C,S,A,y,_,D,R,w,L,k,P,M,F,H,U,B,Y,G,K,V,W,q,z,Q,J,X,Z,$;return"development"===(null===(n=e)||void 0===n||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===a?void 0:a.NODE_ENV)&&Object.values(t).forEach((function(e){Object.keys(e).filter((function(e){return/Loading$/.test(e)})).forEach((function(t){!0===e[t]&&console.log("".concat(t,": "),e[t])}))})),(null===(i=t.menuReducer)||void 0===i?void 0:i.isLoading)||(null===(c=t.menuReducer)||void 0===c?void 0:c.isItemDetailsLoading)||(null===(o=t.contentReducer)||void 0===o?void 0:o.isContentfulLoading)||(null===(r=t.profileReducer)||void 0===r?void 0:r.isLoading)||(null===(s=t.placesAutocompleteReducer)||void 0===s?void 0:s.isLoading)||(null===(d=t.placesAutocompleteReducer)||void 0===d?void 0:d.isPlacesReverseGeoLoading)||(null===(l=t.placesAutocompleteReducer)||void 0===l?void 0:l.isPlacesGeoLoading)||(null===(u=t.storesReducer)||void 0===u?void 0:u.isGoogleDistanceLoading)||(null===(b=t.storesReducer)||void 0===b?void 0:b.isStoreStatusLoading)||(null===(v=t.storesReducer)||void 0===v?void 0:v.isNearByStoresLoading)||(null===(j=t.storesReducer)||void 0===j?void 0:j.isStoreTimeSlotsLoading)||(null===(O=t.storesReducer)||void 0===O?void 0:O.isStoreDetailsLoading)||(null===(m=t.cartReducer)||void 0===m?void 0:m.isCouponLoading)||(null===(f=t.cartReducer)||void 0===f?void 0:f.getCouponLoading)||(null===(p=t.cartReducer)||void 0===p?void 0:p.isAddItemLoading)||(null===(h=t.cartReducer)||void 0===h?void 0:h.isRemoveItemLoading)||(null===(g=t.cartReducer)||void 0===g?void 0:g.isRemoveAllItemLoading)||(null===(x=t.cartReducer)||void 0===x?void 0:x.isUpdateQuantityLoading)||(null===(N=t.cartReducer)||void 0===N?void 0:N.isBasketDetailsLoading)||(null===(E=t.cartReducer)||void 0===E?void 0:E.isBasketLoading)||(null===(T=t.cartReducer)||void 0===T?void 0:T.isValidateBasketLoading)||(null===(I=t.giftCardPurchaseReducer)||void 0===I?void 0:I.isPurchaseLoading)||(null===(C=t.createBalanceReducer)||void 0===C?void 0:C.isGiftCardCheckLoading)||(null===(S=t.addHopeContentReducer)||void 0===S?void 0:S.isGetAddHopeContentLoading)||(null===(A=t.moreReducer)||void 0===A?void 0:A.isGetMoreContentLoading)||(null===(y=t.paymentsReducer)||void 0===y?void 0:y.isGetPaymentTendersLoading)||(null===(_=t.paymentsReducer)||void 0===_?void 0:_.isNetbankPaymentLoading)||(null===(D=t.paymentsReducer)||void 0===D?void 0:D.isGetNetBankLoading)||(null===(R=t.paymentsReducer)||void 0===R?void 0:R.isPaytmPaymentLoading)||(null===(w=t.paymentsReducer)||void 0===w?void 0:w.isPhonePeStatusLoading)||(null===(L=t.paymentsReducer)||void 0===L?void 0:L.isPhonePayLoading)||(null===(k=t.paymentsReducer)||void 0===k?void 0:k.isPaytmStatusLoading)||(null===(P=t.paymentsReducer)||void 0===P?void 0:P.isWalletsListLoading)||(null===(M=t.i18nReducer)||void 0===M?void 0:M.isI18Nloading)||(null===(F=t.privacyPolicyReducer)||void 0===F?void 0:F.isLoading)||(null===(H=t.termsOfUseReducer)||void 0===H?void 0:H.isLoading)||(null===(U=t.ourAdsReducer)||void 0===U?void 0:U.isLoading)||(null===(B=t.orderHistoryReducer)||void 0===B?void 0:B.orderHistoryLoading)||(null===(Y=t.orderHistoryReducer)||void 0===Y?void 0:Y.addFavouriteOrderLoading)||(null===(G=t.orderHistoryReducer)||void 0===G?void 0:G.deleteFavouriteOrderLoading)||(null===(K=t.paymentsGoogleSpotReducer)||void 0===K?void 0:K.isSpotLoading)||(null===(V=t.orderReducer)||void 0===V?void 0:V.isPlaceOrder)||(null===(W=t.LoaderReducer)||void 0===W?void 0:W.isLoading)||(null===(q=t.microAppPaymentReducer)||void 0===q?void 0:q.isPaytmPaymentLoading)||(null===(z=t.microAppPaymentReducer)||void 0===z?void 0:z.isPaytmPayStatusLoading)||(null===(Q=t.microAppPaymentReducer)||void 0===Q?void 0:Q.isPhonepePaymentLoading)||(null===(J=t.microAppPaymentReducer)||void 0===J?void 0:J.isPhonepePayStatusLoading)||(null===(X=t.postOrderReducer)||void 0===X?void 0:X.orderAcceptedLoading)||(null===(Z=t.reorderReducer)||void 0===Z?void 0:Z.isReorderStoreStatusLoading)||(null===($=t.authReducer)||void 0===$?void 0:$.isLoading)}(t))&&void 0!==a?a:n}));return Object(i.useEffect)((function(){v(j),j?d.current=setInterval((function(){v(!1)}),25e3):clearTimeout(d.current)}),[j]),b?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"kfc-loader","data-testid":"kfc-loader-id",children:Object(s.jsx)(o.a,{className:"",srcFile:"".concat(r.a),alt:"Loader"})})}):null};d.defaultProps={isInProgress:!1},t.a=d}).call(this,n(137))},22:function(e,t,n){"use strict";n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return x})),n.d(t,"r",(function(){return N})),n.d(t,"s",(function(){return E})),n.d(t,"o",(function(){return T})),n.d(t,"q",(function(){return I})),n.d(t,"k",(function(){return C})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return A})),n.d(t,"m",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return R})),n.d(t,"f",(function(){return w})),n.d(t,"p",(function(){return L})),n.d(t,"n",(function(){return k}));var a=n(46),i=n.n(a),c=n(341),o=n.n(c),r=n(342),s=n.n(r),d=n(179),l=n.n(d),u=n(343),b=n.n(u),v=n(205),j=n.n(v),O=n(206),m=n.n(O);i.a.extend(b.a),i.a.extend(o.a),i.a.extend(s.a),i.a.extend(l.a),i.a.extend(j.a),i.a.extend(m.a);var f=function(e,t){return i.a.unix(e).format(t)},p=function(e,t){return i()(e).format(t)},h=function(e){return i()().format(e)},g=function(){return i()().unix()},x=function(){return i()(new Date)},N=function(e,t){return i()(e,t)},E=function(e,t,n){return i()(e,t).format(n)},T=function(){return i()().valueOf()},I=function(e){return i.a.unix(e)},C=function(e,t){return i()(e,t).unix()},S=function(e){return i.a.duration(i()().diff(i()(e),"ms")).asHours()},A=function(e,t){return i.a.duration(e,t)},y=function(e,t,n){return null===e||void 0===e?void 0:e.diff(t,n)},_=function(e,t,n){if("ASAP"===t)return!1;"-"===t&&(t=x());var a=i()(e,n),c=i()(t,n);return i()(a).isAfter(c)},D=function(e,t,n){return i()(e).isBetween(t,n)},R=function(e,t,n){return i()(e).add(t,n)},w=function(e,t){return e.format(t)},L=function(e){var t=I(e),n=x(),a=y(t,n,"hour"),i=n.add(a,"hours"),c=y(t,i,"minute"),o=i.add(c,"minutes"),r=y(t,o,"second");return!(a<0||c<0||o<0||r<0)},k=function(e){return i()(new Date).diff(I(e),"second")}},24:function(e,t,n){"use strict";t.a={MIN_SEARCH_CHARACTER_LIMIT:2,CONFIRM_BUTTON_TEXT:"confirm",VIEW_MAP_BUTTON_TEXT:"viewMap",SUUGESTED_ITEMS_TEXT:"suggestedSearchTerms",ALLOWED_SUGGESTION_LIST:["locality","political","geocode","point_of_interest","establishment"],ALREADY_SERACHED_LOCATIONS:"seachedLocations",SUGGESTION_ACTIVE_COLOR:"#F8F7F5",SUGGESTION_ACTIVE_OPACITY:"0.9",COLOR_BLACK:"black",BRAND_BLACK:"#202124",COUNTRY_CODE:"IN",COUNTRY_CODE_INDIA:"IN",FULFILLED_TEXT:"fulfilled",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP",DINE_IN:"DINE IN",PICK_UP:"pickup",TAKE_AWAY:"Pick up",OK_STATUS:"OK",DELIVERY_TIME_LIMIT_MINUTES:30,STORE_CARD_LIMIT:5,SERVICE_CHANNEL:"web",TENANT_ID:"15895bb59f7b4bb588ee933f8cd5344a",TENATNT_SESSION_ID:"9b1deb434ff32h4jv23f4v2g3hj4",STORE_STATUS_OPEN:"OPEN",STORE_STATUS_CLOSED:"closed",OPENS_UNTIL:"openUntil",OPENS_TOMORROW:"openTomorrow",STORE_STATUS_CLOSED_CAPS:"CLOSED",EVERYDAY:"EVERYDAY",DATETITLE:"Date",TIMETITLE:"Time",PLACE_PIN:"placePinAtYourLocation",LOCATION_WARNING_MESSAGE:"addressSuggestionHeader",RETRY_TEXT:"retry",USE_THIS_ADDRESS_TEXT:"useAddress",LIST_TEXT:"list",NOTAVAILABLE:"NOT_AVAILABLE",SAVED_ADDRESS:"savedAddress",START_ORDER_TEXT:"startOrder",BROWSE_MENU:"browseMenu",NO_STORE_ERROR_TEXT_TAKEAWAY:"noStoreTextTakeaway",NO_STORE_ERROR_TEXT_DINEIN:"noStoreTextDineIn",TAKE_AWAY_SERVICE:"pickup",DINE_IN_SERVICE:"dine in",DELIVERY_SERVICE:"delivery",SEARCH_THIS_AREA:"searchThisArea",INDIA:"INDIA",TAKEAWAY_UNAVAILABLE_WITH_CTA:"takeAwayUnavalibleErrorTextWithCTA",TAKEAWAY_UNAVAILABLE:"takeAwayUnavalibleErrorText",CTA1_SEARCH_DIFF_ADDRESS:"searchDiffAddressText",DINEIN_UNAVAILABLE:"dineInUnavailableErrorText",DELIVERY_UNAVAILABLE:"deliveryUnavailableErrorText",DELIVERY_UNAVAILABLE_WITH_CTA:"deliveryUnavailableErrorTextWithCTA",CTA2_ORDER_TAKEAWAY:"orderTakeAwayBtnText",CTA2_VIEW_MAP_BUTTON_TEXT:"viewMapErrorButton",HHMM:"hh:mm",LT:"LT"}},270:function(e,t){},3:function(e,t,n){"use strict";(function(e,a){n.d(t,"Y",(function(){return z})),n.d(t,"Z",(function(){return Q})),n.d(t,"nb",(function(){return J})),n.d(t,"gc",(function(){return X})),n.d(t,"qb",(function(){return Z})),n.d(t,"I",(function(){return $})),n.d(t,"lb",(function(){return ee})),n.d(t,"ob",(function(){return te})),n.d(t,"ib",(function(){return ne})),n.d(t,"W",(function(){return ae})),n.d(t,"Lb",(function(){return ie})),n.d(t,"Ib",(function(){return ce})),n.d(t,"k",(function(){return oe})),n.d(t,"Fb",(function(){return re})),n.d(t,"Db",(function(){return se})),n.d(t,"R",(function(){return de})),n.d(t,"P",(function(){return le})),n.d(t,"S",(function(){return ue})),n.d(t,"L",(function(){return be})),n.d(t,"J",(function(){return ve})),n.d(t,"K",(function(){return je})),n.d(t,"B",(function(){return Oe})),n.d(t,"Qb",(function(){return me})),n.d(t,"Rb",(function(){return fe})),n.d(t,"jb",(function(){return pe})),n.d(t,"V",(function(){return ge})),n.d(t,"Gb",(function(){return xe})),n.d(t,"kb",(function(){return Ne})),n.d(t,"Eb",(function(){return Ee})),n.d(t,"g",(function(){return Se})),n.d(t,"h",(function(){return De})),n.d(t,"Kb",(function(){return Re})),n.d(t,"mc",(function(){return we})),n.d(t,"Vb",(function(){return Le})),n.d(t,"T",(function(){return ke})),n.d(t,"mb",(function(){return Pe})),n.d(t,"kc",(function(){return Me})),n.d(t,"Jb",(function(){return Fe})),n.d(t,"D",(function(){return He})),n.d(t,"l",(function(){return Ue})),n.d(t,"ic",(function(){return Ye})),n.d(t,"bb",(function(){return Ge})),n.d(t,"cb",(function(){return Ve})),n.d(t,"fc",(function(){return qe})),n.d(t,"Ob",(function(){return ze})),n.d(t,"sc",(function(){return Je})),n.d(t,"e",(function(){return Xe})),n.d(t,"H",(function(){return Ze})),n.d(t,"lc",(function(){return $e})),n.d(t,"Ab",(function(){return et})),n.d(t,"Ub",(function(){return tt})),n.d(t,"C",(function(){return nt})),n.d(t,"ab",(function(){return at})),n.d(t,"zb",(function(){return it})),n.d(t,"ub",(function(){return ct})),n.d(t,"wb",(function(){return ot})),n.d(t,"eb",(function(){return rt})),n.d(t,"xb",(function(){return st})),n.d(t,"N",(function(){return dt})),n.d(t,"yb",(function(){return lt})),n.d(t,"vb",(function(){return ut})),n.d(t,"pb",(function(){return bt})),n.d(t,"u",(function(){return vt})),n.d(t,"f",(function(){return jt})),n.d(t,"v",(function(){return Ot})),n.d(t,"z",(function(){return mt})),n.d(t,"b",(function(){return ft})),n.d(t,"U",(function(){return pt})),n.d(t,"Hb",(function(){return ht})),n.d(t,"Sb",(function(){return gt})),n.d(t,"r",(function(){return xt})),n.d(t,"X",(function(){return Nt})),n.d(t,"q",(function(){return Et})),n.d(t,"p",(function(){return Tt})),n.d(t,"n",(function(){return It})),n.d(t,"o",(function(){return Ct})),n.d(t,"sb",(function(){return St})),n.d(t,"s",(function(){return At})),n.d(t,"y",(function(){return yt})),n.d(t,"Pb",(function(){return Dt})),n.d(t,"qc",(function(){return wt})),n.d(t,"rc",(function(){return kt})),n.d(t,"nc",(function(){return Pt})),n.d(t,"oc",(function(){return Mt})),n.d(t,"Bb",(function(){return Ht})),n.d(t,"Cb",(function(){return Ut})),n.d(t,"Nb",(function(){return Bt})),n.d(t,"c",(function(){return Yt})),n.d(t,"cc",(function(){return Gt})),n.d(t,"Zb",(function(){return Kt})),n.d(t,"ac",(function(){return Vt})),n.d(t,"bc",(function(){return Wt})),n.d(t,"ec",(function(){return qt})),n.d(t,"dc",(function(){return zt})),n.d(t,"Yb",(function(){return Qt})),n.d(t,"Q",(function(){return Jt})),n.d(t,"t",(function(){return Zt})),n.d(t,"rb",(function(){return $t})),n.d(t,"Mb",(function(){return en})),n.d(t,"x",(function(){return tn})),n.d(t,"j",(function(){return nn})),n.d(t,"Xb",(function(){return an})),n.d(t,"d",(function(){return cn})),n.d(t,"a",(function(){return on})),n.d(t,"F",(function(){return rn})),n.d(t,"Tb",(function(){return sn})),n.d(t,"m",(function(){return dn})),n.d(t,"i",(function(){return ln})),n.d(t,"gb",(function(){return un})),n.d(t,"O",(function(){return bn})),n.d(t,"jc",(function(){return vn})),n.d(t,"pc",(function(){return jn})),n.d(t,"M",(function(){return On})),n.d(t,"Wb",(function(){return mn})),n.d(t,"fb",(function(){return fn})),n.d(t,"tb",(function(){return pn})),n.d(t,"hc",(function(){return hn})),n.d(t,"G",(function(){return gn})),n.d(t,"w",(function(){return xn})),n.d(t,"hb",(function(){return Nn})),n.d(t,"A",(function(){return En})),n.d(t,"E",(function(){return Tn})),n.d(t,"db",(function(){return In}));var i,c,o=n(6),r=n.n(o),s=n(15),d=n(36),l=n(23),u=n(2),b=n(70),v=n(29),j=n(33),O=n(28),m=n(30),f=n(8),p=n(5),h=n(344),g=n(180),x=n(51),N=n(16),E=n(43),T=n(117),I=n(14),C=n(21),S=n(10),A=n(110),y=n(47),_=n(37),D=n(42),R=n(31),w=n(79),L=n(22),k=n(13),P=n(349),M=n(151),F=n(20),H=n(0),U=D.a.PHONE_NUM,B=n(279),Y=[375,540,720,960,1140],G=["xs","sm","md","lg","xl"],K=T.a.MEMBER_SOURCE,V=T.a.REFRESH_SOURCE,W=S.a.CURRENT_STORE_INFO,q=S.a.SET_DISPOSITION,z=function(e){var t,n=e[f.I]||[],a={},i=Object(b.a)(n);try{for(i.s();!(t=i.n()).done;){var c,o,r,s=t.value,d=Object(u.a)({},s.fields);delete d.title;var l=null===s||void 0===s||null===(c=s.sys)||void 0===c||null===(o=c.contentType)||void 0===o||null===(r=o.sys)||void 0===r?void 0:r.id;l===E.a.ORDERSERV?a[s.fields.name]=Object(u.a)({},d):a[l]=Object(u.a)({},d)}}catch(v){i.e(v)}finally{i.f()}return a},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={headerSection:[],subHeaderSection:[]};return t.headerSection=e&&e.fields&&e.fields.headerSection||[],t.subHeaderSection=e&&e.fields&&e.fields.subHeaderSection||[],t},J=function(e){return e&&e[0]&&e[0].fields?{disposition:e[0].fields.disposition}:{}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.toUpperCase():""},Z=function(e){return Object(L.l)(e,"h:mm A")},$=function(e){return Object(L.l)(e,"MMM D,YYYY")},ee=function(e){var t=((e||{}).privacyPolicyResp||{}).items,n=null===t||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.fields}));return{headerData:{title:n[0].title,effectiveDate:Object(L.e)(n[0].effectiveDate,"MMMM D, YYYY")},description:n[0].description,questionList:n[0].body.map((function(e){return e.fields}))}},te=function(e){var t,n,a,i,c,o=(e||{}).termsResponseData,r=(o=void 0===o?{}:o).items,s=null===r||void 0===r?void 0:r.map((function(e){return null===e||void 0===e?void 0:e.fields}));return{headerData:{title:null===(t=s[0])||void 0===t?void 0:t.title,description:null===(n=s[0])||void 0===n||null===(a=n.description)||void 0===a||null===(i=a.content[0])||void 0===i||null===(c=i.content[0])||void 0===c?void 0:c.value},questionList:s[0].body.map((function(e){return e.fields}))}},ne=function(e){var t=((e||{}).ourAdsResp||{}).items.map((function(e){return e.fields}));return{headerData:{title:t[0].title,effectiveDate:Object(L.e)(t[0].effectiveDate,"MMMM D, YYYY")},description:t[0].description,questionList:t[0].body.map((function(e){return e.fields}))}},ae=function(e){var t,n,a,i,c,o,r,s,d,l,u,b,v=((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.giftCardResp)||void 0===n||null===(a=n.items[0])||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.body)||[]).map((function(e){return e.fields}));return{headerData:{headline:null===(c=v[0])||void 0===c?void 0:c.headline,subHeadline:null===(o=v[0])||void 0===o?void 0:o.subHeadline},desktopImage:null===(r=v[1])||void 0===r?void 0:r.desktopImage.fields.file,mobileImage:null===(s=v[1])||void 0===s?void 0:s.mobileImage.fields.file,giftAmount:{title:null===(d=v[2])||void 0===d?void 0:d.shortText,list:null===(l=v[2])||void 0===l?void 0:l.listText},termsncondition:{data:null===(u=v[3])||void 0===u?void 0:u.longText,title:null===(b=v[3])||void 0===b?void 0:b.shortText}}},ie=function(e){return window&&e<1024||(window&&window.matchMedia("only screen &(max-width:1023px)")).matches},ce=function(){return(window&&window.matchMedia("".concat(f.M))).matches},oe=function(e){return!e&&Object(H.jsx)(k.a,{className:"add-to-cart-Icon",srcFile:M.a})},re=function(e){var t=!1;return e&&Object.keys(e).length&&(t=!0),t},se=function(e){var t=Array.isArray(e);return t?0===e.length:t},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.fields&&e.fields.footerContent||[]},le=function(e){var t=(e&&e.helpResponse&&e.helpResponse.Help&&e.helpResponse.Help.fields||[]).content,n=void 0===t?[]:t,a=n.filter((function(e){return e.fields.question})).map((function(e){return{question:e.fields.question,answer:e.fields.answer&&e.fields.answer.content[0].content[0].value}})),i=n.filter((function(e){return e.fields.buttonText&&"View All FAQs - Button"===e.fields.name})).map((function(e){return e.fields.buttonText})),c=n.filter((function(e){return e.fields.buttonText&&"FAQ - Call us"===e.fields.name})).map((function(e){return e.fields.buttonText})),o=n.filter((function(e){return e.fields.buttonText&&"Contact Us button"===e.fields.name})).map((function(e){return e.fields.buttonText})),r=n.filter((function(e){return e.fields.headline})).map((function(e){return e.fields.headline}));return{faqData:{faqContent:Object(l.a)(a),faqButtonText:i[0]},contactData:{headline:r[0],callButtonText:c[0],mailButtonText:o[0]}}},ue=function(e){var t=e.ourFaqResp.items[0].fields,n=t.body.map((function(e){var t=e.sys;return"callToAction"===t.contentType.sys.id||"navigationLink"===t.contentType.sys.id||"logoicon"===t.contentType.sys.id||"faq"===t.contentType.sys.id?e:void 0}));return{FinalData:t.faqTopics.map((function(e){var t=e.fields.title;return{QuesAns:e.fields.topicContent.map((function(e){return e.fields})),Title:t}})),ButtonInfo:n}},be=function(e){var t="";switch(null===e||void 0===e?void 0:e.toUpperCase()){case f.ob:t=f.o;break;case f.qb:case f.rb:t=f.bb;break;case f.pb:t=f.s;break;default:console.error("Unknown disposition",e)}return t},ve=function(e){var t="";switch(e.toLowerCase()){case f.bb:t=f.kb;break;case f.s:t=f.t;break;case f.o:t=f.p}return t},je=function(e){var t="";switch(null===e||void 0===e?void 0:e.toUpperCase()){case f.x.PICKUP:t=f.y.PICKUP;break;case f.x.DINE_IN:t=f.y.DINE_IN;break;case f.x.DELIVERY:t=f.y.DELIVERY}return t},Oe=function(e){var t=Y.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})),n=Y.indexOf(t);return G[n]},me=function(e){var t;try{t=JSON.parse(e)}catch(n){t=e}return t},fe=function(e){return(null===e||void 0===e?void 0:e.length)&&e.reduce((function(e,t){var n=t.key,a=t.value;return Object(u.a)(Object(u.a)({},e),{},Object(d.a)({},n,"True"===a||"False"!==a&&me(a)))}),{})},pe=function(e,t){if(!re(e))return 0;var n=e.dayOfWeek,a=e.availableHours,i=e.price,c=a.startTime,o=a.endTime,r="HH:mm",s=Object(L.r)(c.time.replace(/(..?)/g,"$1:").slice(0,-1),r),d=Object(L.r)(o.time.replace(/(..?)/g,"$1:").slice(0,-1),r),l=Object(L.d)(new Date,s,d),u=Object(L.c)("dddd"),b="EVERYDAY"===n.day||n.day===u.toUpperCase();return l&&b?i/t:0},he=function(e){return e&&e.length&&e[0]&&e[0].value||""},ge=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=a.tenantId,r=a.authoredContent,s=(null===r||void 0===r||null===(e=r.appUpdate)||void 0===e||null===(t=e.minSupportedVersion)||void 0===t?void 0:t.imageVersion)||0,d=ke("image_version");if((!d||d<s)&&(d=s,Me("image_version",s)),!o)return"";var l=Object(m.a)(O.K),u=Object(m.a)(O.L),b=Oe(window.innerWidth),v=re(n)&&he(n);if(i)return l+o+u+f.n;if(!i&&v){var j=c?"/images/categories/":u+b+"/";return l+o+j+v+".jpg?ver="+d}return""},xe=function(e,t){if(null===e)return!0;var n=!0,a="object"==typeof e.date?e.date:new Date(e.date),i="object"==typeof t.date?t.date:new Date(t.date);return e.time===t.time&&a.setHours(0,0,0,0)===i.setHours(0,0,0,0)||(n=!1),n},Ne=function(e,t,n){var a="ASAP"===n?Object(L.s)(Object(L.g)(),"hh:mm","LT"):n,i=e[0],c=i.dayOfWeek,o=i.availableHours,r=o.startTime,s=o.endTime,d="HH:mm",l=Object(L.r)(r.time.replace(/(..?)/g,"$1:").slice(0,-1),d),u=Object(L.r)(s.time.replace(/(..?)/g,"$1:").slice(0,-1),d),b=Object(L.r)(a,d),v=Object(L.d)(b,l,u),j=Object(L.c)("dddd"),O="EVERYDAY"===c.day||c.day===j.toUpperCase();return v&&O},Ee=function(e){return!e||Object.values(e).every((function(e){return null===e||""===e}))},Te=function(e){return"ASAP"===e.selectedTime},Ie=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=window)||void 0===n?void 0:n.google)){e.next=11;break}return e.next=3,Object(A.geocodeByAddress)(t);case 3:return i=e.sent,e.next=6,Object(A.getLatLng)(i[0]);case 6:return c=e.sent,o=Object(g.a)(null===(a=i[0])||void 0===a?void 0:a.address_components),e.abrupt("return",Object(u.a)(Object(u.a)({},o),{},{location:{latitude:c.lat.toString(),longitude:c.lng.toString()}}));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e,t){return e===f.o?Ie(t):{}},Se=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a,i,c){var o,s,d,l,u,b,v,j,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||re(t)){e.next=2;break}return e.abrupt("return");case 2:return s=null===(o=w.a.getItem("access_token"))||void 0===o?void 0:o.secret,d=x.a.getCustomerIdFromToken(s),l=JSON.parse(localStorage.getItem("dispositionNew")),u=i||l,b=c||(null===l||void 0===l?void 0:l.deliveryAddress),v=Te(u),j=Object(L.r)(Object(L.e)(null===u||void 0===u?void 0:u.date,"YYYY-MM-DD")+" "+(null===u||void 0===u?void 0:u.time),"YYYY-MM-DD h:mm A").unix(),O={storeId:t.id,service:n,channel:N.b.channel,requestedDateTime:{isForNow:v,futureDateTime:v?0:j},customerId:d,catalog:t.summary.menu.catalogs[0],lang:t.addresses[0].lang,source:ie(window.innerWidth)?f.jb:f.ib},e.next=12,Ce(n,b);case 12:return O.deliveryAddress=e.sent,e.abrupt("return",O);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c){return e.apply(this,arguments)}}(),Ae=function(e){return e.toString(16).padStart(2,"0")},ye=function(e){return e.toString(B.enc.Base64).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},_e=function(){return i=function(e){var t=new Uint8Array((e+1||40)/2);return window.crypto.getRandomValues(t),Array.from(t,Ae).join("")}(45),c=function(e){return c=ye(B.SHA256(e))}(i),{code_verifier:i,code_challenge:c}},De=function(){var e=window.location.origin+Object(m.a)(O.D),t=_e();localStorage.setItem("code_challenge",JSON.stringify(null===t||void 0===t?void 0:t.code_challenge)),localStorage.setItem("code_verifier",JSON.stringify(null===t||void 0===t?void 0:t.code_verifier)),localStorage.setItem("redirect_path_name",window.location.pathname);var n=JSON.parse(localStorage.getItem("code_challenge")),a="".concat(Object(m.a)(O.C),"scope=").concat(Object(m.a)(O.f),"&response_type=").concat(Object(m.a)(O.e),"&client_id=").concat(Object(m.a)(O.c),"&redirect_uri=").concat(e,"&state=").concat(Object(m.a)(O.E),"&code_challenge=").concat(n,"&code_challenge_method=").concat(Object(m.a)(O.d));window.location.assign(a)},Re=function(e){return[K,V].includes(e)},we=function(){var e=localStorage.getItem("redirect_path_name");return"/signout"===e?"/":e},Le=function(t){if(t&&t.token){var n=t.token.split(".")[1],a=e.from(n,"base64");return ft(a.toString())}},ke=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0},Pe=function(e){return localStorage.getItem(e)},Me=function(e,t){localStorage.setItem(e,JSON.stringify(t))},Fe=function(e){return e in localStorage},He=function(e,t,n){var a=e.key;n(Object(h.a)({object:Object(R.a)(),contentFull:{content_type:"i18nConfig",locale:a,include:"5"},userParams:t}))},Ue=function(e){var t,n,a;y.b.dark(Object(H.jsxs)("div",{className:"toast-Container",children:[Object(H.jsx)("p",{children:e>1?f.tb:f.sb}),!(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n||null===(a=n.pathname)||void 0===a?void 0:a.includes(f.f))&&Object(H.jsxs)("button",{className:"button whiteButton toast-button",onClick:Be,children:[Object(H.jsxs)("span",{className:"text",children:[" ",Object(p.e)("viewCart")]}),Object(H.jsx)(k.a,{srcFile:P.a})]})]}),{hideProgressBar:!0,bodyClassName:"add-to-toast",className:"toast-addToCart",position:y.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){y.b.dismiss()}),3e3)},Be=function(){y.b.dismiss(),window.open(f.eb.CART,f.fb)},Ye=function(){if(localStorage.getItem("seachedLocations")){var e=JSON.parse(localStorage.getItem("seachedLocations")),t=e[e.length-1];localStorage.setItem("searchStoreByAttribute",t)}},Ge=function(e,t){var n;return(null===t||void 0===t||null===(n=t.foodLines)||void 0===n?void 0:n.length)?Ke(e,t.foodLines):{}},Ke=function(e,t){for(var n=0,a="",i=0,c=0,o=0;o<(null===t||void 0===t?void 0:t.length);o++){var r,s;if(e===(null===(r=t[o])||void 0===r||null===(s=r.item)||void 0===s?void 0:s.id)){i++;var d=t[o];n+=d.quantity,a=d.id,c=d.amount}}return{count:n,matchedItemFoodLineId:a,entriesCount:i,itemUnitPrice:c}},Ve=function(e,t){var n;return(null===t||void 0===t||null===(n=t.foodLines)||void 0===n?void 0:n.length)?We(e,t.foodLines):{}},We=function(e,t){for(var n=0,a=0;a<(null===t||void 0===t?void 0:t.length);a++){var i;if(e===(null===(i=t[a])||void 0===i?void 0:i.id))n+=t[a].quantity}return{count:0===n?1:n}},qe=function(){if(!window.location.href.includes("code")){var e,t,n,a,i,c,o,r,s=(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.pathname)||void 0===n?void 0:n.includes(Object(m.a)(O.D)))?"/":null===(a=window)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.pathname,d=(null===(c=window)||void 0===c||null===(o=c.location)||void 0===o||null===(r=o.search)||void 0===r?void 0:r.includes("restaurantid"))?window.location.search:"";localStorage.setItem("redirect_path_name",s+d),window.location.href=Object(m.a)(O.H)}},ze=function(e,t){var n=x.a.getIATfromToken(e),a=Math.round(Object(L.o)()/1e3);return n+parseInt(t,10)>a},Qe=function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,a,i,c,o,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"NA",n=s.length>1&&void 0!==s[1]?s[1]:"NA",a=s.length>2&&void 0!==s[2]&&s[2],i=s.length>3&&void 0!==s[3]&&s[3],c=s.length>4&&void 0!==s[4]?s[4]:"NA",o=s.length>5&&void 0!==s[5]?s[5]:"NA",e.next=8,v.a.registerEvent(j.a.customDimension.name,{"%event%":"setAttributes","%collectionPoint%":t,"%disposition%":n,"%loggedIn%":a,"%postLocalisation%":i,"%storeID%":c,"%userID%":o,"%platform%":"'web'"},Ze);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(e){e.CollectionPoint&&Qe(e.CollectionPoint,e.DispositionType,e.loggedIn,e.localized,e.StoreID,e.loggedIn?e.UserId:"NA")},Xe=function(e){try{var t=atob(e);return JSON.parse(t)}catch(n){console.warn("invalid base64 encoded string")}},Ze=function(){return window.dataLayer=window.dataLayer||[]},$e=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.registerEvent(null===(n=j.a.virtualPageView)||void 0===n?void 0:n.name,{"%event%":t.triggeredEvent,"%pageUrl%":t.path,"%pageTitle%":t.pageHeading},Ze);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(e){e.push({pathname:"/menu"})},tt=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e({type:a,value:{modalOpenFrom:null===t||void 0===t?void 0:t.flag,modalToOpenOnConfirm:null===t||void 0===t?void 0:t.onConfirm,confirmCallBack:i}}),e({type:n,value:{showCartClearAlert:!0}})},nt=function(e){var t=e.contactUsResp;if(t&&t.items){var n,a,i,c,o,r,s,d,l,b,v,j,O,m=(t.items&&(null===t||void 0===t?void 0:t.items[0])||{}).fields,p=null===m||void 0===m||null===(n=m.body)||void 0===n?void 0:n.map((function(e){return e.fields})),h=p.filter((function(e){return e.linkText&&e.linkText.toUpperCase()===f.A})),g={headline:null===(a=p[1])||void 0===a?void 0:a.headline,subHeadline:null===(i=p[1])||void 0===i?void 0:i.subHeadline,callUsButtonData:Object(u.a)(Object(u.a)({},p[2]),{},{icon:null===(c=p[2])||void 0===c||null===(o=c.image)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url}),faqButtonData:h[0]};return h.length?{headerData:g,bodyFormData:{headline:null===(d=p[4])||void 0===d?void 0:d.headline,topicOptions:[Object(u.a)(Object(u.a)({},p[5]),{},{contents:null===(l=p[7])||void 0===l||null===(b=l.content)||void 0===b?void 0:b.map((function(e){return e.fields}))}),Object(u.a)({},p[6])]}}:{headerData:g,bodyFormData:{headline:null===(v=p[3])||void 0===v?void 0:v.headline,topicOptions:[Object(u.a)(Object(u.a)({},p[4]),{},{contents:null===(j=p[6])||void 0===j||null===(O=j.content)||void 0===O?void 0:O.map((function(e){return e.fields}))}),Object(u.a)({},p[5])]}}}return null},at=function(e){var t,n,a,i,c,o,r="",s=e&&e.Help&&e.Help.fields||[];if(s.title===f.E){var d,l,u,b,v,j,O,m,p,h,g,x,N,E,T,I,C,S,A,y,_,D,R,w;r=s.title,t=(t=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.E))})))?t[0][f.C][f.G]:"",n=(n=null===s||void 0===s||null===(d=s.body)||void 0===d?void 0:d.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.name)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.indexOf(f.U))})))?n[0][f.C][f.T]:"",a=null===s||void 0===s||null===(l=s.body)||void 0===l?void 0:l.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.description)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.description)||void 0===a?void 0:a.indexOf(f.d))}));var L=vt(a,null===(u=a)||void 0===u?void 0:u.length);a.title=bt(L,a[0][f.C][f.lb],""),a.description=bt(L,a[0][f.C][f.q],""),a.contactNo=bt(L,a[0][f.C][f.i][0][f.C][f.ab],""),a.buttonText=bt(L,a[0][f.C][f.i][0][f.C][f.c],""),a.icon=bt(L?a[0][f.C][f.i][0][f.C][f.K][f.C][f.D][f.vb]:""),i=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.h))}));var k=vt(i,null===(b=i)||void 0===b?void 0:b.length);i.title=bt(k,i[0][f.C][f.lb],""),i.description=bt(i,i[0][f.C][f.q],""),i.linkText=bt(k,i[0][f.C][f.i][0][f.C][f.O],""),i.linkUrl=bt(k,i[0][f.C][f.i][0][f.C][f.L],""),i.mobileImage=bt(k,i[0][f.C][f.i][0][f.C][f.J][f.C][f.S][f.C][f.D][f.vb],""),i.desktopImage=bt(k,i[0][f.C][f.i][0][f.C][f.J][f.C][f.r][f.C][f.D][f.vb],""),function(e,t){if(null===t||void 0===t?void 0:t.length){var n=vt(e,null===e||void 0===e?void 0:e.length);t.title=bt(n,t[0][f.C][f.lb],""),t.description=bt(n?t[0][f.C][f.q]:"");var a=t?t[0][f.C][f.i].filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.B))})):"";t.topics=a?a[0][f.C][f.mb]:[];var i=t?t[0][f.C][f.i].filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.xb))})):"";t.btnText=i?i[0][f.C][f.O]:"",t.linkUrl=i?i[0][f.C][f.L]:""}}(i,c=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.A))}))),o=null===s||void 0===s||null===(v=s.body)||void 0===v?void 0:v.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.gb))}));var P=vt(o,null===(j=o)||void 0===j?void 0:j.length);return o.title=bt(P,null===(O=o)||void 0===O||null===(m=O[0])||void 0===m||null===(p=m[f.C])||void 0===p?void 0:p[f.lb],""),o.description=bt(P,null===(h=o)||void 0===h||null===(g=h[0])||void 0===g||null===(x=g[f.C])||void 0===x?void 0:x[f.q],""),o.linkUrl=bt(P,null===(N=o)||void 0===N||null===(E=N[0])||void 0===E||null===(T=E[f.C])||void 0===T||null===(I=T[f.i])||void 0===I||null===(C=I[0])||void 0===C||null===(S=C[f.C])||void 0===S?void 0:S[f.vb],""),o.btnText=bt(P,null===(A=o)||void 0===A||null===(y=A[0])||void 0===y||null===(_=y[f.C])||void 0===_||null===(D=_[f.i])||void 0===D||null===(R=D[0])||void 0===R||null===(w=R[f.C])||void 0===w?void 0:w[f.c],""),{bannerTitle:r,helpSectionHeadline:t,helpSectionNearestKFC:n,helpSectionCallDetails:a,helpSectionContactDetails:i,faqSectionDetails:c,surveyDetails:o}}return{}},it=function(e){return e||null},ct=function(e,t){return e||t},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||{}},rt=function(e){return e&&e.length},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||0},dt=function(e){return null===e?{}:e},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||""},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e||[]},bt=function(e,t,n){return e?t:n},vt=function(e,t){return e&&t},jt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e&&t}),!0)},Ot=function(e,t){return e||t},mt=function(e,t,n){return e||t||n},ft=function(e){try{return JSON.parse(e)}catch(t){return null}},pt=function(e){if(re(e)){var t=e.addressLines,n=e.city,a=e.state,i=e.country,c=e.pinCode;return"".concat(t.join(" ")," ").concat(n," ").concat(a," ").concat(i," ").concat(c)}return null},ht=function(){var e=!1;return"true"===Object(m.a)(O.a)&&(e=!0),e},gt=function(e){var t=document.getElementById("billdeskScript");if(!t){var n=document.createElement("script");n.src=Object(m.a)(O.h)+"/cscv/bdci.payment.js",n.id="billdeskScript",document.body.appendChild(n),n.onload=function(){e&&e()}}t&&e&&e()},xt=function(e){return 10===(null===e||void 0===e?void 0:e.length)?"".concat(e.slice(0,3),"-").concat(e.slice(3,6),"-").concat(e.slice(6,10)):e},Nt=function(){var e=C.d.MORNING,t=C.d.NOON,n=C.d.EVENING,a=(new Date).getHours();return a<12?Object(p.e)(e):a>=12&&a<17?Object(p.e)(t):Object(p.e)(n)},Et=function(e){return e.filter((function(e){return!e.isHidden})).length},Tt=function(e){return e.filter((function(e){return!e.isHidden}))},It=function(e,t){return re(e)&&t&&t.find((function(t){var n=t.name;return!t.isHidden&&n.trim()===e.name.trim()}))?e.name.trim():""},Ct=function(e,t){return re(e)&&t&&t.find((function(t){var n=t.name;return!t.isHidden&&n.trim()===e.name.trim()}))?e.id:""},St=function(e,t,n,a){var i=0;return t.length>0&&t.forEach((function(e){e.modifiers&&e.modifiers.length>0&&e.modifiers.forEach((function(e){i+=e.unitPrice}))})),(e*a+i)*n/a},At=function(e,t,n,a){return _t(e,t,n,a)},yt=function(e,t,n,a){return _t(e,t,n,a)},_t=function(e,t,n,a){var i,c=_.a.CART_SUMMARY_CARD;return a===(void 0===c?{}:c).SEARCH_IN_MENU?(i=e.filter((function(e){return e.name===t}))).length>0?{id:i[0].id,price:pe(i[0].availability[0],n)}:{}:(i=e.filter((function(e){return e.item.name===t}))).length>0?{id:i[0].id}:{}},Dt=function(e){return null!==e&&e!={}&&e!=[]&&""!==e&&void 0!==e},Rt=0,wt=function(e,t,n){var a=Object(u.a)({},e),i=a.errorMessage;return a.value=t,t?10!==t.length||isNaN(t)||!/^\d*$/.test(t)?(a.error=!0,a.errorMessage=Object(p.e)("invalidPhoneNumberErrText"),n(!0)):(a.error=!1,a.errorMessage="",Rt=0):(a.error=!0,a.errorMessage=Object(p.e)("phonenumberEmptyHelpText"),n(!0)),i!==a.errorMessage&&(Rt=0),a.error&&0===Rt&&(Rt=1,On("OrderLookup",a.errorMessage)),a},Lt=0,kt=function(e,t,n){var a=Object(u.a)({},e),i=a.errorMessage;return a.value=t,t?t.length<2||""===t.trim()?(a.error=!0,a.errorMessage=Object(p.e)("invalidOrderId")):(a.error=!1,a.errorMessage="",Lt=0):(a.error=!0,a.errorMessage=Object(p.e)("enterYourOrderNo"),n(!0)),i!==a.errorMessage&&(Lt=0),a.error&&0===Lt&&(Lt=1,On("OrderLookup",a.errorMessage)),a},Pt=function(e,t){y.b.dark(Object(H.jsx)("div",{"data-testid":"validate-toast",className:"img-text-div",children:Object(H.jsx)("span",{className:"text",children:e||t})}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:y.b.POSITION.BOTTOM_CENTER})},Mt=function(e,t){y.b.dark(Object(H.jsxs)("div",{className:"img-text-div",children:[t," ",Object(H.jsx)("span",{className:"text",children:e})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:y.b.POSITION.BOTTOM_CENTER})},Ft=function(e,t){var n,a,i=e.amount,c=t.currencyConversionFactor,o=t.currencySymbol,r=t.store,s=null!==(n=null===r||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.menu)&&void 0!==n?n:{},d=s.maxOrderAmount,l=void 0===d?0:d,u=s.minOrderAmount,b=void 0===u?0:u,v="",j=_.a.MIN_ORDER_AMOUNT_MESSAGE,O=_.a.MAX_ORDER_AMOUNT_MESSAGE;return(null===i||void 0===i?void 0:i.errorCode)===f.b.MINIMUM_AMOUNT&&b?v="".concat(Object(p.e)(j)," ").concat(o).concat(b/c):(null===i||void 0===i?void 0:i.errorCode)===f.b.MAXIMUM_AMOUNT&&l&&(v="".concat(Object(p.e)(O)," ").concat(o).concat(l/c)),{amountStatus:null===i||void 0===i?void 0:i.status,amountMessage:i.message,errMsg:v}},Ht=function(e,t){if(!Object(I.isEmpty)(e)){var n=Object(I.get)(e,"overAll.status",!1),a=Object(I.get)(e,"overAll.message",Object(p.e)("somethingWentWrong"))||Object(p.e)("somethingWentWrong");if(n)Pt(a);else{var i=a;if(Object(I.get)(e,["items","validationStatus","status"],!0))for(var c in e)if("amount"===c){var o=Ft(e,t),r=o.amountStatus,s=o.amountMessage,d=o.errMsg;if(!r){Pt("".concat(s," ").concat(d),a);break}}else if("overAll"!==c){if(!Object(I.get)(e,[c,"status"],!0)){i=Object(I.get)(e,[c,"message"],a),Pt(i,a);break}if(!Object(I.get)(e,[c,"validationStatus","status"],!0)){i=Object(I.get)(e,[c,"validationStatus","message"],a),Pt(i,a);break}}}}},Ut=function(e){var t=!0;if(re(e)){var n,a=e.items;t=null===a||void 0===a||null===(n=a.validationStatus)||void 0===n?void 0:n.status}return t},Bt=function(){var e=navigator.userAgent.toLowerCase(),t=!1;try{t=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||window.safari.pushNotification).toString()}catch(n){console.log(n)}return t=t||-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")&&-1!==e.indexOf("version/")},Yt=function(e,t){return(null===e||void 0===e?void 0:e.length)&&e.toString().trim().length>t},Gt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.eb.HOME_PAGE})},Kt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.eb.CART})},Vt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.eb.CHECKOUT,ShowPaymentError:n})},Wt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.eb.GIFT_CARD,ShowFailureError:n})},qt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.eb.PAYMENT_SUCCESS})},zt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.eb.PAYMENT_FAILURE})},Qt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.eb.ACTIVE_ORDERS})},Jt=function(e,t,n){var a=e;return e.length>0&&(a=e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===(i=e.item)||void 0===i?void 0:i.name)!==n}))),a},Xt=function(e){return e?+e:"NA"},Zt=function(e,t,n,a,i){return e===t?Xt(a):e===n?Xt(i):"NA"},$t=function(e,t){return e&&t.cartEditClicked&&t.minipdpData.itemId===e.id},en=function(e){var t=60*Number(Object(m.a)(f.l.QR_CODE_VALID_TIME_MINS));return Object(L.n)(e)<t},tn=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a,i,c,o,s){var d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(i,c,o,s);case 2:return d=e.sent,n&&a?d.qrOrder={isQROrder:!0,qrScannedTime:a}:t(Object(F.j)("")),e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c,o,r){return e.apply(this,arguments)}}(),nn=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a,i,c){var o,s,d,l,u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=i.dispositionNew,d=Ee(d)?JSON.parse(localStorage.getItem("dispositionNew")):d,l={storeInfo:null===(o=d)||void 0===o?void 0:o.store,dispositionType:be(null===(s=d)||void 0===s?void 0:s.type)},u=en(c),e.next=6,tn(t,u,c,l.storeInfo,l.dispositionType);case 6:b=e.sent,t(n({data:b,tenantId:a}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c){return e.apply(this,arguments)}}(),an=function(e,t){return t===U&&e.length<=10},cn=function(e,t){return t&&t.filter((function(t){return t.id===e}))||{}},on=function(e){return Object(H.jsxs)("span",{children:[(null===e||void 0===e?void 0:e.addressLines[2])&&Object(H.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[2],", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(H.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(H.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.state)&&Object(H.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(H.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(H.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})},rn=function(e){var t="/"===e.charAt(0)&&e.substring(1),n="";return e.includes("menu")?n="PLP":e.includes("menu")||e.includes("pdp")?n="PDP":e.includes("account")||e.includes("cart")?n=t.charAt(0).toUpperCase()+t.slice(1):"/"===e&&(n="Home"),n},sn=function(e,t){var n=ut(JSON.parse(localStorage.getItem(t)));n.push(e.trim());var a,i=new Set(n),c=Object(b.a)(n);try{for(c.s();!(a=c.n()).done;){var o=a.value;i.has(o)&&i.delete(o),i.add(o)}}catch(r){c.e(r)}finally{c.f()}localStorage.setItem(t,JSON.stringify(Object(l.a)(new Set(Object(l.a)(i)))))},dn=function(){document.querySelector("body").style.overflow="hidden"},ln=function(){document.querySelector("body").style.overflow="auto"},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length>0?e.map((function(e){var t;return null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.dname[0])||void 0===t?void 0:t.value})).join(", ")})).join(", "):[];return t},bn=function e(t,n,a,i){var c=n.categories.find((function(e){return e.id===t.parentID}));return c&&c.parentID!==i&&(a.push(c.name),e(c,n,a,i)),a.slice().reverse().join(" > ")},vn=function(e,t,n,a){var i=it(e);localStorage.setItem(f.j,JSON.stringify(i)),t({type:W,value:i}),t({type:q,value:{oldvalue:n,newValue:{type:a,store:i,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem(f.v,JSON.stringify(n)),localStorage.setItem(f.u,JSON.stringify({type:a,store:i,date:"",time:"",interval:"",deliveryAddress:""}))},jn=function(e,t,n){return!n&&(null===e||void 0===e?void 0:e.length)>t?e.substring(0,t)+"...":e},On=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.registerEvent(null===(a=j.a.embeddedErrorMessage)||void 0===a?void 0:a.name,{"%event%":"embeddedErrorMessage","%popupOrPageTitle%":t||"NA","%errorMessage%":n||"NA"},Ze);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mn=function(e,t){On("KFC Payment Failure",Object(p.e)(e)+" "+Object(p.e)(t))},fn=function(e,t,n,a,i,c){e&&(null===t||void 0===t?void 0:t.categorySelected)&&n.minipdpData.itemId===e.id&&a&&i(c({showProductListingModal:!0,categorySelected:null===t||void 0===t?void 0:t.categorySelected}))},pn=function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,v.a.registerEvent(null===j.a||void 0===j.a||null===(t=j.a.transactionFailed)||void 0===t?void 0:t.name,{"%event%":"checkoutClick","%errorMessage%":n},Ze);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hn=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||""},gn=function(e){return e?x.a.getCustomerIdFromToken(e):""};function xn(e){var t,n=f.m,a=function(e,t,n){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.day)===t}))}(e,n[(new Date).getDay()]);return 0===(null===(t=a)||void 0===t?void 0:t.length)&&(a=e.filter((function(e){return(null===e||void 0===e?void 0:e.day)===n[n.length-1]}))),a}function Nn(e){var t="";if(1===(null===e||void 0===e?void 0:e.length))t=Object(I.get)(e,f.yb,!1);else if((null===e||void 0===e?void 0:e.length)>1){t=(null===e||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from})).sort((function(e,t){return(null===e||void 0===e?void 0:e.split(":")[0])-(null===t||void 0===t?void 0:t.split(":")[0])})))[0]}return t}function En(e){var t="";if(1===(null===e||void 0===e?void 0:e.length))t=Object(I.get)(e,f.zb,!1);else if((null===e||void 0===e?void 0:e.length)>1){t=(null===e||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.to})).sort((function(e,t){return(null===t||void 0===t?void 0:t.split(":")[0])-(null===e||void 0===e?void 0:e.split(":")[0])})))[0]}return t}var Tn=function(){var e,t,n,i;return(null===(e=a)||void 0===e||null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===t?void 0:t.REACT_APP_TENANT_CODE)&&X(null===(n=a)||void 0===n||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE)},In=function(e){return e||"NA"}}).call(this,n(231).Buffer,n(137))},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a,i=n(345),c=n(30),o=n(28);function r(){var e,t,n=Object(c.a)(o.n),r=Object(c.a)(o.m),s=Object(c.a)(o.l);return null===(e=a=Object(i.createClient)({space:n,environment:r,accessToken:s,removeUnresolved:!0}))||void 0===e||null===(t=e.getSpace())||void 0===t?void 0:t.then((function(e){return!0,e}))}function s(){return a}},333:function(e,t,n){"use strict";var a=n(2),i={IN:{HEADER_ORDER_TRACKER_COMP:n.e(0).then(n.bind(null,719)),HEADER_ORDER_TRACKER_ITEM:n.e(1).then(n.bind(null,718))},AU:{HEADER_ORDER_TRACKER_COMP:n.e(0).then(n.bind(null,719)),HEADER_ORDER_TRACKER_ITEM:n.e(1).then(n.bind(null,718))}},c=n(3),o=n(1),r=n.n(o),s=n(0);t.a=function(e){var t=Object(o.useMemo)((function(){var t=i[Object(c.E)()][null===e||void 0===e?void 0:e.importPath];return(null===e||void 0===e?void 0:e.importPath)&&t&&r.a.lazy((function(){return t}))}),[null===e||void 0===e?void 0:e.importPath]);return(null===e||void 0===e?void 0:e.importPath)&&t?Object(s.jsx)(r.a.Suspense,{fallback:Object(s.jsx)("div",{}),children:Object(s.jsx)(t,Object(a.a)(Object(a.a)({},e),{},{"data-testid":"test_".concat(null===e||void 0===e?void 0:e.testId)}))}):null}},349:function(e,t,n){"use strict";t.a=n.p+"static/media/Single_Arrow_Icon.9f48c8b9.svg"},352:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(222),i=Object(a.a)((function(e){var t=e.marketConfigReducer,n=(t=void 0===t?{}:t).response;return(n=void 0===n?{}:n).headerData}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,n=(t=void 0===t?{}:t).fields,a=void 0===n?{}:n,i=e.disposition;return{fields:a,disposition:i}}))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={INDULGENT_ADD_ON:{HEADER:"cartRecommendTitle",SLIDES_TO_SCROLL:1,SLIDES_TO_SHOW:3,ADD_TO_CART:"addToCart"},PRICECHANGENOTIFICATION:"priceChangeNotify",OUTOFSTOCKNOTIFICATION:"outOfStockNotify",CART_HEADER:"myCart",CART_SUMMARY_CARD:{QUANTITY_TEXT:"cartItem",QUANTITYS_TEXT:"cartItems",SUBTOTAL:"cartSubTotal",CARRY_BAG:"tickToAddLargeCarryBag",ADD_HOPE_HEADER:"tickToAddHope",ADD_HOPE_TEXT:"addHopeText",CHECKOUT:"cartCheckout",TAKEAWAY:"Pickup",RESTAURANT_HANDLING_CHARGE:"cartIncluTax",GST:"cartGst",DONATE:"donate",addHopeText:"addhope",largeCarryBagText:"largeCarryBag",SEARCH_IN_MENU:"SEARCH_IN_MENU",SEARCH_IN_CART:"SEARCH_IN_CART"},FROMCHECKOUT:"FROMCHECKOUT",CART_FAQ_HEADER:"cartfaqtitle",CART_FOOD_LIST_ITEM:{EDIT:"edit",REMOVE:"cartRemove",REMOVE_ALL:"cartRemoveAll",ADD_MORE_MENU:"cartAddMoreMenu",ADD_MORE_FOOD:"cartAddMoreFood",ITEM_QUANTITY:1,MODIFIER_QUANTITY:2,ACCORDION_MODIFIER_MAX_QUANTITY:1},OFFERS_COUPONS:{APPLY_OFFERS:"cartOffersDeals",VIEW_ALL:"cartViewAll"},QUANTITY_ACTION:{Increase:"plus",Decrease:"minus"},TOAST_NOTIFICATION:{ITEM_REMOVED:"cartRemoveLineItemConfirmationtext"},ALERT:{REMOVE_ALL_MSG:"cartRemoveAllConfirmationtext",REMOVE_ALL:"Remove All",CANCEL:"cancel"},EMPTY_CART:{PLACEHOLDER_TEXT:"yourCartEmpty",SUGGESTION_TEXT:"upSellTitle",START_ORDER:"startOrder"},RECOMENDATIONS:{HEADER:"upSellTitle",SLIDES_TO_SCROLL:1,SLIDES_TO_SHOW:4,ADD_TO_CART:"addToCart"},ANALYTICS_EVENTS:{EDIT:"editCartItem",REMOVE:"remove_from_cart",ADD_TO_CART:"add_to_cart"},CART_ALERT:"CART_ALERT",SET_ADDED_LOCATION:"SET_ADDED_LOCATION",CART_EXPIRE_TIME_HRS:24,ADD_TO_CART_CLICK:"ADD_TO_CART_CLICK",MIN_ORDER_AMOUNT_MESSAGE:"minOrderAmountMessage",MAX_ORDER_AMOUNT_MESSAGE:"maxOrderAmountMessage"}},374:function(e,t,n){"use strict";t.a=n.p+"static/media/KFC_Loader_Gif.66979359.gif"},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={SLIDES_TO_SHOW:4,SLIDES_TO_SCROLL:1,FADE_CARD_INDEX:3,CUSTM_EXPAND_TYPE:"customExpandType",EXPAND_ACCORDIAN:"expandAccordianById",MODGROUP_IDS_UPDATE:"modGroupIdsUpdate",RESET_MODGROUP_IDS_UPDATE:"resetModGroupIdsUpdate",UPDATE_DEFAULT_MODGROUP:"UPDATE_DEFAULT_MODGROUP",IS_OUT_OF_STOCK:"OutOfStock",IS_IN_STOCK:"InStock",SET_PDP_DEEPLINK_MODE:"SET_PDP_DEEPLINK_MODE",SHORT:"short",LONG:"long",READ_MORE:"readMore",READ_LESS:"readLess",MAX_LENGTH_READ:35,YYYYMMDD:"YYYY-MM-DD",YYYYMMDD_hhmm_A:"YYYY-MM-DD hh:mm A",INDIA:"INDIA",UPSELL:"upsell",CROSSELL:"crossell",MAKE_IT_COMBO_HEADER:"makeItACombo",MAKE_IT_COMBO_SUBHEADER:"comboSubHeader",PDP:"PDP"}},384:function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,685)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))}},387:function(e,t,n){"use strict";var a=n(2),i=n(1),c=n.n(i),o=n(72),r=n(62),s=n(64),d=n(91),l=n(90),u=n(0),b=function(){window.location.replace("/"),window.localStorage.clear()},v=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidCatch=function(e,t){a.setState({error:e,errorInfo:t})},a.state={error:null,errorInfo:null},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.error,n=e.errorInfo;return t&&n?Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"50%",height:"400px"},src:""}),Object(u.jsx)("h2",{children:"Oops! Something Went Wrong ........"}),Object(u.jsx)("button",{onClick:b,children:"Go to HomePage"}),Object(u.jsxs)("details",{children:[this.state.error&&this.state.error.toString(),Object(u.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(i.Component),j=n(7),O=n(14),m=n.n(O),f=n(43),p=n(53),h=n(67),g=n(98),x=n(56),N=n(354),E=n(9),T=n(3),I=n(17),C=n(31),S=n(8),A=n(13),y=n.p+"static/media/Instagram.bed6a289.svg",_=n.p+"static/media/Facebook.65b455ab.svg",D=n.p+"static/media/Twitter.4f7b6302.svg",R=n.p+"static/media/GoogleMapLocation.c86d640b.svg",w=n.p+"static/media/apple.e0ec3a41.svg",L=n.p+"static/media/GoogleplayIcon.24d9cb95.svg",k={contentData:{bodyContent:{kfcLogo:{src:"",alt:""},categories:[{categoryHeaderText:"KFC Food",subCategories:[{name:"Menu",linkTo:"",targetType:"self"},{name:"Catering",linkTo:"",targetType:"self"},{name:"Neutrition",linkTo:"",targetType:"self"},{name:"Order Lookup",linkTo:"",targetType:"self"},{name:"Gift Card",linkTo:"",targetType:"self"}]},{categoryHeaderText:"Support",subCategories:[{name:"Help",linkTo:"",targetType:"self"},{name:"FAQs",linkTo:"",targetType:"self"},{name:"Contact Us",linkTo:"",targetType:"self"}]},{categoryHeaderText:"Legal",subCategories:[{name:"Privacy Policy",linkTo:"",targetType:"self"},{name:"Terms of Use",linkTo:"",targetType:"self"},{name:"Our Ads",linkTo:"",targetType:"self"},{name:"Do Not Sell My Personal Installation",linkTo:"",targetType:"self"}]}],kfcStoreSearch:{name:"findKfc",linkTo:"",url:R,alt:""},downloadAppButtons:[{name:"Apple Store",linkTo:"",url:w},{name:"Google Play",linkTo:"",url:L}]},footerContent:{languageDropdown:{name:"Eng",linkTo:"",url:"",type:"Language Selector",options:["Eng","Fr","De"]},copyrightContentData:{name:"Copyright \xa9 KFC Corporation 2020 All Rights Reserved"},socialMediaContent:[{name:"Instagram",linkTo:"",url:y,alt:""},{name:"Facebook",linkTo:"",url:_,alt:""},{name:"Twitter",linkTo:"",url:D,alt:""}]}}},P=n(93),M=n(40),F=["href","children","targetWindow","additionalChild","className","name","onClickHandler","type"],H=function(e){var t=e.href,n=void 0===t?"":t,i=e.children,o=e.targetWindow,r=e.additionalChild,s=void 0===r?null:r,d=e.className,l=void 0===d?"":d,b=e.name,v=void 0===b?"":b,j=e.onClickHandler,O=void 0===j?null:j,m=e.type,f=void 0===m?"internal":m,p=Object(P.a)(e,F);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)(M.c,Object(a.a)(Object(a.a)({to:function(){var e=n||!0;return"external"===f&&(e={pathname:n}),e}(),target:o},p),{},{className:l||"link",onClick:function(){O&&O({name:v,linkTo:n,type:f})},onKeyPress:function(e){var t=S.Ab.KEY_CHAR_CODE,a=t.SPACE,i=t.ENTER;!O||e.charCode!==a&&e.charCode!==i||O({name:v,linkTo:n})},children:[i,s]}))})},U=n(42),B=U.a.PRIVACY_POLICY,Y=U.a.OUR_ADS,G=U.a.INSTAGRAM,K=U.a.TWITTER,V=U.a.FACEBOOK,W=U.a.FAQ,q=U.a.GETHELP,z=U.a.TERMS_OF_USE,Q=U.a.GIFT_CARD,J=U.a.ORDER_LOOKUP_NAME,X=U.a.CONTACT_US,Z=U.a.KFC_FEEDBACK,$=U.a.EXTERNAl,ee=Object(o.i)((function(e){var t=e.linkTo,n=void 0===t?"":t,a=e.name,i=e.dataTestId,c=void 0===i?"":i,o=e.onClickHandler,r=e.internalurl,s=void 0===r?"":r,d=e.externalurl,l=void 0===d?"":d,b="",v="",j=";";switch(a){case G:case V:case K:b="",v="_blank",j="external"}switch(e.children){case B:b="/privacyPolicy";break;case Y:b="/ourAds";break;case z:b="/terms-of-use";break;case q:b="/help";break;case Q:b="/giftcards";break;case J:b="";break;case W:b="/faq";break;case X:b="/contactus";break;case Z:s?(b=s,j="internal"):l&&(b=l,v="_blank",j="external");break;default:s?(b=s,j="internal"):l?(b=l,v="_blank",j="external"):b=n}return Object(u.jsx)("li",{children:Object(u.jsx)(H,{className:"support-links-menu",href:b,name:a,targetWindow:v,onClickHandler:function(t){if(t.name!==G&&t.name!==V&&t.name!==K&&(t.name!==Z||t.type!==$))return e.children===z||e.children===W||e.children===Q?window.scrollTo(0,0):o(t),!1},tabIndex:"0","data-testid":c,type:j,children:e.children})})})),te=function(e){var t=e.categoryHeaderText,n=e.subCategories,i=void 0===n?[]:n,o=e.className,r=void 0===o?"":o,s=e.onClickHandler,d=U.a.FOOTER_LINKS,l=void 0===d?"":d,b=U.a.SOCIAL_ICONS,v=void 0===b?"":b;return Object(u.jsxs)(c.a.Fragment,{children:[r===l&&Object(u.jsxs)("div",{className:"ul-title",children:[Object(u.jsx)("span",{role:"heading","aria-level":"2",className:"header-text-footer",children:t}),Object(u.jsx)("ul",{className:r,children:Object(u.jsx)(u.Fragment,{children:function(e,t){return e.map((function(e,n){return Object(u.jsx)(ee,Object(a.a)(Object(a.a)({onClickHandler:s,dataTestId:"listItems-component-".concat(e.name),className:t},e),{},{children:e.name}),n)}))}(i,r)})})]}),r===v&&Object(u.jsx)(ee,Object(a.a)(Object(a.a)({"data-testid":"listItems-component",onClickHandler:s,className:r},e),{},{children:Object(u.jsx)(A.a,{srcFile:e.url,alt:"".concat(e.name)})}))]})},ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACfSURBVHgBhY6xDQIhFIZBob8RjoLeEbAgARpXcAQ30FF0Aq8DQ3FxA12A2tIBSPCRWNy9u8v9CXk8+L68RwhEKdWQlRhjVK1ba+2Jc34XQjxSSp852Dl3hnKVUr43pZQOmi9jrNda7+ZgYC5wbt77jv7HtZTSHq5NznkfY3xhOIRwrG90sONIgjUPGB4JSGprj+GJMJQAfmJ4MVVa+vsBbdRQgsrQ68QAAAAASUVORK5CYII=",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACoSURBVHgBjZCxDcIwEEXtpKHMCBSWRckIprNcZQVGYAIyAiOwApXdISqGsIuwgSew+YcUKVgx5Eunb/+7p7PMWEVa622t1y6Fxpg97Cml3HjvH38hAnLOdxw7lALISrD9AZxQO1Rfgs0SAD9aay/wA+4jfED//LWpBJxzV8pDCFEIceOc9/ONvAbMRT8JkGbIhyalFHGJNYCEfJyeivnXJ1RKdWyFprk3ggNl+9Y5I9IAAAAASUVORK5CYII=",ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgB5YzBEQAQDARTghKUoCOtpFMlKCHO+BmJ8GRn7mFkl+hTRCRiBcvHd3gkrMogb8QOz59qwBStgEtUAuwWlYBfXASYboAY6D0aqFylbGxi/YkAAAAASUVORK5CYII=",ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBlc9dDQAgCARgIhjBCEYygg2MagQj4D3o5h8ot93mkO8BIiHM7MkSgIBWNFvBSLaAhBYVbiD2mRfhDUx/J9SACKdBfNy77uHh6CNjrwE2uauFNqWuDQAAAABJRU5ErkJggg==",oe=n.p+"static/media/AccordianDownBlack.25fe3425.svg",re=n.p+"static/media/AccordianUPBlack.97852a94.svg",se=function(e){var t=e.header,n=e.subHeader,a=e.onClickHandler,c=e.isDarkMode,o=void 0!==c&&c,r=e.isBlackArrow,s=void 0!==r&&r,d=e.cssClass,l=void 0===d?"":d,b=e.open,v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=function(e){f(!m),a&&a(e)};Object(i.useEffect)((function(){b&&f(!m)}),[b]);return Object(u.jsxs)("div",{className:"global-accordian-container ".concat(l),"data-testId":"global-accordian",onKeyPress:function(e){var t=S.Ab.KEY_CHAR_CODE.ENTER;e.charCode===t&&(f(!m),a&&a(e))},children:[Object(u.jsxs)("button",{"aria-expanded":"false",className:"global-accordian-header-container",children:[Object(u.jsx)("span",{className:"global-accordian-header",onClick:p,children:t}),o?Object(u.jsx)("img",{src:m?ce:ie,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle-dark"}):s?Object(u.jsx)("img",{src:m?re:oe,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle-dark"}):Object(u.jsx)("img",{src:m?ae:ne,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle"})]}),n&&!m?Object(u.jsx)("ul",{className:"global-accordion-subheader cart-food-modifier",children:n.map((function(e,t){return Object(u.jsxs)("li",{children:[e,t===n.length-1?Object(u.jsx)("span",{children:"..."}):null]})}))}):null,m&&Object(u.jsx)("div",{className:"global-accordian-content",children:e.children})]})},de=["ariaLable","className","onClickHandler","name"],le=function(e){e.ariaLable;var t=e.className,n=void 0===t?"":t,i=e.onClickHandler,c=e.name,o=Object(P.a)(e,de);return Object(u.jsx)(M.b,Object(a.a)(Object(a.a)({to:{},"data-testid":"navItems",className:"navigation-link ".concat(n," nav-item"),onClick:function(){i(c)},onKeyPress:function(e){var t=S.Ab.KEY_CHAR_CODE,n=t.SPACE,a=t.ENTER;e.charCode!==n&&e.charCode!==a||i(c)}},o),{},{children:Object(u.jsx)("button",{className:"header-item-buttons d-flex",tabIndex:"-1",children:e.children})}))},ue=function(e){var t=e.tabIndex,n=e.ariaLable,a=e.className,i=e.options,c=e.onChange,o=e.testid,r=void 0===o?"":o,s=e.selectedValue;return Object(u.jsx)("select",{className:a,tabIndex:t,"aria-label":n,onChange:c,onKeyPress:function(e){var t=S.Ab.KEY_CHAR_CODE,n=t.SPACE,a=t.ENTER;!c||e.charCode!==n&&e.charCode!==a||c()},"data-testid":r,children:null===i||void 0===i?void 0:i.map((function(e){return Object(u.jsx)("option",{value:e,selected:s===e,children:e},e)}))})},be=n(6),ve=n.n(be),je=n(15),Oe=n(70),me=n(29),fe=function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},pe(e.fields)),{},{name:e.fields.title})}))||[]},pe=function(e){var t=e.url,n=e.desktopImage,a=(void 0===n?{}:n).fields.file,i=(void 0===a?{}:a).url;return{linkTo:t,url:void 0===i?"":i}},he=function(e){return e.map((function(e){var t=e.fields,n=t.externalurl,i=t.icon,c={linkTo:n,url:ge((void 0===i?{}:i).fields).url};return Object(a.a)(Object(a.a)({},c),{},{name:e.fields.title})}))||[]},ge=function(e){var t=e.desktopImage;return t&&xe(t)||{}},xe=function(e){var t=e.fields&&e.fields.file||{},n=t.url,a=void 0===n?"":n,i=t.altText;return{url:a,altText:void 0===i?"":i}},Ne=function(e){var t=[],n=e.category,a=e.links;return(void 0===a?[]:a).map((function(e){t.push(Ee(e.fields))})),{categoryHeaderText:n,subCategories:t}},Ee=function(e){var t=e.linkText,n=e.internalurl,a=e.externalurl;return{name:t,linkTo:e.url||e.internalurl,internalurl:n,externalurl:a}},Te=function(e){var t=e.externalurl,n=e.icon;return{linkTo:t,url:ge((void 0===n?{}:n).fields).url}},Ie=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"footerLinks",navigationLink:t.footerItemSelected}),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=n.p+"static/media/KFCbucket.82cffdd8.svg",Se=function(e){var t,n=e.buttonContent,a=void 0===n?[]:n;return Object(u.jsx)(c.a.Fragment,{children:(t=a,t.map((function(e,t){return Object(u.jsx)(H,{href:e.linkTo,targetWindow:"_blank",type:"external",children:Object(u.jsx)(A.a,{srcFile:e.url,alt:"".concat(e.name)},t)})})))})},Ae=n(5),ye=function(e){var t,n=e.contentData,c=void 0===n?[]:n,r=e.clickHandler,s=void 0===r?null:r,d=e.isMobile,l=void 0!==d&&d,b=e.tenantReducerData,v=e.navigateHandler,m=void 0===v?null:v,f=function(e){var t,n=U.a.FOOTER_LOGO,i=U.a.FOOTER_SECTION,c=U.a.FIND_A_KFC_SECTION,o=U.a.APP_LINKS,r=U.a.SOCIAL_SECTION,s=U.a.COPYRIGHT,d={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},l={languageDropdown:{},copyrightContentData:{},socialMediaContent:[]},u=Object(Oe.a)(e);try{for(u.s();!(t=u.n()).done;){var b=t.value,v=Object(O.get)(b,"sys.contentType.sys.id"),j=Object(O.get)(b,"fields.category");if(v===n){var m=ge(b.fields),f=m.url,p=m.altText;d.kfcLogo={src:f,alt:p}}else if(j===c){var h=b.fields.links[0].fields.linkText.split(" "),g=h[0]+" "+h[1].toLowerCase()+" "+h[2];d.kfcStoreSearch=Object(a.a)(Object(a.a)({},Te(b.fields.links[0].fields)),{},{name:g})}else if(j===o)d.downloadAppButtons=fe(b.fields.links);else if(j===r)l.socialMediaContent=he(b.fields.links);else if(j===s){var x,N,E=(null===b||void 0===b||null===(x=b.fields)||void 0===x||null===(N=x.links[0])||void 0===N?void 0:N.fields).headline;l.copyrightContentData={name:E}}else v===i&&d.categories.push(Ne(b.fields))}}catch(T){u.e(T)}finally{u.f()}return{bodyContent:d,footerContent:l}}(c)||{},p=f.bodyContent,h=void 0===p?{}:p,g=f.footerContent,x=void 0===g?{}:g,N=Object(o.g)(),C=Object(E.c)((function(e){return e.appStateReducer.userStatus})),y=U.a.INDIA,_=h.categories,D=void 0===_?[]:_,R=h.kfcLogo,w=void 0===R?{}:R,L=h.kfcStoreSearch,P=void 0===L?{}:L,M=h.downloadAppButtons,F=void 0===M?{}:M,B=x.copyrightContentData,Y=void 0===B?{}:B,G=x.languageDropdown,K=x.socialMediaContent,V=void 0===K?{}:K,W=Object(i.useContext)(I.a).userOrderState.languageUpdationHappened,q=void 0===W?"":W,z=Object(E.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),Q=z.defaultLanguage,J=z.allowedLanguages,X=z.COUNTRY,Z=Object(i.useState)(),$=Object(j.a)(Z,2),ne=$[0],ae=$[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1];Object(i.useEffect)((function(){0!==D.length&&re(D)}),[]),Object(i.useEffect)((function(){var e=J.find((function(e){return e.key===Object(T.T)("".concat(X,"_").concat(S.wb))}));X&&ae((e||{}).value||(Q||{}).value)}),[X,q]),t=b&&b.basic&&function(e,t){var n=e;n.options=[];var a=(t||{allowedLanguages:[{value:""}]}).allowedLanguages;if(a.length){var i,c=Object(Oe.a)(a);try{for(c.s();!(i=c.n()).done;){var o=i.value;n.options.push(o.value)}}catch(r){c.e(r)}finally{c.f()}return n}return{}}(k.contentData.footerContent.languageDropdown,b.basic)||{};var de=function(e){var t=e.target.parentElement.parentElement;t.classList.contains("footer-accordian-open")?t.classList.remove("footer-accordian-open"):t.classList.add("footer-accordian-open")},be=function(){return V.map((function(e,t){return Object(u.jsx)(te,Object(a.a)({className:"social-icons","data-testid":"footerItemSocial-component",onClickHandler:s},e),t)}))},ve=function(){return Object(u.jsx)("div",{className:"column lang-div",children:Object(T.Fb)(t)&&Object(u.jsxs)(le,{tabIndex:"0",onClickHandler:s,name:t.type||t.name||"cart",children:[Object(u.jsx)(ue,{tabIndex:"-1",options:J.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toUpperCase()})),className:"language-select",selectedValue:ne}),Object(u.jsx)("span",{className:"dropdown-img-footer"})]})})},je=Object(u.jsxs)("footer",{className:"site-footer ".concat(!(null===C||void 0===C?void 0:C.localized)&&N.pathname.startsWith("/")&&(null===b||void 0===b?void 0:b.country)===y?"nonlocalized-footer":"localized-footer"),"data-testid":"mobileFooter-component",children:[Object(u.jsx)("div",{className:"row mobile-header-logo",children:Object(u.jsx)("div",{className:"header-logo",onClick:m,children:Object(u.jsx)(A.a,{srcFile:Object(T.ub)(w.src,Ce),alt:Object(T.ub)(w.alt,"KFC LOGO"),className:"kfc-footer-logo"})})}),Object(u.jsx)("div",{className:"row-mobile",children:oe.map((function(e){return Object(u.jsx)(se,{header:e.categoryHeaderText,isDarkMode:!0,onClickHandler:de,children:Object(u.jsx)("ul",{className:"footer-mobile-list",tabIndex:"0",children:e.subCategories.map((function(e,t){return Object(u.jsx)(ee,Object(a.a)(Object(a.a)({"data-testid":"listItems-component",onClickHandler:s},e),{},{children:e.name}),t)}))})})}))}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"row-mobile",children:Object(u.jsxs)("div",{className:"findstore-mobile",children:[Object(u.jsx)(A.a,{srcFile:P.url,alt:""}),Object(u.jsx)(H,{href:P.linkTo,name:P.name,onClickHandler:s,targetWindow:"_blank",tabIndex:"0",type:"external",children:Object(Ae.e)(P.name)})]})}),Object(u.jsx)("hr",{class:"mobile-horizontal"}),Object(u.jsxs)("div",{className:"row-mobile app-store","data-testid":"app-store",children:[Object(u.jsx)("div",{className:"flex",children:Object(Ae.e)("downloadApp")}),Object(u.jsx)("div",{className:"flex social-btns","data-testid":"social-btns",children:Object(u.jsx)(Se,{buttonContent:F})})]}),Object(u.jsxs)("div",{className:"row row-mobile mobile-language my-2",children:[ve(),Object(u.jsx)("div",{className:"column social-div",children:Object(u.jsx)("ul",{className:"social-icons",children:be()})})]}),Object(u.jsx)("div",{className:"row row-mobile row-copyright ".concat(N.pathname.includes("pdp")&&l?"pdp-row-copyright":""),children:Object(u.jsx)("div",{className:"column copyright-mobile",children:Object(u.jsx)("p",{className:"copyright-text",children:Y.name})})})]}),me=Object(u.jsxs)("footer",{className:"site-footer","data-testid":"desktopFooter-component",children:[Object(u.jsxs)("div",{className:"row row-one aa",children:[Object(u.jsx)(H,{className:"header-logo","data-testid":"desktopFooter-component-navigate-handler",onClickHandler:m,children:Object(u.jsx)(A.a,{srcFile:Object(T.ub)(w.src,Ce),alt:Object(T.ub)(w.alt,"KFC LOGO"),className:"kfc-footer-logo"})}),Object(u.jsx)("div",{className:"category-items",children:oe.map((function(e,t){return Object(u.jsx)(te,Object(a.a)({className:"footer-links",onClickHandler:s},e),t)}))}),Object(u.jsxs)("div",{className:"findstore",children:[Object(u.jsx)(A.a,{srcFile:P.url,alt:""}),Object(u.jsx)(H,{href:P.linkTo,onClickHandler:s,name:P.name,targetWindow:"_blank",tabIndex:"0",type:"external",children:Object(Ae.e)(P.name)})]}),Object(u.jsx)("div",{className:"flex social-btns","data-testid":"social-btns",children:Object(u.jsx)(Se,{buttonContent:F})})]}),Object(u.jsxs)("div",{className:"row row-two",children:[ve(),Object(u.jsx)("div",{className:"column",children:Object(u.jsx)("p",{className:"copyright-text",children:Y.name})}),Object(u.jsx)("div",{className:"column social-div",children:Object(u.jsx)("ul",{className:"social-icons",children:be()})})]})]});return Object(T.pb)(l,je,me)},_e=n(10),De=n(22),Re=n.p+"static/media/PopupCloseBtn.ee8133ae.svg",we=n.p+"static/media/GoBackIcon.10c30781.svg",Le=n(36),ke=n(33),Pe="upSellTitle",Me="view",Fe="kfcMenu",He={TIMER:"timer",CURRENCY:"\u20b9",SERVES:"  ",VEG:"veg",NON_VEG:"nonveg",EXCLUSIVE_DEAL:"exclusiveDeal",NEW:"new",TOP_SELLER:"topSeller"},Ue={LARGE:"large",MEDIUM:"medium",SMALL:"small",CAROUSAL:"carousal"},Be="web",Ye="editSelectionsBtnText",Ge="editSelections",Ke="selectQuantity",Ve="filterBy",We="dietary",qe="clearAll",ze="clearSearch",Qe="yourSearch",Je="turnedNoResult",Xe="backToMenu",Ze="we Found",$e="Sorry",et="is currently closed.",tt="results",nt="INDIA",at=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.upsizeSelectedPwa.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===t||void 0===t?void 0:t.name)||"NA","%size%":(null===t||void 0===t?void 0:t.size)||"NA","%upsizeSelectedFrom%":n||"NA"},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),it=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.makeItACombo.name,{"%event%":"makeItACombo"},T.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.purchaseOrder.name,{data:{event:"purchase",ecommerce:t||{}}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.viewOfferDetailsPwa.name,{"%event%":"viewOfferDetails","%offerName%":t.offerTitle},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.signUpClick.name,{"%event%":"signUpClick","%orderValue%":t.orderValue},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.popupView.name,{"%event%":"popupView","%popupTitle%":t.popupTitle},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.findAkfc.name,{"%event%":t},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a[t].name,{data:{event:t,ecommerce:Object(Le.a)({},t,{items:n})}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.viewItemList.name,{data:{event:"view_item",ecommerce:{view_item:{items:t||[]}}}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.signUpStart.name,{data:{event:"signUpStart"}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=n(208),jt=n.n(vt),Ot=function(e){var t=e.ariaLabel,n=void 0===t?"Back":t,a=e.clickHandler,i=e.closeBtnRefCallback,c=e.alt,o=void 0===c?"Close OFFERS & DEALS dialog":c,r=e.className,s=void 0===r?"custom-modal-close":r,d=e.imageSrc,l=void 0===d?"":d,b=e.dataTestId;return Object(u.jsx)("button",{type:"button",className:s,"data-dismiss":"modal","aria-label":n,onClick:a,ref:i,"data-testid":b,children:Object(u.jsx)(A.a,{srcFile:l,alt:o})})},mt=function(e){var t=e.classNames,n=e.show,a=e.autoFocus,c=e.modalTitleId,o=e.modalTitle,r=void 0===o?null:o,s=e.children,d=e.closeBtnRefCallback,l=e.showCloseBtn,b=void 0!==l&&l,v=e.showBackBtn,j=void 0!==v&&v,O=e.closeButtonHandler,m=e.backButtonHandler,f=e.ariaLabel,p=e.modalTitleRequired,h=void 0===p||p,g=e.backBtnClassName,x=void 0===g?"custom-modal-back":g,N=e.backBtnAlt,E=void 0===N?"back":N,T=e.closeDataTestId,I=void 0===T?"":T,C=e.backDataTestId,S=void 0===C?"":C,A=_e.a.AUTO,y=_e.a.HIDDEN;return Object(i.useEffect)((function(){return document.querySelector("body").style.overflow=y,function(){document.querySelector("body").style.overflow=A}})),Object(i.useEffect)((function(){r&&st({popupTitle:r})}),[r]),Object(u.jsx)(jt.a,{children:Object(u.jsx)("div",{show:n.toString(),className:"shared-modal-container ".concat(t),autoFocus:a||!1,"data-testid":c,children:Object(u.jsxs)("div",{className:"modal-content",tabIndex:"-1","aria-labelledby":c,role:"dialog",children:[Object(u.jsxs)("div",{className:"modal-header",children:[j&&m&&Object(u.jsx)(Ot,{ariaLabel:"Go back to Start Your Order dialog",clickHandler:m,className:x,imageSrc:we,alt:E,dataTestId:S}),h&&Object(u.jsx)("h2",{className:"header-title",id:c,children:r}),b&&O&&Object(u.jsx)(Ot,{ariaLabel:f,clickHandler:O,closeBtnRefCallback:d,imageSrc:Re,dataTestId:I})]}),Object(u.jsx)("div",{className:"modal-body",children:s})]})})})},ft=function(e){return Object(u.jsx)(mt,Object(a.a)({},e))},pt=function(e){return Object(u.jsx)(ft,Object(a.a)({onExitedCallback:e.onModalExitedCallback},e))},ht=n(11),gt=n(76),xt=n.p+"static/media/Call.1ad33a6d.svg",Nt=n.p+"static/media/Direction.84bc1b15.svg",Et=n.p+"static/media/RedMarker.e7c38d6b.svg",Tt=n.p+"static/media/BlackMarker.b3f28275.svg",It=function(e){var t=e.isOpen,n=e.handleClose,c=e.OrderReducerData,o=Object(i.useState)(Object(T.Lb)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=window.google;Object(i.useEffect)((function(){return window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}));var b=function(){d(Object(T.Lb)(window.innerWidth))},v=s?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:n,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:n,autoFocus:!0};function O(){var e,t,n,a,i=new l.maps.DirectionsService,o=new l.maps.DirectionsRenderer,r=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===c||void 0===c||null===(e=c.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.longitude)}});o.setMap(r),function(e,t){var n,a,i,o,r,s,d,u,b,v,j,O,m={lat:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.latitude),lng:Number(null===c||void 0===c||null===(i=c.store)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.longitude)},f=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:m});e.route({origin:{lat:Number(null===c||void 0===c||null===(r=c.store)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.latitude),lng:Number(null===c||void 0===c||null===(d=c.store)||void 0===d||null===(u=d.location)||void 0===u?void 0:u.longitude)},destination:{lat:Number(null===c||void 0===c||null===(b=c.store)||void 0===b||null===(v=b.location)||void 0===v?void 0:v.latitude),lng:Number(null===c||void 0===c||null===(j=c.store)||void 0===j||null===(O=j.location)||void 0===O?void 0:O.longitude)},travelMode:l.maps.TravelMode.DRIVING},(function(e,n){if("OK"===n){t.setDirections(e);var a=e.routes[0].legs[0];new l.maps.Marker({position:a.end_location,map:f,visible:!0,icon:Tt,title:"Delivery-Location"})}else new l.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(i,o)}return Object(i.useEffect)((function(){null!==(null===c||void 0===c?void 0:c.deliveryAddress)&&null!==(null===c||void 0===c?void 0:c.store)&&Object(T.gc)(null===c||void 0===c?void 0:c.service)===Object(T.gc)(S.o)?O():Object(T.gc)(null===c||void 0===c?void 0:c.service)!==Object(T.gc)(S.bb)&&Object(T.gc)(null===c||void 0===c?void 0:c.service)!==Object(T.gc)(S.s)||null===(null===c||void 0===c?void 0:c.store)||function(){var e,t,n,a,i={lat:Number(null===c||void 0===c||null===(e=c.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.longitude)},o=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:i});new l.maps.Marker({position:i,map:o,visible:!0,icon:Et,title:"KFC Store"})}()})),Object(u.jsx)("div",{children:t&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},v),{},{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{id:"maps"})})}))})};It.defaultProps={isOpen:!1,closeModal:null};var Ct=It,St=["placeholder","labelClassName","inputClassName","helperTextClassName","containerClassName","inputTestId","labelTestId","onKeyPressHandler","error","helperText","ariaLabel","ariaRequired","autoComplete"],At=function(e){var t=e.placeholder,n=void 0===t?"":t,i=e.labelClassName,c=void 0===i?"":i,o=e.inputClassName,r=void 0===o?"":o,s=e.helperTextClassName,d=void 0===s?"":s,l=e.containerClassName,b=void 0===l?"":l,v=e.inputTestId,j=void 0===v?"":v,O=e.labelTestId,m=void 0===O?"":O,f=e.onKeyPressHandler,p=void 0===f?null:f,h=e.error,g=void 0!==h&&h,x=e.helperText,N=void 0===x?"":x,E=(e.ariaLabel,e.ariaRequired),T=void 0===E?"":E,I=e.autoComplete,C=void 0===I?"":I,S=Object(P.a)(e,St);return Object(u.jsxs)("div",{className:"field material-input ".concat(b),children:[g&&Object(u.jsx)("span",{className:d,role:"alert",children:N}),Object(u.jsx)("input",Object(a.a)({className:r,id:"mt-input-".concat(n),name:"mt-input-".concat(n),placeholder:n,onKeyPress:p,"data-testid":j,"aria-required":T,autocomplete:C},S)),Object(u.jsx)("label",{"data-testid":m,className:c,for:"mt-input-".concat(n),children:n})]})},yt=n(130),_t=n(20),Dt=n(68),Rt=n.p+"static/media/Ellipse.f24b73f4.svg",wt=n(122),Lt=n(44),kt=["onKeyPressHandler","value","ref"],Pt=function(e){var t=e.onKeyPressHandler,n=void 0===t?null:t,i=e.value,c=void 0===i?"":i,o=(e.ref,Object(P.a)(e,kt));return Object(u.jsx)("input",Object(a.a)({value:c,onChange:function(e){return e.preventDefault()},onKeyPress:n},o))},Mt=n(65),Ft=n(393),Ht=n(30),Ut=n.p+"static/media/TimerIcon.9e559d6e.svg",Bt=n.p+"static/media/Time_ClockDark.bcd6727f.svg",Yt=function(e){var t=e.endTime,n=void 0===t?new Date:t,a=Object(i.useState)(Object(Mt.d)(n)),c=Object(j.a)(a,2),o=c[0],r=c[1];return Object(i.useEffect)((function(){var e;return Object(Mt.g)(n)?e=setTimeout((function(){r(Object(Mt.d)(n))}),1e3):r("00HR : 00M : 00S"),function(){clearTimeout(e)}})),Object(u.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:o})},Gt=n(28),Kt=function(e){var t=e.data,n=e.cardType,a=e.id,o=e.tenantId,r=e.applyCoupon,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(T.B)(window.innerWidth),O=function(e){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.showTimer)?Object(Mt.g)(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("p",{"data-testid":"coupon-header-block",className:"coupon-time",children:Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:Ut,alt:""}),Object(u.jsx)(Yt,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(u.jsxs)("p",{"data-testid":"coupon-header-block",className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(u.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(u.jsxs)("span",{className:"coupon-expiry-details",children:[Object(u.jsx)("img",{alt:"",src:Bt}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(Mt.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})};return Object(u.jsx)(c.a.Fragment,{children:"image-text"===n?function(e,n){var a;return Object(u.jsxs)("section",{"data-testid":"coupon-container",className:"coupon-card-container",children:[Object(u.jsxs)("section",{className:"coupon-card-content text-image",children:[Object(u.jsx)("section",{className:"coupon-image-content",children:Object(u.jsx)(A.a,{className:"coupon-image",srcFile:"".concat(Object(Ht.a)(Gt.K)).concat(o,"/images/offers/").concat(v,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"",defaultPath:"".concat(Object(Ht.a)(Gt.K)).concat(o).concat(Lt.f)})}),Object(u.jsxs)("section",{className:"coupon-text-content image-text",children:[O(t),Object(u.jsx)("h4",{role:"text","data-testid":"coupon-heading-block",className:"coupon-heading margin-bottom-5",children:Object(T.hc)(null===e||void 0===e?void 0:e.heading)}),Object(u.jsx)("h5",{role:"text","data-testid":"coupon-desc-block",className:"coupon-desc margin-bottom-5",children:Object(T.hc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsxs)("h5",{role:"text","data-testid":"coupon-terms-btn",onClick:function(){return b(!l)},className:"coupon-terms",children:[Object(Ae.e)(Lt.q),Object(u.jsx)("img",{src:we,alt:"",className:l?"terms-arrow inverted":"terms-arrow"})]})]}),Object(u.jsx)("section",{className:"coupon-button-container",children:Object(u.jsx)(ht.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return r(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(Ae.e)(Lt.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(u.jsx)("span",{className:"btn-text",children:(null===t||void 0===t?void 0:t.isApplied)?Object(Ae.e)(Lt.l):Object(Ae.e)(Lt.m)})})})]}),Object(u.jsx)("section",{"data-testid":"terms-list-block",className:l?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(a=e.termsAndConditions)||void 0===a?void 0:a.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},n)}(t,a):function(e,t){var n;return Object(u.jsxs)("div",{"data-testid":"coupon-container",className:"coupon-card-container text-only",children:[Object(u.jsxs)("div",{className:"coupon-card-content text-only",children:[Object(u.jsxs)("div",{className:l?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[O(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(T.hc)(null===e||void 0===e?void 0:e.heading)}),Object(u.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(T.hc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsxs)("h5",{"data-testid":"coupon-terms-btn",onClick:function(){return b(!l)},className:"coupon-terms",children:[Object(Ae.e)(Lt.q),Object(u.jsx)("img",{src:we,alt:"",className:l?"terms-arrow inverted":"terms-arrow"})]})]}),Object(u.jsx)("div",{className:"coupon-button-container",children:Object(u.jsx)(ht.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return r(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(Ae.e)(Lt.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ae.e)(Lt.l):Object(Ae.e)(Lt.m)})})})]}),Object(u.jsx)("div",{"data-testid":"terms-list-block",className:l?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(t,a)})};Kt.defaultProps={data:{},cardType:"text",tenantId:"",id:Object(Ft.a)(),applyCoupon:function(){}};var Vt=Kt,Wt=function(e){var t=e.contentData,n=e.tenantId,a=e.applyCoupon,o=Object(i.useState)(null),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(null),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(T.B)(window.innerWidth),f=function(e){d(e===s?null:e),O(null)},p=function(e,t){e.stopPropagation(),O(t===v?null:t)},h=function(e){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.showTimer)?Object(Mt.g)(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("p",{className:"coupon-time",children:Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:Ut}),Object(u.jsx)(Yt,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(u.jsxs)("p",{className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(u.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(u.jsxs)("span",{className:"coupon-expiry-details",children:[Object(u.jsx)("img",{alt:"time_clock",src:Bt}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(Mt.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})};return Object(u.jsx)(c.a.Fragment,{children:t.map((function(e,t){return"image-text"===e.cardType?function(e,t){var i;return Object(u.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return f(t)},className:"coupon-card-container",children:[Object(u.jsxs)("div",{className:"coupon-card-content",children:[Object(u.jsxs)("div",{className:"coupon-mobile-content",children:[Object(u.jsxs)("div",{className:"coupon-mobile-image-text",children:[Object(u.jsx)("div",{className:"coupon-image-content",children:Object(u.jsx)(A.a,{className:"coupon-image",srcFile:"".concat(Object(Ht.a)(Gt.K)).concat(n,"/images/offers/").concat(m,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Ht.a)(Gt.K)).concat(n).concat(Lt.f)})}),Object(u.jsxs)("div",{className:"coupon-text-content with-image",children:[h(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(T.hc)(null===e||void 0===e?void 0:e.heading)})]})]}),Object(u.jsx)("div",{"data-testid":"coupon-accordian-content",className:s===t?"coupon-text-content coupon-below-image show":"coupon-text-content coupon-below-image",children:Object(u.jsxs)("div",{className:"coupon-accordion-content show",children:[Object(u.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(T.hc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsx)(ht.a,{"data-testid":"apply-button",onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"button whiteButton coupon-button blackBorder",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ae.e)(Lt.l):Object(Ae.e)(Lt.m)}),Object(u.jsxs)("h5",{"data-testid":"coupon-terms-block",onClick:function(e){return p(e,t)},className:"coupon-terms",children:[Object(Ae.e)(Lt.q),Object(u.jsx)("img",{src:we,className:v===t?"terms-arrow inverted":"terms-arrow"})]})]})})]}),Object(u.jsx)("div",{"data-testid":"accordian-toggle-button",className:"coupon-accordian-button",children:Object(u.jsx)("img",{src:we,className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow"})})]}),Object(u.jsx)("div",{"data-testid":"terms-list-block",className:v===t?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(i=e.termsAndConditions)||void 0===i?void 0:i.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t):function(e,t){var n;return Object(u.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return f(t)},className:"coupon-card-container",children:[Object(u.jsxs)("div",{className:"coupon-card-content",children:[Object(u.jsxs)("div",{className:s===t?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[Object(u.jsxs)("div",{className:"coupon-text-limiter",children:[h(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(T.hc)(null===e||void 0===e?void 0:e.heading)})]}),Object(u.jsxs)("div",{className:s===t?"coupon-accordion-content show":"coupon-accordion-content","data-testid":"coupon-accordian-content",children:[Object(u.jsx)("h5",{className:"coupon-desc","data-testid":"coupon-desc-block",children:Object(T.hc)(null===e||void 0===e?void 0:e.description)}),Object(u.jsx)(ht.a,{className:"button whiteButton coupon-button blackBorder",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},"data-testid":"apply-button",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ae.e)(Lt.l):Object(Ae.e)(Lt.m)}),Object(u.jsxs)("h5",{className:"coupon-terms","data-testid":"coupon-terms-block",onClick:function(e){return p(e,t)},children:[Object(Ae.e)(Lt.q),Object(u.jsx)("img",{className:v===t?"terms-arrow inverted":"terms-arrow",src:we})]})]})]}),Object(u.jsx)("div",{className:"coupon-accordian-button","data-testid":"accordian-toggle-button",children:Object(u.jsx)("img",{className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow",src:we})})]}),Object(u.jsx)("div",{className:v===t?"terms-list show":"terms-list","data-testid":"terms-list-block",children:Object(u.jsx)("ul",{"data-testid":"mainterms-list",className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(u.jsx)("li",{id:"terms-list",children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t)}))})};Wt.defaultProps={contentData:[],tenantId:"",applyCoupon:null};var qt=Wt,zt=function(e){var t=e.isMobile,n=e.couponsData,a=e.tenantId,i=e.applyCoupon,o=Object(Mt.i)(n);return Object(u.jsx)(c.a.Fragment,{children:t?Object(u.jsx)(qt,{contentData:o,applyCoupon:i,tenantId:a}):o.map((function(e,t){return Object(u.jsx)(Vt,{data:e,tenantId:a,cardType:null===e||void 0===e?void 0:e.cardType,id:t,applyCoupon:i},t)}))})};zt.defaultProps={isMobile:!1,couponsData:[],tenantId:"",applyCoupon:null};var Qt=zt,Jt=n(47),Xt=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.guestContactDetails.name,{"%event%":"guestContactDetails"},T.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.addContactInfo.name,{data:{event:"add_contact_info",ecommerce:{checkout_cart:{items:t}}}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.beginCheckoutPwa.name,{data:{event:"begin_checkout",ecommerce:{checkout_cart:{items:t}}}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),en=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.paymentInfoClick.name,{data:{event:"add_payment_info",paymentType:t,ecommerce:{checkout_cart:{items:n}}}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tn=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.checkoutClick.name,{data:{event:"checkoutClick"}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nn=n(50),an=n.p+"static/media/Error.c9ff5c1b.svg",cn={contentData:{scheduleOrderHeaderText:"scheduleOrder",changeScheduleOrderHeaderText:"changeYourOrderTitle",scheduleOrderModalContent:{formContent:{orderTypeTitle:"orderType",restaurantTitle:"YourKFCLocation",yourLocationTitle:"yourLocation",editTitle:"edit",scheduleDateTitle:"scheduleForYourOrder",dateTitle:"date",timeTitle:"time",buttonText:"confirm",dateOptions:["Today","23/03/2021","24/03/2021"],timeOptions:[9.3,10,10.3,11]}},DELIVERY_NA_WARNING_MESSAGE:"noStoresWithDeliveryHeader",DELIVERY_PICKUP_NA_MESSAGE:"deliverystoresWithoutAnyServiceHeader",SWITCH_TO_TAKEAWAY:"switchToTakeaway",errorMessageInactive:"errorMessageInactive",errorMessageClosed:"errorMessageClosed"},timingsSampleData:{operatingHours:[{day:"EVERYDAY",availableHours:{from:"10:00",to:"23:00"}}],asap:{isAvailable:!0,promiseTime:0},scheduled:{date:"2021-05-05",periods:[{startEndTime:{from:"11:30",to:"23:00"},interval:15}],unavailibilities:[]},futureDates:["2021-05-06"]}},on=n(85),rn=_e.a.ANALYTICS_LOCALISATION_SIGNIN,sn=f.a.PAYMENT_FAILED_MESSAGE,dn=f.a.PAYMENT_PRE_VALIDATION_FAILED_MESSAGE,ln=cn.contentData,un=ln.scheduleOrderHeaderText,bn=ln.changeScheduleOrderHeaderText,vn=function(e){return e?"formElement-error":"formElement"},jn=function(e,t){e&&t()},On=function(e){return e?"text-danger":" "},mn=function(e){return e?" mobile":""},fn=function(e){return e?"":" px-rt-5px"},pn=function(e){var t=e.date,n=e.time,a=nn.c.ASAP,i="";if(t&&n){var c=Object(De.e)(t,"YYYYMMDD")===Object(De.c)("YYYYMMDD")?Object(Ae.e)("today"):Object(Ae.e)("tomorrow"),o=n;i=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{children:c}),Object(u.jsx)("span",{children:o})]})}return"ASAP"===n&&(i=Object(u.jsx)("label",{children:Object(Ae.e)(a)})),i},hn=function(e){var t,n=nn.c.CHECKOUT_TITLES,a=nn.c.IS_DELIVERY,i=nn.c.IS_TAKEAWAY,c=nn.c.IS_DINEIN;return Object(T.gc)(e)===a&&(t=n.DELIVERY_INFO),Object(T.gc)(e)===i&&(t=n.TAKEAWAY_INFO),Object(T.gc)(e)===c&&(t=n.DINEIN_INFO),t},gn=function(e){var t,n=nn.c.CHECKOUT_TITLES,a=nn.c.IS_DELIVERY,i=nn.c.IS_TAKEAWAY,c=nn.c.IS_DINEIN;return Object(T.gc)(e)===a&&(t=n.DELIVERY_OPTIONS),Object(T.gc)(e)===i&&(t=n.TAKEAWAY_OPTIONS),Object(T.gc)(e)===c&&(t=n.DINEIN_OPTIONS),t},xn=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,!t||t.length<2?(i.error=!0,i.errorMessage=Object(Ae.e)("emptyFullNameErrMsg")):(n=t,!nn.b.test(n)||t.length>26?(i.error=!0,i.errorMessage=Object(Ae.e)("invalidFullNameErrMsg")):(i.error=!1,i.errorMessage="")),i},Nn=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,t?(n=t,nn.a.test(null===n||void 0===n?void 0:n.toLowerCase())?(i.error=!1,i.errorMessage=""):(i.error=!0,i.errorMessage=Object(Ae.e)("invalidEmailErrMsg"))):(i.error=!0,i.errorMessage=Object(Ae.e)("emptyEmailErrMsg")),i},En=function(e,t,n,a){var i;if(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length){var c=[];null===e||void 0===e||e.foodLines.forEach((function(e,t){var i,o,r=(e.amount/n).toFixed(2),s=(null===a||void 0===a?void 0:a.find((function(t){return t.products.find((function(t){var n;return t.name===(null===(n=e.item)||void 0===n?void 0:n.name)}))})))||{},d=s.id,l=void 0===d?"NA":d,u=s.name,b=void 0===u?"NA":u;c.push({item_name:(null===(i=e.item)||void 0===i?void 0:i.dname[0].value)||"NA",item_id:(null===(o=e.item)||void 0===o?void 0:o.id)||"NA",price:parseFloat(r)||"NA",item_category:b,item_list_name:b,item_list_id:l,index:t+1,quantity:e.quantity||"NA"})})),"AddContactInfoClick"===t&&Zt(c),"BeginCheckoutClick"===t&&$t(c)}},Tn=function(e,t,n,i){var c=nn.c.IS_DELIVERY,o=nn.c.IS_TAKEAWAY,r=Object(a.a)({},e);return r.value=t,Object(T.gc)(n)===c?(r.error=!1,r.errorMessage=""):t||Object(T.gc)(n)!==o||"handittome"!==i?t.length<2&&Object(T.gc)(n)===o&&"handittome"===i?(r.error=!0,r.errorMessage=Object(Ae.e)("invalidVehicalInformation")):(r.error=!1,r.errorMessage=""):(r.error=!0,r.errorMessage=Object(Ae.e)("pleaseEnterYourVehicalInformation")),r},In=function(e,t,n,a){var i,c=[];null===e||void 0===e||null===(i=e.foodLines)||void 0===i||i.forEach((function(e,n){var i,o,r=(null===a||void 0===a?void 0:a.find((function(t){return t.products.find((function(t){var n;return t.name===(null===(n=e.item)||void 0===n?void 0:n.name)}))})))||{},s=r.id,d=void 0===s?"NA":s,l=r.name,u=void 0===l?"NA":l;c.push({item_name:(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name)||"NA",item_id:(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id)||"NA",price:Number(((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2))||0,item_category:u,item_list_name:u,item_list_id:d,index:n+1,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),en(null===n||void 0===n?void 0:n.name,c)},Cn=function(e){var t,n,a,i,c,o=(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.response)?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.response)||void 0===a?void 0:a.data:null===e||void 0===e?void 0:e.response,r="";return(null===o||void 0===o?void 0:o.errors)&&(null===o||void 0===o?void 0:o.errors.length)>0?r=Array.isArray(null===o||void 0===o?void 0:o.errors)?null===o||void 0===o?void 0:o.errors[0]:null===o||void 0===o?void 0:o.errors:(null===o||void 0===o?void 0:o.errorMessages)&&(r=Array.isArray(null===o||void 0===o?void 0:o.errorMessages)?null===o||void 0===o?void 0:o.errorMessages[0]:null===o||void 0===o?void 0:o.errorMessages),r=(null===(i=r)||void 0===i?void 0:i.message)?null===(c=r)||void 0===c?void 0:c.message:r},Sn=function(e,t,n){var a="";return n?a=Object(Ae.e)(dn):t?a=Object(Ae.e)(sn):e&&(null===e||void 0===e?void 0:e.error)&&(a=Cn(e)),""!==a&&Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px payment-failed-error-box",children:[Object(u.jsx)(A.a,{srcFile:an,className:"mt-3px mr-5px"}),Object(u.jsx)("div",{className:"ml-10px",children:a})]})},An=function(e,t){"PICKUP"===e&&(t="leaveatmydoor"===t?"in-store":"KFC to your Car");var n=sessionStorage.getItem("setAttributePayload");n&&((n=JSON.parse(n)).CollectionPoint=t,Object(T.sc)(n))},yn=function(e,t){var n=nn.c.IS_TAKEAWAY,a=nn.c.IS_CURBSIDE;return t!==n||Array.isArray(e)&&e.length>0&&Boolean(e.find((function(e){return e.collectionPointName===a})))},_n=function(e,t){t&&(null===t||void 0===t?void 0:t.error)&&(null===t||void 0===t?void 0:t.response)&&(e(Object(gt.e)()),e(Object(gt.a)({value:[]}))),e(Object(on.b)()),localStorage.setItem(S.P.ORDER_TRACKING,null)},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t&&Object(T.M)(e,n)},Rn=function(e){var t=e.isOpen,n=e.handleClose,c=e.bucketId,o=Object(E.c)((function(e){return e.tenantReducer})),r=Object(i.useContext)(I.a).userOrderStateDispatch,s=o.tenantId,d=void 0===s?"":s,l=o.componentOptions,b=void 0===l?{}:l,v=Object(i.useState)(Object(T.Lb)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Object(i.useState)(""),C=Object(j.a)(N,2),y=C[0],_=C[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],L=R[1],k=Object(E.b)(),P=Object(E.c)((function(e){return e.cartReducer})),M=Object(E.c)((function(e){return e.appStateReducer})).userStatus,F=(void 0===M?{}:M).loggedIn,H=void 0!==F&&F,U=P.applicableCoupons,B=P.couponError,Y=P.cartData,G=void 0===Y?{}:Y,K=P.isCouponLoading,V=void 0===K||K,W=G.discountLines,q=void 0===W?[]:W;Object(i.useEffect)((function(){k(Object(_t.g)({basketId:c,tenantId:d}))}),[]),Object(i.useEffect)((function(){!function(e,t){t&&"NA"!==t&&Object(T.M)(e,t)}(Object(Ae.e)(Lt.j),y)}),[y]),Object(i.useEffect)((function(){return window.addEventListener("resize",Q),function(){window.removeEventListener("resize",Q)}}));var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.stopPropagation();var n=document.getElementById("coupon-top-div");null===n||void 0===n||n.scrollIntoView(!0),r({type:Lt.n,value:{couponErrorMessage:""}}),k(Object(_t.b)({basketId:c,tenantId:d},{couponCode:t||g}));var a=t||g;x(a)};Object(i.useEffect)((function(){var e,t,a,i,o,s,l=q.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.name)===Lt.a}));(null===l||void 0===l?void 0:l.length)>(null===b||void 0===b||null===(e=b.coupons)||void 0===e?void 0:e.noOfCoupopnAllowed)&&k(Object(_t.m)({basketId:c,tenantId:d,couponCode:null===(t=l[0])||void 0===t?void 0:t.couponCode}));!g||V||w?w&&(r({type:Lt.n,value:{couponErrorMessage:""}}),L(!1)):B&&(null===B||void 0===B?void 0:B.errorCode)?_(B.errors[0]):(null===q||void 0===q?void 0:q.length)&&(null===(a=q[(null===q||void 0===q?void 0:q.length)-1])||void 0===a||null===(i=a.status)||void 0===i?void 0:i.name)===Lt.a?(n("true"),Jt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(A.a,{srcFile:wt.a})," ",Object(u.jsx)("span",{className:"text",children:Object(Ae.e)(Lt.p)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Jt.b.POSITION.BOTTOM_CENTER}),localStorage.setItem("expiryMessage",Object(Ae.e)(Lt.c)),setTimeout((function(){Jt.b.dismiss()}),3e3)):(null===q||void 0===q?void 0:q.length)&&(null===(o=q[(null===q||void 0===q?void 0:q.length)-1])||void 0===o||null===(s=o.status)||void 0===s?void 0:s.name)===Lt.g&&(_(Object(Mt.b)(q[(null===q||void 0===q?void 0:q.length)-1])),L(!0))}),[B,q]);var Q=function(){f(Object(T.Lb)(window.innerWidth))},J=function(){x(""),_("")},X=m?{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Ae.e)(Lt.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"}:{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:n,backButtonHandler:n,modalTitle:Object(Ae.e)(Lt.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"},Z=Object(Dt.a)({"coupon-text-box":!0,"error-msg":y});return Object(u.jsxs)(pt,Object(a.a)(Object(a.a)({},X),{},{"data-testid":"modal-coupon-landing-page",children:[Object(u.jsx)("div",{className:"coupon-top-box coupon-border",id:"coupon-top-div",children:Object(u.jsxs)("div",{className:"coupon-top-content",children:[Object(u.jsxs)("div",{className:"coupon-discount-col-1",children:[Object(u.jsx)("h3",{"data-testid":"coupon-content-header",className:"coupon-content-header",children:Object(Ae.e)(Lt.i)}),Object(u.jsx)("p",{"data-testid":"coupon-content-desc",className:"coupon-content-desc",children:Object(Ae.e)(Lt.h)})]}),Object(u.jsxs)("div",{className:"coupon-discount-col-2",children:[Object(u.jsx)("label",{"data-testid":"coupon-input-label",className:"coupon-input-label",htmlFor:"modal-coupon-input",children:Object(Ae.e)(Lt.d)}),Object(u.jsxs)("div",{className:"flex-input-section",children:[Object(u.jsx)(Pt,{id:"modal-coupon-input",value:g,className:Z,placeholder:"Enter code","data-testid":"modal-coupon-input-field",onChange:function(e){x(e.target.value),_("")}}),g.length>0&&Object(u.jsx)("button",{"data-testid":"coupon-cross-icon",className:"discount-button-img",onClick:function(){return J()},onKeyPress:function(){return J()},"aria-label":"Clear Discount Code"})]}),y&&Object(u.jsxs)("div",{role:"alert",children:[Object(u.jsx)("img",{className:"",src:Rt,alt:"invalid"})," ",Object(u.jsx)("span",{"data-testid":"coupon-err-msg",className:"error-msg error-container-coupon",children:y})]})]}),Object(u.jsx)("div",{className:"coupon-discount-col-3",children:Object(u.jsx)(ht.a,{"aria-label":Object(Ae.e)(Lt.b),id:"btn-apply-view","data-testid":"coupon-apply-btn",className:"button whiteButton blackBorder coupon-button",disabled:!(null===g||void 0===g?void 0:g.length),onClick:function(e){return z(e,"")},children:Object(Ae.e)(Lt.b)})})]})}),Object(u.jsxs)("div",{className:"coupon-mid-box",children:[Object(u.jsx)("h3",{"data-testid":"modal-mid-header",className:"modal-mid-header",children:Object(Ae.e)(Lt.k)}),!H&&Object(u.jsx)("span",{onClick:function(){Object(T.h)()},"data-id":S.l.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"modal-mid-desc",tabIndex:"0",className:"modal-mid-desc",children:Object(Ae.e)(Lt.t)})]}),Object(u.jsx)(Qt,{"data-testid":"coupons-list",isMobile:m,applyCoupon:z,tenantId:d,couponsData:U})]}))};Rn.defaultProps={isOpen:!1,closeModal:null};var wn=Rn,Ln=n.p+"static/media/Offers_Coupon_Icon.72b94c41.svg",kn=n(37),Pn=function(e){var t=e.bucketId,n=void 0===t?"":t,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=kn.a.OFFERS_COUPONS,d=s.APPLY_OFFERS,l=s.VIEW_ALL,b=function(e){r(!1)};return Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&b()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),Object(u.jsxs)("div",{className:"cart-offers-container","data-testid":"cart-offers-coupon",children:[Object(u.jsxs)("div",{className:"cart-offers-link",children:[Object(u.jsx)("img",{src:Ln,alt:"",className:"cart-offers-icon"}),Object(u.jsx)("span",{className:"cart-offers-text",children:Object(Ae.e)(d)})]}),Object(u.jsx)(ht.a,{onClickHandler:function(){return r(!0)},ariaLable:"View all offers",className:"button whiteButton blackBorder cart-offers-view-all","data-testid":"offers-toggle-btn",children:Object(Ae.e)(l)}),o&&Object(u.jsx)(wn,{"data-testid":"coupon-modal",bucketId:n,isOpen:o,handleClose:b})]})},Mn=n.p+"static/media/Circle-close-button.bc38cc9f.svg",Fn=function(e,t){var n=t.currencySymbol,a=t.currencyConversionFactor;return n&&a&&e?"".concat(n).concat((e/a).toFixed(2)):"NA"},Hn=function(e){var t=e.cartReducer,n=void 0===t?{}:t,a=e.tenantReducer,c=void 0===a?{}:a,o=e.userParams,r=void 0===o?{}:o,s=e.type,d=c.tenantId,l=c.addHope,b=c.carryBag,v=c.currencyConversionFactor,O=n.cartData,m=void 0===O?{}:O,f=null===m||void 0===m?void 0:m.id,p=Object(T.vb)(null===m||void 0===m?void 0:m.foodLines),h=Object(i.useState)(0),g=Object(j.a)(h,2),x=g[0],N=g[1],I=null===m||void 0===m?void 0:m.subtotal,C=null===m||void 0===m?void 0:m.inclusiveTaxTotal,S=(null===m||void 0===m?void 0:m.additionalChargeLines)||[],A=(null===m||void 0===m?void 0:m.discountLines)||[],y=Object(E.b)(),_=nn.c.IS_TAKEAWAY,D=nn.c.CHECKOUT_SUMMARY,R=nn.c.SEARCH_IN_CART,w=nn.c.largeCarryBagText,L=nn.c.addHopeText,k=D.QUANTITY_TEXT,P=D.SUBTOTAL,M=D.GST,F=D.ADDITIONAL_TAX,H=D.QUANTITYS_TEXT,U=Object(i.useState)(""),B=Object(j.a)(U,2),Y=B[0],G=B[1],K=Object(i.useState)(""),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(0),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(0),$=Object(j.a)(Z,2),ee=$[0],te=$[1];return Object(i.useEffect)((function(){if(Object(T.u)(l,b)){var e=p.length?Object(T.s)(p,l,v,R):{},t=Object(T.yb)(null===e||void 0===e?void 0:e.id);if(G(t),t){var n=p.find((function(e){return e.id===t}));X(Fn(n.amount,c))}var a=p.length?Object(T.y)(p,b,v,R):{},i=Object(T.yb)(null===a||void 0===a?void 0:a.id);if(q(i),i){var o=p.find((function(e){return e.id===i}));te(Fn(o.amount,c))}var r=Object(T.Q)(p,l,b);N(null===r||void 0===r?void 0:r.reduce((function(e,t){return+e+ +(null===t||void 0===t?void 0:t.quantity)}),0))}}),[p,l,b]),Object(u.jsxs)("div",{className:"checkout-summary d-flex flex-column",id:"checkout-summary","data-testid":"checkout-summary-test",children:[Object(u.jsxs)("h2",{className:"checkout-summary-item-count",children:[x," ",Object(T.pb)(1===x,Object(Ae.e)(k),Object(Ae.e)(H))]}),r.loggedIn&&Object(u.jsx)("div",{className:"checkout-summary-coupons",children:Object(u.jsx)(Pn,{bucketId:f})}),Object(u.jsxs)("div",{className:"checkout-summary-content",children:[Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ae.e)(P)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:Fn(I,c)})]}),Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ae.e)(M)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:Fn(C,c)})]}),!!S.length&&S.map((function(e,t){return Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ae.e)(F)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:Fn(e.amount,c)})]},t)})),!!A.length&&A.map((function(e,t){return Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsxs)("div",{className:"checkout-summary-content-item-name d-flex",children:[Object(u.jsxs)("span",{className:"checkout-discount-code",children:["Discount (",e.couponCode,")"]}),Object(u.jsx)("span",{className:"checkout-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:function(){return t=null===e||void 0===e?void 0:e.couponCode,void y(Object(_t.m)({basketId:f,tenantId:d,couponCode:t}));var t},children:Object(u.jsx)("img",{src:Mn})})]}),Object(u.jsxs)("div",{className:"checkout-summary-content-item-value",children:["- ",Fn(e.amount,c)]})]},t)})),Object(T.gc)(s)===_&&W&&Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-carry-bag-text",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ae.e)(w)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:ee})]}),Boolean(Y)&&Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-add-hope-text",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Ae.e)(L)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:J})]})]})]})},Un=n.p+"static/media/Takeaway_Completed.10e792fc.svg",Bn=n.p+"static/media/Confirmed.67609d6f.svg",Yn={SAVE_ORDER_NAME_ERROR:"OccasionNameValidation",CURRENT_ORDER:"currentOrder",PROCESSING:"processing",PROCESSING_YOUR:"processingYour",ORDER_READY_IN_JUST:"orderReadyInJust",SECOND:"aSecondText",CONFIRMING_YOUR_ORDER:"confirmYourOrder",READY_IN_JUST_A_SECOND:"readyInJustASecond",YOUR_ORDER:"yourOrder",ORDER:"order#",COMPLETED:"completed",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUB_TOTAL:"subTotal",DISCOUNT:"discount",TOTAL:"total",ORDERS:"order",YOUR_SET:"YOU\u2019RE ALL SET",DELEIVERED_AROUND:" will be delivered around",PICKUP_AROUND:"willBeReadyForPickup",READY_FOR_PICKUP:"readyForPickup",NAME_ORDER_NUMBER:"GIVE US YOUR NAME OR ORDER NUMBER",WHEN_YOURE_HERE:"WHEN YOU\u2019RE HERE.",SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER:"SAVE YOUR ORDERS AND CHECKOUT FASTER",SAVED_TO_FAVORITE_MENU:"Saved this order in My Favorite Menu.",CREATE_AND_ACCOUNT_SAVE_ORDERS:"CREATE AN ACCOUNT TO SAVE YOUR ORDERS AND",CHECKOUT_FASTER:"CHECKOUT FASTER",SAVE_THIS_Order:"Save This Order",ORDER_FROM_CAPS:"ORDER FROM",VIEW_MORE:"View More Details",BACK_TO_CART:"backToCart",THAT_AINT_RIGHT:"thatNotRight",FAILED_MSG:"unsuccessfulPayment",FEEDBACK_EMAIL:"FeedbackEmail",PHONE_NUMBER:"phoneNumber",BACK_TO_CART_MSG:"GoBackToCart",ORDER_ACCEPTED:"orderAccepted",SIGN_UP:"signAndSaveOrder",RESTAURANT_HANDLING_CHARGE:"cartIncluTax",READY_FOR_DINEIN:"readyForDineIn",DINEIN_AROUND:"dineInText",PICKUP:"PICKUP",DELIVERY:"DELIVERY",ONLY_IMAGE:"Only image",DELIVERY_FEE:"deliveryFee",DISCOUNT_TEXT:"DiscountText",THANKYOU:"saveOrderThankYou",WE_SAVED:"weSaved",GIVE_A_NAME:"giveAName",SCHEDULE_ORDER:"savedOrderScheduleOrder",ORDER_DETAIL:"orderDetails",SCHEDULED:"scheduled",GST:"cartGst",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",HH_MM:"hh mm",HH_MM_A:"hh:mma",TOTAL_GST_INCLUDED:"gstIncluded",REORDER_FAVOURITES:"reorderFavourites",CREATE_KFC_ACCOUNT:"createKfcAccount"},Gn=Yn.ORDERS,Kn=void 0===Gn?"":Gn,Vn=Yn.READY_FOR_PICKUP,Wn=void 0===Vn?"":Vn,qn=Yn.DELEIVERED_AROUND,zn=void 0===qn?"":qn,Qn=Yn.PICKUP_AROUND,Jn=void 0===Qn?"":Qn,Xn=Yn.ORDER_ACCEPTED,Zn=void 0===Xn?"":Xn,$n=Yn.READY_FOR_DINEIN,ea=void 0===$n?"":$n,ta=Yn.DINEIN_AROUND,na=void 0===ta?"":ta,aa=Yn.PICKUP,ia=void 0===aa?"":aa,ca=function(e){e(!0)},oa=function(e,t){e(t)},ra=function(e,t,n){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:Un,alt:"success"}),Object(u.jsx)("div",{className:"allSet",children:Object(T.gc)(n)===ia?Object(Ae.e)(Wn):Object(Ae.e)(ea)}),Object(u.jsxs)("div",{className:"idAndTime",children:[Object(Ae.e)(Kn)," ",Object(u.jsxs)("span",{className:"red",children:["#",null===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId," "]}),Object(T.gc)(n)===ia?Object(Ae.e)(Jn):Object(Ae.e)(na),Object(u.jsx)("div",{className:"red",children:t})]})]})},sa=function(e,t){var n;return null===(n=e/t)||void 0===n?void 0:n.toFixed(2)},da=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0)},la=function(e,t,n){var a=da(e);return Object(u.jsx)(se,{header:a+" ITEM"+(a>1?"S":""),className:"billDropDown",children:null===e||void 0===e?void 0:e.map((function(e,a){var i,c,o;return Object(u.jsxs)("div",{className:"billDescription",children:[Object(u.jsxs)("div",{id:"foodItemContainer",children:[Object(u.jsx)("span",{className:"number",children:null===e||void 0===e?void 0:e.quantity}),Object(u.jsxs)("span",{id:"foodNameChild",className:"foodName",children:[" ",null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name]})]}),Object(u.jsxs)("div",{className:"ItemPrice foodName",children:[t,null===sa||void 0===sa?void 0:sa.call(undefined,(null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.quantity)*(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.unitPrice),n)," "]})]},a)}))})},ua=function(e,t,n,a,i,c,o){var r,s,d=i||{},l=d.setAddHopeDataExistsId,u=d.setAddHopeDataPrice,b=c||{},v=b.setCarryBagDataExistsId,j=b.setCarryBagDataPrice,O={addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:""},m=o.currencyConversionFactor,f=(null===e||void 0===e||null===(r=e.foodLines)||void 0===r?void 0:r.length)?Object(T.s)(null===e||void 0===e?void 0:e.foodLines,t,m,a):{};if(O.addHopeDataExistsId=Object(T.yb)(null===f||void 0===f?void 0:f.id),i&&l(null===O||void 0===O?void 0:O.addHopeDataExistsId),null===O||void 0===O?void 0:O.addHopeDataExistsId){var p,h=null===e||void 0===e||null===(p=e.foodLines)||void 0===p?void 0:p.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===O||void 0===O?void 0:O.addHopeDataExistsId)}));O.addHopeDataPrice=Fn(null===h||void 0===h?void 0:h.amount,o),i&&u(null===O||void 0===O?void 0:O.addHopeDataPrice)}var g=(null===e||void 0===e||null===(s=e.foodLines)||void 0===s?void 0:s.length)?Object(T.y)(null===e||void 0===e?void 0:e.foodLines,n,m,a):{};if(O.carryBagDataExistsId=Object(T.yb)(null===g||void 0===g?void 0:g.id),c&&v(null===O||void 0===O?void 0:O.carryBagDataExistsId),null===O||void 0===O?void 0:O.carryBagDataExistsId){var x=null===e||void 0===e?void 0:e.foodLines.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===O||void 0===O?void 0:O.carryBagDataExistsId)}));O.carryBagDataPrice=Fn(null===x||void 0===x?void 0:x.amount,o),c&&j(null===O||void 0===O?void 0:O.carryBagDataPrice)}return O},ba=0,va=function(e,t,n){var i,c=Object(a.a)({},e),o=c.errorMessage;return c.value=t,t?(i=t,U.a.EMAIL_REGEX.test(i)?(ba=0,c.error=!1,c.errorMessage=""):(c.error=!0,c.errorMessage=Object(Ae.e)("invalidYourEmailErrText"),n(!0))):(c.error=!0,c.errorMessage=Object(Ae.e)("yourEmailHelpText"),n(!0)),o!==c.errorMessage&&(ba=0),c.error&&0===ba&&(ba=1,Object(T.M)("OrderLookup",c.errorMessage)),c},ja=function(e,t,n,a){var i,c;return(null===e||void 0===e||null===(i=e.discountLines)||void 0===i?void 0:i.length)>0&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsxs)("span",{className:"fonts",children:[Object(Ae.e)(a)," (",null===e||void 0===e||null===(c=e.discountLines[0])||void 0===c?void 0:c.couponCode,")"]}),Object(u.jsxs)("span",{className:"amount",children:[" ","- ",t,n]})]})},Oa=function(e){var t,n,c,o=e.isOpen,r=void 0!==o&&o,s=e.handleClose,d=Object(E.b)(),l=Object(E.c)((function(e){return e.tenantReducer})),b=l.tenantId,v=l.currencySymbol,O=l.currencyConversionFactor,m=l.addHope,f=l.carryBag,p=Object(i.useState)(Object(T.Lb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Object(i.useState)(""),I=Object(j.a)(N,2),S=I[0],A=I[1],y=Object(i.useState)(0),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(i.useState)([]),L=Object(j.a)(w,2),k=L[0],P=L[1],M=Object(i.useState)([]),F=Object(j.a)(M,2),H=F[0],B=F[1],Y=Object(i.useState)(0),G=Object(j.a)(Y,2),K=G[0],V=G[1],W=Object(i.useState)(""),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(!1),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(!1),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)({}),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(!0),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)(""),xe=Object(j.a)(ge,2),Ne=xe[0],Ee=xe[1],Te=Object(i.useState)(""),Ie=Object(j.a)(Te,2),Ce=Ie[0],Se=Ie[1],ye=Object(i.useState)(""),_e=Object(j.a)(ye,2),Re=_e[0],we=_e[1],Le=Object(i.useState)(0),ke=Object(j.a)(Le,2),Pe=ke[0],Me=ke[1],Fe=Object(i.useState)(0),He=Object(j.a)(Fe,2),Ue=He[0],Be=He[1],Ye=Object(i.useState)([]),Ge=Object(j.a)(Ye,2),Ke=Ge[0],Ve=Ge[1],We=Object(i.useState)({value:"",errorMessage:"",error:!1}),qe=Object(j.a)(We,2),ze=qe[0],Qe=qe[1],Je=Object(i.useState)({value:"",errorMessage:"",error:!1}),Xe=Object(j.a)(Je,2),Ze=Xe[0],$e=Xe[1],et=Object(i.useState)({value:"",errorMessage:"",error:!1}),tt=Object(j.a)(et,2),nt=tt[0],at=tt[1],it=U.a.PHONE_NUM,ct=U.a.ORDER_NUMBER,ot=U.a.CANCEL,rt=U.a.SUBMIT,st=U.a.ORDERHASH,dt=U.a.YOUR_ORDER,lt=U.a.DELIVER_TO,ut=U.a.ORDER_FROM,bt=U.a.GET_DIRECTION,vt=U.a.DISCOUNT,jt=U.a.TOTAL,Ot=U.a.COMPLETED,mt=U.a.SUB_TOTAL,ft=U.a.PAYMENT,Et=U.a.ORDER_LOOKUP,Tt=U.a.EMAIL_ADDRESS,It=U.a.DELIVERY,St=U.a.SEARCH_IN_CART,_t=U.a.largeCarryBagText,Dt=U.a.addHopeText;Object(i.useEffect)((function(){return window.addEventListener("resize",Rt),function(){window.removeEventListener("resize",Rt)}}),[g]);var Rt=function(){x(Object(T.Lb)(window.innerWidth))};Object(i.useEffect)((function(){d(Object(yt.a)({object:Object(C.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((function(){""===ze.value||ze.error||""===Ze.value||Ze.error||""===nt.value||nt.error||he(!1)})),Object(i.useEffect)((function(){""===nt.value.trim()&&he(!0)}),[null===nt||void 0===nt?void 0:nt.value]);var wt=Object(E.c)((function(e){return e.paymentsContentReducer})).tendersContent.items,Lt=function(e){return(e/O).toFixed(2)};Object(i.useEffect)((function(){return d(Object(gt.a)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value}))}),[]);var kt=Object(E.c)((function(e){return e.orderReducer})).pastOrderResponse,Pt=void 0===kt?[{}]:kt,Mt=Pt[0];Object(i.useEffect)((function(){Object(T.u)(null===wt||void 0===wt?void 0:wt.length,null===Mt||void 0===Mt?void 0:Mt.paymentReferences)&&wt.map((function(e){e.fields.title===Mt.paymentReferences[0].paymentType&&Oe(e)}))}),[Mt]),Object(i.useEffect)((function(){if(null===Mt||void 0===Mt?void 0:Mt.id){ae(!1),ue(!0);var e=Mt.fulfillmentDateTime,t=Object(De.e)(Object(De.q)(e),"ll"),n=Object(De.e)(Object(De.q)(e),"h:mm A");if(A(t+" at "+n),P(Mt.taxLines),B(Mt.additionalChargeLines),V(Lt(Mt.discountTotal)),$(function(e){e.substr(0,e.indexOf(" "));var t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(Mt.store.phoneNumber)),R(Lt(Mt.subTotal)),Q(Lt(Mt.total)),Ee(Mt.service),Object(T.u)(m,f)){!function(e,t,n,a,i,c,o){var r=i.setAddHopeDataExistsId,s=i.setAddHopeDataPrice,d=c.setCarryBagDataExistsId,l=c.setCarryBagDataPrice,u=o.currencyConversionFactor,b=e.foodLines.length?Object(T.s)(e.foodLines,t,u,a):{},v=Object(T.yb)(null===b||void 0===b?void 0:b.id);if(r(v),v){var j=e.foodLines.find((function(e){return e.id===v}));s(Fn(j.amount,o))}var O=e.foodLines.length?Object(T.y)(e.foodLines,n,u,a):{},m=Object(T.yb)(null===O||void 0===O?void 0:O.id);if(d(m),m){var f=e.foodLines.find((function(e){return e.id===m}));l(Fn(f.amount,o))}}(Mt,m,f,St,{setAddHopeDataExistsId:we,setAddHopeDataPrice:Me},{setCarryBagDataExistsId:Se,setCarryBagDataPrice:Be},l);var a=function(e,t,n){return e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===(i=e.item)||void 0===i?void 0:i.name)!==n}))}(Mt.foodLines,m,f);Ve(a)}}else Mt||(ue(!1),ae(!0),Object(T.M)("OrderLookup",Object(Ae.e)("invaidInputs")),he(!0))}),[Pt]);var Ft=g?{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:r,classNames:Object(T.pb)(le,"lookup-order-modal","Base-modal"),showCloseBtn:!0,closeButtonHandler:s,autoFocus:!0,modalTitle:Object(Ae.e)(Et),closeDataTestId:"close-quick-reorder-modal"}:{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:r,classNames:Object(T.pb)(le,"lookup-order-modal","Base-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:s,modalTitle:"ORDER LOOKUP",autoFocus:!0,closeDataTestId:"close-quick-reorder-modal"};var Ht=function(e,t){ae(!1);var n=e.target.value;if(Object(T.Xb)(n,t)){var i=n.replace(/\+|-/gi,"");$e(Object(a.a)({},Object(T.qc)(Ze,i,he)))}t===Tt&&Qe(Object(a.a)({},va(ze,n,he))),t===ct&&at(Object(a.a)({},Object(T.rc)(nt,n,he)))},Ut=Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:"GST"}),Object(u.jsxs)("span",{className:"amount",children:[v,Lt(null===Mt||void 0===Mt?void 0:Mt.inclusiveTaxTotal)," "]})]}),Bt=H.map((function(e,t){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsxs)("span",{className:"fonts",children:[" ",e.chargeType]}),Object(u.jsxs)("span",{className:"amount",children:[v,Lt.call(this,e.amount)," "]})]},t)})),Yt=Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"InputArea",children:[Object(u.jsx)("h3",{className:"InputHeading",children:"Enter your order Number"}),Object(u.jsxs)("div",{className:"inputLookUpNumbox",children:[!g&&Object(u.jsx)("p",{className:"lookup-mandatory-note",children:Object(Ae.e)("mandatorynote")}),Object(u.jsx)(At,{"data-testid":"user-phoneNum",type:"number",autoComplete:"on",value:Ze.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Ae.e)(it),onChange:function(e){return Ht(e,it)},helperText:Ze.errorMessage,error:Ze.error}),Object(u.jsx)(At,{"data-testid":"user-orderId",autoComplete:"off",value:nt.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Ae.e)(ct),onChange:function(e){return Ht(e,ct)},helperText:nt.errorMessage,error:nt.error}),Object(u.jsx)(At,{"data-testid":"user-email",autoComplete:"on",value:ze.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Ae.e)(Tt),onChange:function(e){return Ht(e,Tt)},helperText:ze.errorMessage,error:ze.error})]}),ne&&Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"exMark",children:"!"}),Object(u.jsx)("span",{className:"errorMessage",children:Object(Ae.e)("invaidInputs")})]})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(ht.a,{"data-testid":"cancel-button",ariaLable:"cancel",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return Kt()},children:ot}),Object(u.jsx)(ht.a,{"data-testid":"submit-button",ariaLable:"submit",className:"button blackButton blackBorder save-button",onClick:function(e){return Gt(e)},disabled:pe,children:rt})]})]}),Gt=function(e){""!==Object(T.u)(ze.value,Object(T.u)(Ze.value,nt.value))&&d(Object(gt.d)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value,tenantId:b}))},Kt=function(){ue(!1),s(),d(Object(gt.a)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value}))},Vt="tel:"+(null===Mt||void 0===Mt||null===(t=Mt.store)||void 0===t?void 0:t.phoneNumber);return Object(u.jsxs)("div",{children:[r&&!le&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},Ft),{},{children:Object(u.jsx)("div",{className:"LookUpmodalContants",children:Yt})})),r&&le&&Mt&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},Ft),{},{children:Object(u.jsx)("div",{className:"LookUpmodalContants",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"orderLookUpData",children:[Object(u.jsxs)("div",{className:"Orderheading",children:[Object(u.jsx)("span",{className:"yourOrder",children:dt}),Object(u.jsxs)("span",{className:"idNumber",children:[st,Mt.posOrderId]})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:Ot}),Object(u.jsx)("span",{className:"dateCompleted",children:S})]}),Object(T.gc)(null===Mt||void 0===Mt?void 0:Mt.service)===It&&null!==(null===Mt||void 0===Mt?void 0:Mt.deliveryAddress)&&Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:lt}),Object(u.jsx)("span",{className:"dateCompleted",children:Object(T.a)(null===Mt||void 0===Mt?void 0:Mt.deliveryAddress)})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:ft}),Object(u.jsx)("span",{className:"dateCompleted",children:"Only image"===je.fields.displayFormat?Object(u.jsx)("img",{src:je.fields.icon.fields.desktopImage.fields.file.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"dateCompleted",children:je.fields.displayName})})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsxs)("span",{className:"completed",children:[" ",ut]}),null!==Mt.store&&void 0!==Mt.store&&Object(u.jsxs)("span",{className:"dateCompleted",children:[Mt.store.name,Object(u.jsx)("br",{}),null===Mt||void 0===Mt||null===(n=Mt.store)||void 0===n||null===(c=n.address)||void 0===c?void 0:c.addressLines]})]}),Object(u.jsxs)("div",{className:"CompletedCallAndDirection",id:"DirectionTest",children:[Object(u.jsx)("span",{children:" "}),Object(u.jsxs)("span",{className:"callAndDirection",children:[Object(u.jsxs)("span",{className:"KfcphoneNums",children:[Object(u.jsx)("img",{src:xt,alt:"phone",className:"KfcphoneIcon"}),Object(u.jsx)("a",{href:Vt,className:"anchorTags",children:Z})]}),Object(u.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:function(){re(!0)},children:[Object(u.jsx)("img",{src:Nt,alt:"phone",className:"KfcDirectionIcon"}),Object(Ae.e)(bt)]})]})]}),Object(u.jsx)("div",{className:"detailsAccordian",children:la(Ke,v,O)}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ae.e)(mt)}),Object(u.jsxs)("span",{className:"amount",children:[v,D]})]}),k&&Object(u.jsx)("div",{children:Ut}),H&&Object(u.jsx)("div",{children:Bt}),ja(Mt,v,K,vt),"PICKUP"===Ne.toUpperCase()&&Ce&&Object(u.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(u.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(Ae.e)(_t)}),Object(u.jsx)("span",{className:"amount",id:"amountStyle",children:Ue})]}),Boolean(Re)&&Object(u.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(u.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(Ae.e)(Dt)}),Object(u.jsx)("span",{className:"amount",id:"amountStyle",children:Pe})]}),z&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsx)("span",{className:"total",children:jt}),Object(u.jsxs)("span",{className:"total",children:[v,z]})]})]}),Object(u.jsxs)("div",{className:"buttonItemsDone",children:[Object(u.jsx)(ht.a,{"data-testid":"cancel-button",className:"button whiteButton blackBorder closebtn-cls",id:"lookupButton",onClick:function(e){ue(!1)},children:Object(Ae.e)("backButton")}),Object(u.jsx)(ht.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClick:function(e){return Kt()},children:Object(Ae.e)("popoverDoneButton")})]})]})})})),oe&&Object(u.jsx)("div",{children:Object(u.jsx)(Ct,{"data-testid":"map-modal",isOpen:oe,handleClose:function(){return re(!1)},OrderReducerData:Mt})})]})},ma=function(e){var t=Object(i.useContext)(I.a).userOrderStateDispatch,n=e.contentData,a=void 0===n?[]:n,c=e.tenantReducerData,o=e.history,r=Object(i.useState)(Object(T.Lb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=_e.a.LANGUAGE_SELECTOR,v=Object(E.c)((function(e){return e.tenantReducer})),O=((null===v||void 0===v?void 0:v.basic)||{}).allowedLanguages,m=void 0===O?[]:O,f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],x=U.a.ORDER_LOOKUP_NAME,N=U.a.FOOTER_MENU,C=function(){var e=Object(T.Lb)(window.innerWidth);l(e)},S=Object(E.b)();Object(i.useEffect)((function(){window.addEventListener("resize",C)}),[d]);var A=function(e){(null===e||void 0===e?void 0:e.includes("http"))?window.location.replace(e):(o.push({pathname:e}),window.scrollTo(0,0))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"footer","data-testid":"FooterItems-component",role:"contentinfo",children:Object(u.jsx)(ye,{contentData:a,isMobile:d,clickHandler:function(e){var n=e.linkTo,a=e.name;if(Ie({footerItemSelected:a}),"Language Selector"===e&&(null===m||void 0===m?void 0:m.length)>1&&(t({type:b,value:{showLanguageSelector:!0}}),setTimeout((function(){document.getElementById("language_selector")&&document.getElementById("language_selector").focus()}),0)),a===x)g(!0),S(Object(gt.a)({}));else if(a===N&&n)A(n);else if(n){if("Find a KFC"===a){return dt("findAStore"),!1}A(n)}},tenantReducerData:c,navigateHandler:function(){o.push({pathname:"/"}),window.scrollTo(0,0)},"data-testid":"footer-items"})}),h&&Object(u.jsx)(Oa,{isOpen:!0,handleClose:function(){return g(!1)},tenantReducerData:c})]})},fa=n.p+"static/media/Bucket-Cart.6eee8cbb.svg",pa={contentData:{headerContent:{kfcLogo:{src:"",alt:""},navLeft:[{name:"Menu",linkTo:"",imageUrl:""},{name:"Deals",linkTo:"",imageUrl:""},{name:"Catering",linkTo:"",imageUrl:""}],navRight:[{name:"",linkTo:"",url:"",type:"Language Selector",options:["Eng","Fr","De"]},{name:"Sign In",linkTo:"",url:n.p+"static/media/Icon_Account.13e97818.svg"},{name:"",linkTo:"",url:fa}],navMobileMenu:{threeLineIcon:{src:"",alt:""},letsGetCookingText:{name:"letsgetcook"}}}}},ha={HEADER_LOGO:"HEADER LOGO",MENU_LINK:"MENU LINK",DEALS_LINK:"DEALS LINK",CATERING_LINK:"CATERING LINK",SIGN_IN_LINK:"SIGN IN LINK",CART_ICON:"CART ICON",LANGUAGE_SELECTOR:"LANGUAGE SELECTOR",SUPPORT_LINK:"SUPPORT SECTION",GUEST_USER_SINGIN_TEXT:"signInSignUp",LOGGEDIN_USER_SINGIN_TEXT:"account",CART_ICON_100_PERCENT:"CART ICON ANIMATION_100%",CART_ICON_120_PERCENT:"CART ICON ANIMATION_120%",BACK_TO_CART:"backToCart",USER_SINGIN_TEXT:"Sign In",Go_TO_HOME_PAGE:"GoToHomePage",ZERO:0,CART_ALT_TEXT:"Cart"},ga=function(e,t,n){var i=ha.HEADER_LOGO,c=ha.MENU_LINK,o=ha.DEALS_LINK,r=ha.CATERING_LINK,s=ha.SIGN_IN_LINK,d=ha.CART_ICON_100_PERCENT,l=ha.CART_ICON_120_PERCENT,u=ha.SUPPORT_LINK,b={kfcLogo:{},navLeft:[],navRight:[],navMobileMenu:{}};if(e&&e.headerSection&&e.subHeaderSection){var v,j=Object(Oe.a)(e.headerSection);try{for(j.s();!(v=j.n()).done;){var O=v.value,m=O.fields.title,f=(void 0===m?"":m).toUpperCase().trim();if(f===c||f===o||f===r)b.navLeft.push(Object(a.a)(Object(a.a)({},xa(O.fields)),{},{altText:O.fields.linkText}));else if(f===s){var p=Na(O.fields.icon.fields),h=p.altText,g=p.url;b.navRight.push(Object(a.a)(Object(a.a)({},xa(O.fields)),{},{title:f,altText:h,imageUrl:g}))}else if(f===d||f===l)b.navRight.push(Object(a.a)(Object(a.a)({},Na(O.fields)),{},{title:f,altText:O.fields.title}));else if(f===i){var x=Na(O.fields),N=x.url,E=x.altText;b.kfcLogo={src:N,alt:E}}}}catch(A){j.e(A)}finally{j.f()}var T,I=Object(Oe.a)(e.subHeaderSection);try{for(I.s();!(T=I.n()).done;){var C=T.value,S=C.fields.title;(void 0===S?"":S).toUpperCase()===u&&(b.navMobileMenu.supportCategory=Ta(C.fields))}}catch(A){I.e(A)}finally{I.f()}"INDIA"!==n&&b.navRight.unshift(Object(a.a)({},Ca(t)))}return b},xa=function(e){var t=e.linkText,n=e.url,a=e.icon,i=(void 0===a?null:a).fields,c=i&&Na(i)||{},o=c.url,r=void 0===o?"":o,s=c.altText;return{name:t,linkTo:n,imageUrl:r,altText:void 0===s?"":s}},Na=function(e){var t=e.desktopImage;return t&&Ea(t)||{}},Ea=function(e){var t=e.fields&&e.fields.file&&e.fields.file||{},n=t.url,a=void 0===n?"":n,i=t.altText;return{url:a,altText:void 0===i?"":i}},Ta=function(e){var t=[],n=e.category,a=e.links;return(void 0===a?[]:a).map((function(e){t.push(Ia(e.fields))})),{categoryHeaderText:n,subCategories:t}},Ia=function(e){return{name:e.linkText,linkTo:e.url,internalurl:e.internalurl,externalurl:e.externalurl}},Ca=function(e){var t=Object(a.a)({},pa.contentData.headerContent.navRight[0]);t.options=[];var n=(e||{allowedLanguages:[{value:""}]}).allowedLanguages;if(n.length>0){var i,c=Object(Oe.a)(n);try{for(c.s();!(i=c.n()).done;){var o=i.value;t.options.push(o.value)}}catch(r){c.e(r)}finally{c.f()}return t}return{}},Sa=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(null===(n=ke.a.topNavigationLinks)||void 0===n?void 0:n.name,{"%event%":"topNavigationLinks","%navigationLink%":t.headerItemSelected},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Aa=n.p+"static/media/MenuIcon.e607771f.svg",ya=n.p+"static/media/kfcLogo.492728c6.svg",_a=n.p+"static/media/ArrowIcon.c4b884a3.svg",Da=n(73),Ra=n.p+"static/media/Stripes_Small_OffersIcon.87fc6256.svg",wa=n(16),La=function(e,t){var n=ha.LOGGEDIN_USER_SINGIN_TEXT,a=_e.a.ANALYTICS_LOCALISATION_SIGNIN;return e!==Object(Ae.e)(n)&&(localStorage.setItem(a,JSON.stringify(!0)),Object(T.h)()),e===Object(Ae.e)(n)?e:t},ka=function(e){var t=e.idx,n=void 0===t?"":t,c=e.className,o=void 0===c?"":c,r=e.handleClose,s=void 0===r?null:r,d=e.onItemsClickHandler,l=void 0===d?null:d,b=e.contentData,v=void 0===b?{}:b,O=e.userParams,f=void 0===O?{}:O,p=v.navLeft,h=void 0===p?[]:p,g=v.navRight,x=void 0===g?[]:g,N=v.navMobileMenu,C=void 0===N?{}:N,y=C.letsGetCookingText,_=void 0===y?"":y,D=C.supportCategory,R=void 0===D?{}:D,w=function(e){var t,n=ha.LANGUAGE_SELECTOR,a=void 0===n?"":n,i={},c=Object(Oe.a)(e);try{for(c.s();!(t=c.n()).done;){var o=t.value;o.type&&o.type.toUpperCase()===a&&(i=o)}}catch(r){c.e(r)}finally{c.f()}return i}(x),L=ha.SIGN_IN_LINK,k=ha.GUEST_USER_SINGIN_TEXT,P=ha.LOGGEDIN_USER_SINGIN_TEXT,M=ha.CART_ICON_100_PERCENT,F=f.loggedIn?Object(Ae.e)(P):Object(Ae.e)(k),H=Object(i.useContext)(I.a).userOrderState.languageUpdationHappened,U=void 0===H?"":H,B=Object(E.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),Y=B.defaultLanguage,G=B.allowedLanguages,K=B.COUNTRY,V=Object(i.useState)(),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=(Object(E.c)((function(e){return{cartReducer:e.cartReducer||{}}})).cartReducer||{}).cartData,J=((void 0===Q?[]:Q)||{}).foodLines,X=void 0===J?[]:J,Z=Object(i.useState)(m.a.reduce(X,(function(e,t){return e+t.quantity}),0)),$=Object(j.a)(Z,2),ee=$[0],ne=$[1];Object(i.useEffect)((function(){var e=G.find((function(e){return e.key===Object(T.T)("".concat(K,"_").concat(S.wb))}));K&&z((e||{}).value||(Y||{}).value),ne(m.a.reduce(X,(function(e,t){return e+t.quantity}),0))}),[K,U,X]);var ae=function(e,t){var n=S.Ab.KEY_CHAR_CODE,a=n.SPACE,i=n.ENTER;e.charCode!==a&&e.charCode!==i||l(t)},ie=!(wa.b.isGoogle&&f.loggedIn);return Object(u.jsxs)("div",{id:n,className:o,children:[Object(u.jsxs)("div",{className:"nav mobile-modal-header","data-testid":"mobileHeader-component",children:[Object(u.jsx)(le,{className:"hamburger-close-btn","data-testid":"hamburger-close",onClickHandler:s,children:Object(u.jsx)(A.a,{srcFile:Re,alt:"close"})}),Object(u.jsx)("span",{className:"headerLogoMobile",children:Object(u.jsx)(Da.a,{src:Ra})}),x.map((function(e){if(e.url&&e.title===M)return Object(u.jsxs)(le,{onClickHandler:l,className:"cart-image",name:(t=e.altText,t.split(" ")[0]||ha.CART_ALT_TEXT),children:[Object(u.jsx)(A.a,{srcFile:e.url||e.imageUrl,className:"navRightIcons mobCartIcon"}),Object(u.jsx)("span",{className:"mobileCartIconCount hamburger-count",children:ee>99?Object(u.jsxs)("span",{className:"cart-icon-plus",children:["99",Object(u.jsx)("span",{className:"cartPlus",children:"+"})]}):ee})]});var t}))]}),Object(u.jsx)("div",{className:"mobile-modal-body",children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("div",{className:"title-container",children:[Object(u.jsx)("div",{className:"title-text",children:Object(Ae.e)(_.name)}),Object(u.jsx)("div",{className:"lang-div",children:Object(T.Fb)(w)&&Object(u.jsxs)(le,{onClickHandler:l,name:w.type||w.name||"cart",children:[Object(u.jsx)(ue,{options:G.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toLowerCase()})),className:"language-select",selectedValue:q}),Object(u.jsx)("span",{className:"dropdown-img-ham"})]})})]}),Object(u.jsx)("div",{className:"signup-container","data-id":ie?S.l.HEADER_SIGN_IN_ATTR_DATA_ID:"",children:x.map((function(e){if(e.title&&e.title.toUpperCase()===L)return Object(u.jsxs)("div",{onKeyPress:function(t){return ae(t,La(F,e.name))},onClick:function(){return l(La(F,e.name))},children:[Object(u.jsx)(A.a,{srcFile:e.url||e.imageUrl,className:"navRightIcons"}),Object(u.jsx)("span",{children:Object(Ae.e)(F)}),Object(u.jsx)(A.a,{srcFile:_a,className:"navRightIcons arrow"})]})}))}),Object(u.jsx)("div",{className:"navItemsLeft",children:h.map((function(e,t){return Object(u.jsx)("div",{className:"row",onKeyPress:function(t){return ae(t,e.name)},onClick:function(){return l(e.name)},children:Object(u.jsxs)("div",{className:"header-card d-flex",children:[Object(u.jsx)("div",{className:"header-card-name",href:e.linkTo,id:t,tabIndex:"0",children:e.name}),Object(u.jsx)("div",{className:"header-card-image",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})]})},t)}))}),Object(u.jsx)("div",{className:"support-div",children:Object(u.jsx)(te,Object(a.a)({className:"footer-links","data-testid":"footerItemCat-component",onClickHandler:l},R))})]})})]})},Pa=n(80),Ma=function(e){return e?" itemCountActive":""},Fa=function(e){return e?" iconActive":""},Ha=function(e){return Object(T.pb)(e>99,Object(u.jsxs)("span",{className:"cart-icon-plus",children:["99",Object(u.jsx)("span",{className:"cartPlus",children:"+"})]}),e)},Ua=function(e){switch(e){case"Menu":return"/menu";case"Deals":return"/offers";default:return""}},Ba=function(e,t,n){!e.type&&t&&"Sign In"===e.name?n.push({pathname:"/account"}):function(){var e=_e.a.ANALYTICS_LOCALISATION_SIGNIN;localStorage.setItem(e,JSON.stringify(!0)),Object(T.h)()}()},Ya=function(e){return e.filter((function(e){return e.title===ha.SIGN_IN_LINK}))},Ga=function(e){return e.split(" ")[0]},Ka=function(e){Boolean(document.querySelector("#headermenu-id"))&&(document.querySelector("#headermenu-id").style.width="100%"),Boolean(document.querySelector("#startorder-container"))&&(document.querySelector("#startorder-container").style.display="none"),document.body.style.overflowY="hidden"},Va=function(){document.querySelector("#headermenu-id").style.width="0px",document.querySelector("#startorder-container").style.display="block",document.body.style.overflowY="auto"},Wa=function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),o=n[0],r=n[1],s=e.contentData,d=void 0===s?{}:s,l=e.clickHandler,b=void 0===l?null:l,v=e.isMobile,O=void 0!==v&&v,f=e.userParams,p=void 0===f?{}:f,h=e.tenantReducerData,g=void 0===h?{}:h,x=e.navigateHandler,N=void 0===x?null:x,C=e.dataTestId,y=g.basic,_=g.addHope,D=g.carryBag,R=g.country,w=g.currencyConversionFactor,L=g.currencySymbol,k=Object(T.wb)(ga(d,y,R)),P=k.navLeft,M=void 0===P?[]:P,F=k.navRight,H=void 0===F?[]:F,U=k.kfcLogo,B=void 0===U?{}:U,Y=k.navMobileMenu,G=void 0===Y?{}:Y,K=ha.LANGUAGE_SELECTOR,V=ha.LOGGEDIN_USER_SINGIN_TEXT,W=ha.USER_SINGIN_TEXT,q=ha.CART_ICON_100_PERCENT,z=ha.CART_ICON_120_PERCENT,Q=ha.ZERO;G.letsGetCookingText=pa.contentData.headerContent.navMobileMenu.letsGetCookingText;var J=Object(E.c)((function(e){return e.authReducer}));Object(i.useEffect)((function(){Object(T.Kb)(null===J||void 0===J?void 0:J.tokenSource)&&Ne(Object(Pa.b)(Object(a.a)(Object(a.a)({},p),{},{loggedIn:!0})))}),[]);var X=Object(E.c)((function(e){return{cartReducer:Object(T.wb)(e.cartReducer)}})).cartReducer,Z=Object(T.wb)(X),$=Z.cartData,ee=void 0===$?{}:$,te=Z.isItemAdded,ne=void 0!==te&&te,ae=Z.isUpdateQuantityLoading,ie=void 0!==ae&&ae,ce=Z.isRemoveItemLoading,oe=void 0!==ce&&ce,re=Object(T.N)(ee).foodLines,se=void 0===re?[]:re,de=Object(i.useState)(0),be=Object(j.a)(de,2),ve=be[0],je=be[1],Oe=function(){var e=parseFloat(((null===ee||void 0===ee?void 0:ee.subtotal)+(null===ee||void 0===ee?void 0:ee.taxTotal))/w).toFixed(2);return(null===ee||void 0===ee?void 0:ee.total)>Q?e:Q};Object(i.useEffect)((function(){0===se.filter((function(e){return e.item.isHidden})).length&&(ne||ie||oe)&&r(!0)}),[ne,ie,se,oe]),Object(i.useEffect)((function(){if(setTimeout((function(){return r(!1)}),500),Object(T.u)(_,D)){var e=Object(T.Q)(se,_,D);je(m.a.reduce(e,(function(e,t){return e+t.quantity}),0))}}),[se,_,D]);var me=Object(i.useContext)(I.a).userOrderState.languageUpdationHappened,fe=void 0===me?"":me,pe=Object(E.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),he=pe.defaultLanguage,ge=pe.allowedLanguages,xe=pe.COUNTRY,Ne=Object(E.b)(),Ee=Object(i.useState)(),Te=Object(j.a)(Ee,2),Ie=Te[0],Ce=Te[1];Object(i.useEffect)((function(){var e=ge.find((function(e){return e.key===Object(T.T)("".concat(xe,"_").concat(S.wb))}));xe&&Ce(Object(T.ub)(null===e||void 0===e?void 0:e.value,null===he||void 0===he?void 0:he.value))}),[xe,fe]);var Se=function(e){p.loggedIn&&e===W?b(V):b(e)},Ae=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"nav","data-testid":"Header-component",children:[Object(u.jsx)(le,{onClickHandler:Ka,name:"Hamburger Menu","data-testid":"hamburger-menu-icon",children:Object(u.jsx)(A.a,{srcFile:Aa,alt:"Menu",id:"BrowserSpecificStyle"})}),Object(u.jsx)("span",{className:"headerLogoMobile",onClick:N,children:Object(u.jsx)(A.a,{srcFile:Object(T.ub)(Ya(H).src,ya),alt:Object(T.ub)(Ya(H).alt,"KFC LOGO")})}),H.map((function(e,t){return e.url&&q===e.title&&!o?function(e,t,n,a,i,c,o){return Object(u.jsxs)(le,{onClickHandler:t,name:Object(T.ub)(n(a.altText),"cart"),className:"cart-image",children:[Object(u.jsx)("span",{className:"headerPrice",children:o+c()}),Object(u.jsx)(A.a,{srcFile:Object(T.ub)(a.url,fa),alt:Object(T.ub)(a.altText,"cart")}),Object(u.jsx)("span",{className:"mobileCartIconCount",children:Ha(i)})]},e)}(t,b,Ga,e,ve,Oe,L):e.url&&z===e.title&&o?function(e,t,n,a,i,c){return Object(u.jsxs)(le,{onClickHandler:e,name:Object(T.ub)(t(n.altText),"cart"),className:"cart-image",children:[Object(u.jsx)("span",{className:"headerPrice",children:c+i()}),Object(u.jsx)(A.a,{srcFile:Object(T.ub)(n.url,fa),alt:Object(T.ub)(n.altText,"cart"),className:"iconActive"}),Object(u.jsx)("span",{className:"mobileIconCountActive mobileCartIconCount",children:Ha(a)})]})}(b,Ga,e,ve,Oe,L):void 0}))]}),Object(u.jsx)(ka,{idx:"headermenu-id",className:"sidenav",handleClose:Va,onItemsClickHandler:b,contentData:{navLeft:M,navRight:H,navMobileMenu:G},userParams:p})]}),ye=Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"nav","data-testid":"desktopHeader-component",children:[Object(u.jsx)("span",{tabIndex:"0",className:"headerLogo","data-testid":"desktop-navigate-handler",onClick:N,onKeyPress:N,children:Object(u.jsx)(A.a,{srcFile:Object(T.ub)(B.src,ya),alt:Object(T.ub)(B.alt,"KFC LOGO")})}),Object(u.jsx)("span",{className:"navItemsLeft",children:M.map((function(e,t){return Object(u.jsx)(le,{"data-testid":"navItems-component-".concat(e.name),onClickHandler:b,name:e.name,tabIndex:"0",to:Ua(e.name),className:"nav-item-left",children:e.name},t)}))}),Object(u.jsx)("div",{className:"navItemsRight",children:H.map((function(t,n){var a,i=[q,z].includes(t.title),r=!(wa.b.isGoogle&&p.loggedIn),s=q===t.title&&o||z===t.title&&!o;return Object(u.jsxs)(le,{onClickHandler:Se,name:t.type||t.name||"Cart",style:Object(T.pb)(s,{display:"none"},{}),tabIndex:"0",className:Object(T.pb)(n<H.length-2,"nav-right-items-line",""),"data-id":r?S.l.HEADER_SIGN_IN_ATTR_DATA_ID:null,children:[!i&&(null===t||void 0===t||null===(a=t.type)||void 0===a?void 0:a.toUpperCase())!==K&&Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"account",onClick:function(){return Ba(t,p.loggedIn,e.history)},children:[Object(u.jsx)(A.a,{srcFile:Object(T.ub)(t.url,t.imageUrl),className:"navRightIcons"}),Object(u.jsx)("span",{className:"notcarticon ml-3",children:Object(T.pb)(!t.type&&t.name&&p.loggedIn,V,t.name)})]})}),i&&Object(u.jsx)("span",{className:"headerPrice",children:L+Oe()}),i&&Object(u.jsxs)("div",{className:"cartIcon align-items-center justify-content-center","aria-label":"cart",role:"button",children:[Object(u.jsx)(A.a,{srcFile:Object(T.ub)(t.url,t.imageUrl),className:"navRightIcons ".concat(Fa(o))}),Object(u.jsx)("div",{className:"cartIconCount ".concat(Ma(o)),children:Ha(ve)})]}),t.type&&t.type.toUpperCase()===K&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(ue,{ariaLable:"clickable-language-selector",tabIndex:"-1",options:ge.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toLowerCase()})),className:"language-select header-language-select",selectedValue:Ie,testid:"language-selector"}),Object(u.jsx)("span",{className:"dropdown-img"})]})]},n)}))})]})});return Object(u.jsx)("div",{"data-testid":C,className:"header-navs",children:Object(T.pb)(O,Ae,ye)})},qa={contentData:{modalHeaderText:"selectYourLanguage",modalContent:{buttonText:"apply"}}},za=function(e){var t=e.handleClose,n=e.languageSelectorModuleForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{"data-testid":"LanguageSelectorModal",id:"LanguageSelectorModal",role:"dialog",modalTitleId:o,show:!0,classNames:"language-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,closeDataTestId:"close-modal-handler",children:n})})},Qa=n(61),Ja=function(e){var t=e.modalContent,n=void 0===t?{}:t,a=e.onLanguageMethodSubmit,o=n.buttonText,r=void 0===o?"":o,s=Object(i.useState)({}),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(E.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),O=v.defaultLanguage,m=v.allowedLanguages,f=v.COUNTRY;Object(i.useEffect)((function(){var e=m.find((function(e){return e.key===Object(T.T)("".concat(f,"_").concat(S.wb))}));f&&b(e||{}||O||{})}),[f]);var p=m.map((function(e){return Object(u.jsxs)("li",{className:"wrapper ".concat(l&&e.key===(null===l||void 0===l?void 0:l.key)?"wrapperactive":""),tabIndex:"0",children:[Object(u.jsx)("input",{id:e.value,type:"radio",name:"radio",value:e,checked:!(!l||e.key!==(null===l||void 0===l?void 0:l.key)),onChange:function(){b(e)},"aria-label":e.value}),Object(u.jsx)("span",{children:e.value})]},e.key)}));return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("form",{className:"form","data-testid":"language-form-component",children:Object(u.jsx)("section",{className:"form__section",children:Object(u.jsx)("ul",{className:"languageList",children:p})})}),Object(u.jsx)("div",{className:"languageConfirm",children:Object(u.jsx)(Qa.a,{className:"button blackButton confirm-schedule-btn","data-testid":"apply-button-test","aria-label":Object(Ae.e)(r),onClickHandler:function(e){return a(e,l)},children:Object(Ae.e)(r)})})]})},Xa=function(e){var t=Object(i.useContext)(I.a).userOrderStateDispatch,n=qa.contentData,a=void 0===n?{}:n,c=a.modalContent,o=void 0===c?{}:c,r=a.modalHeaderText,s=void 0===r?"":r,d=Object(E.c)((function(e){return e.appStateReducer.userStatus})),l=Object(E.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),b=l.allowedLanguages,v=l.COUNTRY,j=_e.a.LANGUAGE_SELECTOR,O=void 0===j?"":j,m=_e.a.LANGUAGE_UPDATED,f=void 0===m?"":m,p=Object(E.b)(),h=function(e){e.stopPropagation(),e.preventDefault(),t({type:O,value:{showLanguageSelector:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&h(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var g=Object(u.jsx)(Ja,{modalContent:o,onLanguageMethodSubmit:function(e,n){e.stopPropagation(),e.preventDefault();var a=Object(T.T)("".concat(v,"_").concat(S.wb));Object(Ae.c)(b.find((function(e){return e.key==n.key})).key)?(v&&S.wb&&Object(T.kc)("".concat(v,"_").concat(S.wb),n.key),Object(Ae.b)(b.find((function(e){return e.key==n.key})).key),n.key!==a&&t({type:f,value:{languageUpdationHappened:n.key}})):Object(T.D)(b.find((function(e){return e.key==n.key})),d,p),t({type:O,value:{showLanguageSelector:!1}})}});return Object(u.jsx)(za,{handleClose:h,modalTitleId:"language_selector",languageSelectorModuleForm:g,headerText:Object(Ae.e)(s)})},Za=n(150),$a=Object(o.i)((function(e){var t=Object(E.b)(),n=Object(i.useContext)(I.a),c=n.userOrderState,o=n.userOrderStateDispatch,r=e.contentData,s=void 0===r?{}:r,d=e.history,l=e.tenantReducerData,b=Object(E.c)((function(e){var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),v=Object(i.useState)(Object(T.Lb)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(!1),h=Object(j.a)(p,2),g=h[0],x=h[1],N=_e.a.LANGUAGE_SELECTOR,C=Object(E.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),A=C.allowedLanguages,y=function(){var e=Object(T.Lb)(window.innerWidth);f(e)};Object(i.useEffect)((function(){window.addEventListener("resize",y)}),[m]);var _=function(){var e=Object(je.a)(ve.a.mark((function e(n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&Sa({headerItemSelected:n}),m&&"Language Selector"!==n&&(Boolean(document.querySelector("#headermenu-id"))&&(document.querySelector("#headermenu-id").style.width="0px"),Boolean(document.querySelector("#startorder-container"))&&(document.querySelector("#startorder-container").style.display="block"),document.body.style.overflowY="auto"),"Menu"===n&&d.push({pathname:"/menu"}),"Account"===n&&d.push({pathname:"/account"}),"Deals"===n&&d.push({pathname:"/offers"}),n.name===_e.a.ORDER_LOOKUP&&x(!0),"Cart"===n&&(Object(Za.b)(!0,t),(null===b||void 0===b?void 0:b.localized)?d.push({pathname:"/cart"}):o({type:_e.a.DISPOSITION_DATA,value:{showDisposition:!0}})),"Language Selector"===n&&A.length>1&&o({type:N,value:{showLanguageSelector:!0}}),setTimeout((function(){document.getElementById("language_selector")&&document.getElementById("language_selector").focus()}),0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:Object(T.pb)(m,"mobile header","desktop header"),"data-testid":"HeaderItems-component",role:"banner","data-id":S.l.HEADER_ATTR_DATA_ID,children:[(null===c||void 0===c?void 0:c.showLanguageSelector)&&Object(u.jsx)(Xa,{}),Object(u.jsx)(Wa,Object(a.a)(Object(a.a)({contentData:s,isMobile:m,clickHandler:_,tenantReducerData:l,navigateHandler:function(){d.push({pathname:"/"})}},e),{},{"data-testid":"header-items",dataTestId:"headerItems"})),g&&Object(u.jsx)(Oa,{isOpen:!0,handleClose:function(){return x(!1)},tenantReducerData:l})]})})),ei=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.clickHandler,i=void 0===a?null:a,c=n.buttonText,o=void 0===c?"":c,r=n.startOrderTitle,s=void 0===r?"":r,d=n.ariaLabel,l=void 0===d?"":d;return Object(u.jsx)("div",{className:window.location.href.includes("menu")?"headerBottom plpHeaderBottom":"headerBottom","data-testid":"start-order-items",children:Object(u.jsxs)("div",{className:"headBottomParent",children:[Object(u.jsx)("div",{className:"headBottomTxt",children:s}),Object(u.jsx)(ht.a,{"data-testid":"start-order-button",className:"button redButton start-order-btn","aria-label":l||o,onClickHandler:i,id:"startOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:o})})]})})},ti=n(58),ni=function(e){var t=e.modalContent,n=e.onDispositionMethodSubmit,a=e.setRef,i=void 0===a?null:a,o=t.contentText,r=void 0===o?"":o,s=t.infoObject,d=void 0===s?null:s,l=t.orderTypes,b=(void 0===l?[]:l).map((function(e){var t;return Object(u.jsx)("li",{className:"".concat(e.selectDefault&&"default-selected"),children:Object(u.jsx)(Qa.a,(t={className:"".concat(e.selectDefault&&"default-selected"),onClickHandler:function(t){n(t,e.type)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type)},Object(Le.a)(t,"className","button whiteButton order-type-button"),Object(Le.a)(t,"aria-label","order type ".concat(e.buttonText)),Object(Le.a)(t,"children",e.buttonText),t),e.type)},e.type)}));return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(u.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:r}),d&&Object(u.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(u.jsx)("span",{children:d.infoText})}),Object(u.jsx)("form",{className:"form",onSubmit:n,"data-testid":"form-component",children:Object(u.jsxs)("section",{className:"form__section",children:[Object(u.jsx)("div",{className:"order-button-section",children:Object(u.jsx)("ul",{className:"order-button-section-ul",children:b})}),Object(u.jsx)("div",{className:"clearfix"})]})})]})})},ai=function(e){var t=e.handleClose,n=e.DispositionModuleForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{id:"DispositionModulePopup",role:"dialog",modalTitleId:o,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:n})})},ii=n(86),ci=function(e,t){var n,a=[],i=Object(Oe.a)(e);try{for(i.s();!(n=i.n()).done;){var c,o,r=n.value,s=null===r||void 0===r||null===(c=r.fields)||void 0===c||null===(o=c.name)||void 0===o?void 0:o.split("-"),d=s[s.length-1].trim().toUpperCase();if(!t||!(null===d||void 0===d?void 0:d.includes(ii.a.DISPOSITION_TYPE.TYPE_DELIVERY))){var l=r.fields,u=l.buttonText,b=void 0===u?"":u,v=l.selectDefault,j=void 0!==v&&v,O=l.name,m=l.showOption,f=void 0===m||m,p=l.id,h=void 0===p?"":p;a.push({buttonText:b,selectDefault:j,type:O,showOption:f,id:h})}}}catch(g){i.e(g)}finally{i.f()}return a},oi=function(e){var t=e[0].fields||{},n=t.headline,a=void 0===n?"":n,i=t.subHeadline,c=void 0===i?"":i,o=t.subHeadlineType,r=void 0===o?"":o,s=t.title;return{modalHeaderText:void 0===s?"":s,contentText:a,infoObject:{type:r,infoText:c}}},ri=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"orderType",dispositionSelected:t.selectedDispositionType}),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),si=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.localisationStart.name,{"%event%":"localisationStart"},T.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),di=function(e,t,n,a){var i,c=_e.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,o=_e.a.SHOW_CLEAR_CART_ALERT;(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length)&&!a?Object(T.Ub)(t,{},o,c,n):n()},li=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a[t].name,{"%event%":t},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ui=function(){var e=Object(je.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push({event:"changeStore"}),e.next=4,me.a.registerEvent(void 0,{data:t[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bi=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"localisationFinish",disposition:t,postLocalisation:"True"}),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgBtctBDQAgCAVQIxjBCEaxgRE0ghFsZgQjGAE5wObcQC6y/Qv/fed+HABkzMB4K+arLxwxi3A7i4IJVlzpOXkkYioDYR4lEQsjULEw0vE16prZA0KiodJlD34AAAAASUVORK5CYII=",ji=n(115),Oi=n(49),mi=n(38),fi=kn.a.QUANTITY_ACTION,pi=kn.a.TOAST_NOTIFICATION,hi=kn.a.ANALYTICS_EVENTS,gi=kn.a.CART_ALERT,xi=_e.a.MINI_PDP_DATA,Ni=_e.a.FROMFLAGEDIT,Ei=_e.a.EDIT_CLICKED,Ti=mi.a.RESET_MODGROUP_IDS_UPDATE;function Ii(e,t,n,a,i,c,o){var r=function(e){i({type:gi,value:{showCartAlert:e}})};return{itemQuantityHandler:function(n,i){var o=n.quantity,r=n.foodLineId,s=e.cartId;o&&r&&s&&t&&(o=i===fi.Increase?o+1:i===fi.Decrease?o-1:o,c(Object(_t.u)({params:{basketId:s,basketLineItemId:r},tenantId:t},{quantity:o})),c(Object(_t.r)(new Date)));var d=i===fi.Increase?hi.ADD_TO_CART:hi.REMOVE,l=Object(ji.a)([n],a,"quantityModified");lt(d,l)},itemRemoveHandler:function(n){console.log("itemmmmmmmmm",n);var i=n.foodLineId,o=n.flag,r=void 0===o?"":o,s=e.cartId;i&&s&&t&&(c(Object(_t.n)({tenantId:t,basketId:s,basketLineItemId:i})),"specialItems"!==r&&(Jt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(A.a,{srcFile:vi})," ",Object(u.jsx)("span",{className:"text",children:Object(Ae.e)(pi.ITEM_REMOVED)})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:Jt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Jt.b.dismiss()}),4e3)));var d=Object(ji.a)([n],a,"removeAllQty");lt(hi.REMOVE,d),c(Object(_t.r)(new Date))},itemAllRemoveHandler:function(){r(!0)},itemAllRemoveAction:function(n){var i=e.cartId;i&&t&&c(Object(_t.l)({basketId:i,tenantId:t})),r(!1);var o=Object(ji.a)(n,a,"removeAllQty");lt(hi.REMOVE,o),c(Object(_t.r)(new Date))},addMoreMenuHandler:function(){o.push({pathname:"/menu"}),c(Object(_t.r)(new Date))},itemEditHandler:function(a){var o=a.foodItemId,r=void 0===o?"":o,s=(a.customizable,a.quantity,a.foodLineId),d=(null===n||void 0===n||n.itemLocations.find((function(e){return e.itemid===r})),r.split("-")[0],e.catalog);i({type:Ti}),i({type:Ei,value:{cartEditClicked:!0}}),i({type:xi,value:{id:r,flag:Ni,foodLineId:s}}),c(Object(Oi.c)({tenantId:t,catalogName:d,itemId:r})),Object(ji.d)(hi.EDIT),c(Object(_t.r)(new Date))},showCartAlert:r,addToCartAnalyticsOnly:function(e,t){var n=t===fi.Increase?hi.ADD_TO_CART:hi.REMOVE,i=Object(ji.a)([e],a,"quantityModified");lt(n,i)}}}var Ci=function(e){var t=e.contentMsg,n=void 0===t?"":t,a=e.title,c=void 0===a?"":a,o=e.splitTitle,r=e.imageSrc,s=e.altText,d=e.confirmButtonText,l=void 0===d?"":d,b=e.confirmHandler,v=e.cancelButtonText,j=void 0===v?"":v,O=e.cancelHandler,m=e.buttonContainerClass,f=void 0===m?"":m,p=Object(i.useContext)(I.a).userOrderStateDispatch;return Object(i.useEffect)((function(){o?st({popupTitle:Object(Ae.e)(o.MSGTXT1)+Object(Ae.e)(o.MSGTXT2)+Object(Ae.e)(o.MSGTXT3)}):n?st({popupTitle:n}):o||st({popupTitle:c})}),[c,n]),Object(i.useEffect)((function(){return function(){(0,Ii(void 0,void 0,void 0,void 0,p,void 0,void 0).showCartAlert)(!1)}}),[p]),Object(u.jsxs)("div",{className:"alert-model-view-root","data-testid":"alert-form",children:[r?Object(u.jsx)(A.a,{"data-testid":"alert-form-image",srcFile:r,alt:s}):null,o?Object(u.jsxs)("div",{className:"alert-title","data-testid":"split-msg",children:[Object(u.jsx)("span",{children:Object(Ae.e)(o.MSGTXT1)}),Object(u.jsx)("span",{className:"alert-red-text",children:Object(Ae.e)(o.MSGTXT2)}),Object(u.jsx)("span",{children:Object(Ae.e)(o.MSGTXT3)})]}):Object(u.jsx)("span",{className:"alert-title","data-testid":"alert-form-title",children:c}),n?Object(u.jsx)("span",{className:"alert-content","data-test-id":"alert-form-content",children:n}):null,Object(u.jsxs)("div",{className:"alert-action-container ".concat(f),children:[O&&Object(u.jsx)(ht.a,{ariaLable:"","data-testid":"alert-cancel-button",className:"button whiteButton blackBorder alert-cancel",onClickHandler:O,children:j}),b&&Object(u.jsx)(ht.a,{ariaLable:"","data-testid":"alert-confirm-button",className:"button blackButton blackBorder alert-confirm",onClickHandler:b,children:l})]})]})},Si=n(60),Ai=n.n(Si),yi=function(e){var t=e.handleClose,n=e.CartAlertForm,a=e.classNames;return Ai.a.createPortal(Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{id:"CartAlertopup",role:"dialog",show:!0,classNames:"alet-modal ".concat(a),showCloseBtn:!0,closeButtonHandler:t,closeDataTestId:"handler-close",autoFocus:!0,children:n})}),document.getElementById("modal-popups"))},_i=n(24),Di=function(e){var t=Object(i.useContext)(I.a),n=t.userOrderState,c=t.userOrderStateDispatch,r=n.dispositionStateData.contentData,s=void 0===r?{}:r,d=n.deeplinkSelectedStoreId,l=n.deepLinkStoreMode,b=Object(T.Fb)(s)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.disposition&&e.disposition.fields||{},a=n.headline,i=void 0===a?[]:a,c=n.supportedDispositions,o=void 0===c?[]:c,r={modalHeaderText:"",modalContent:{}};r.modalContent.orderTypes=ci(o,t);var s=oi(i),d=s.modalHeaderText,l=s.contentText,u=s.infoObject;return r.modalHeaderText=d,r.modalContent.contentText=l,r.modalContent.infoObject=u,r}(s,l),v=b.modalContent,O=void 0===v?{}:v,m=b.modalHeaderText,f=void 0===m?"":m,p=_e.a.SEARCH_ORDER_DATA,h=_e.a.MENU_URL,g=_e.a.DISPOSITION_DATA,x=_e.a.CURRENT_STORE_INFO,N=_e.a.SCHEDULE_ORDER_TIME_DATA,C=_e.a.SELECTED_TILE_DATA,A=_e.a.DISPOSITION_METHOD,y=_e.a.ADD_TO_CART_CLICK,_=_e.a.SET_DISPOSITION,D=_e.a.USER_LOCALIZED,R=_e.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,w=ii.a.DISPOSITION_TYPE,L=w.TYPE_DINE_IN,k=w.TYPE_TAKE_WAY,P=w.TYPE_DELIVERY,M=ii.a.FIND_OPEN_KFC_TEXT,F=ii.a.INVALID_QR_TEXT,H=ii.a.CLOSED_STORE_MODAL_SUBTITLE,U=ii.a.TAKEAWAY_STORE_CLOSED_TEXT,B=ii.a.DINE_IN_STORE_CLOSED_TEXT,Y=ii.a.SWITCH_TO_TAKEAWAY_TEXT,G=ii.a.SWITCH_TO_DINEIN_TEXT,K=n&&n.dispositionStateData&&n.dispositionStateData.dispositionType?n.dispositionStateData.dispositionType:null,V="",W=Object(T.Eb)(n.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):n.dispositionNew,q=Object(E.b)(),z=Object(o.f)(),Q=Object(i.useState)(""),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(E.c)((function(e){return e.cartReducer})),ie=ae.cartData,ce=void 0===ie?{}:ie,oe=ae.qrCodeScanTime,re=Object(E.c)((function(e){return e.tenantReducer})),se=re.tenantId,de=Object(E.c)((function(e){return e.profileReducer})).customerId,le=void 0===de?"":de,ue=Object(E.c)((function(e){return e.appStateReducer.userStatus})),be=Object(E.c)((function(e){return Object(T.wb)(e.storesReducer)})),Oe=be.storesWithStatus,me=void 0===Oe?[]:Oe,fe=be.isStoreStatusLoading,pe=be.selectedStoreDetailsDL,he=void 0===pe?{}:pe,ge=ii.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;Object(i.useEffect)((function(){q(Object(ti.j)()),q(Object(ti.i)()),function(e,t){e&&(null===t||void 0===t||t.push({pathname:S.eb.HOME_PAGE}))}(l,z)}),[q]);var xe=Object(i.useCallback)((function(e,t){e.stopPropagation();di(ce,c,(function(){ne({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[ge,c,ce]);Object(i.useEffect)((function(){l&&q(Object(ti.f)({storeId:d,tenantId:se},null,(function(){ne({showError:!0,errMsg:Object(Ae.e)(F),errDesc:null,buttonText:Object(Ae.e)(M),buttonCTA:function(e){return xe(e,!1)}})})))}),[M,F,l,d,q,se]);var Ne=function(e,t,n){e.stopPropagation(),e.preventDefault();var i=t.split("-");if(-1!==(V=i[i.length-1].trim()).toLowerCase().indexOf("dine")&&(V=L),ri({selectedDispositionType:V}),si(),l){var o={data:[{storeId:d,channel:wa.b.channel,service:S.bb},{storeId:d,channel:wa.b.channel,service:S.s}],store:[Object(a.a)(Object(a.a)({},he),{},{service:S.bb}),Object(a.a)(Object(a.a)({},he),{},{service:S.s})],tenantId:se,setStatusFlag:!1,isFavoritePage:!1};di(ce,c,(function(){Z(V),q(Object(ti.c)(o)),c({type:A,value:{dispositionType:V}})}),n)}else[L,k,P].includes(V.toUpperCase())&&(c({type:p,value:{showSearchStore:!0}}),c({type:g,value:{showDisposition:!1}}),c({type:A,value:{dispositionType:V}}))},Ee=function(e,t){var n=e||null;c({value:{selectedData:{}},type:C}),localStorage.setItem("currentStoreInfo",JSON.stringify(n)),c({value:n,type:x}),q(Object(Pa.b)(Object(a.a)(Object(a.a)({},ue),{},{localized:!0}))),c({value:{selectedDateTime:t},type:N}),c({type:R,value:{selectContentTime:"ASAP"}}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",K),localStorage.setItem("tenantReducer",JSON.stringify(re)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),z.push({pathname:"".concat(h)})},Te=function(e){(null===e||void 0===e?void 0:e.toUpperCase())===L?ne({showError:!0,errMsg:Object(Ae.e)(B),errDesc:null,buttonText:Object(Ae.e)(Y),buttonCTA:function(e){return Ne(e,S.kb,!0)}}):(null===e||void 0===e?void 0:e.toUpperCase())===k&&ne({showError:!0,errMsg:Object(Ae.e)(U),errDesc:null,buttonText:Object(Ae.e)(G),buttonCTA:function(e){return Ne(e,S.t,!0)}})},Ie=function(){var e=Object(je.a)(ve.a.mark((function e(t,a){var i,o,r,s,d,l,u,b,v,j,O;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(i=t.filter((function(e){return(null===e||void 0===e?void 0:e.service)===Object(T.L)(a)})))||void 0===i?void 0:i.length)){e.next=18;break}return j={time:"ASAP",interval:null===i||void 0===i||null===(o=i[0].summary.timings.scheduled.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"},e.next=5,Object(T.x)(q,!0,oe,null===i||void 0===i?void 0:i[0],Object(T.L)(a),le,j);case 5:O=e.sent,q(Object(_t.e)({data:O,tenantId:se})),c({type:_,value:{oldvalue:W,newValue:{store:null===i||void 0===i?void 0:i[0],time:j.time,date:j.date,type:a,interval:j.interval,deliveryAddress:null===n||void 0===n||null===(r=n.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress,selectedTime:j.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(W)),localStorage.setItem("dispositionNew",JSON.stringify({type:a,store:null===i||void 0===i?void 0:i[0],date:j.date,time:j.time,selectedTime:j.selectedTime,interval:j.interval,deliveryAddress:null===n||void 0===n||null===(s=n.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(T.Tb)(null===i||void 0===i||null===(d=i[0])||void 0===d||null===(l=d.addresses)||void 0===l||null===(u=l[0])||void 0===u||null===(b=u.address)||void 0===b||null===(v=b.addressLines)||void 0===v?void 0:v[0],_i.a.ALREADY_SERACHED_LOCATIONS),Object(T.ic)(),bi(a),c({type:g,value:{showSearchStore:!1}}),c({type:D,value:{isLocalized:!0}}),Ee(null===i||void 0===i?void 0:i[0],j),e.next=19;break;case 18:Te(a);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e,t,n;me.length>0&&!fe&&X&&l&&function(e,t){(null===e||void 0===e?void 0:e.length)?Ie(e,K):ne({showError:!0,errMsg:"".concat(Object(Ae.e)($e)," ").concat(t," ").concat(Object(Ae.e)(et)),errDesc:Object(Ae.e)(H),buttonText:Object(Ae.e)(M),buttonCTA:function(e){return xe(e,!0)}})}(null===me||void 0===me?void 0:me.filter((function(e){var t,n,a,i,c,o,r,s,d,l,u,b,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(o=c.menu)||void 0===o||null===(r=o.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(d=s.timings)||void 0===d||null===(l=d.operatingHours)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(b=u.timings)||void 0===b||null===(v=b.asap)||void 0===v?void 0:v.isAvailable)})),null===me||void 0===me||null===(e=me[0])||void 0===e||null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.value)}),[me,fe,l]);var Ce=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),c({type:g,value:{showDisposition:!1}}),c({type:y,value:{addToCart:!1}}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&Ce(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var Se=Object(u.jsx)(ni,{modalContent:O,onDispositionMethodSubmit:Ne}),ye=Object(u.jsx)(ai,{handleClose:Ce,DispositionModuleForm:Se,headerText:f,modalTitleId:"dispostion_selector"});return Object(u.jsxs)(u.Fragment,{children:[(null===te||void 0===te?void 0:te.showError)&&Object(u.jsx)(yi,{handleClose:null,CartAlertForm:Object(u.jsx)(Ci,{title:null===te||void 0===te?void 0:te.errMsg,contentMsg:null===te||void 0===te?void 0:te.errDesc,confirmButtonText:null===te||void 0===te?void 0:te.buttonText,confirmHandler:null===te||void 0===te?void 0:te.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),ye]})},Ri=n.p+"static/media/GREEN_RIGHT_TICK.bcaaf321.svg",wi=n(54),Li=n(34),ki=n.p+"static/media/24x7.c266ec0d.svg",Pi=n.p+"static/media/birthday.73ee147e.svg",Mi=n.p+"static/media/breakfast.cefae5c5.svg",Fi=n.p+"static/media/contactless.f0be7f13.svg",Hi=n.p+"static/media/driveThru.88df113a.svg",Ui=n.p+"static/media/foodCourt.9e9b227b.svg",Bi=n.p+"static/media/freeWifi.1eefee0f.svg",Yi=n.p+"static/media/kiosks.816c5ee3.svg",Gi=n.p+"static/media/parking.c7314c7d.svg",Ki=n.p+"static/media/playground.0bd2db1a.svg",Vi=n.p+"static/media/refill.6c50cac4.svg",Wi=n.p+"static/media/terraces.8524d714.svg",qi=n.p+"static/media/wheelchairAccess.930a1573.svg",zi=[{key:Li.c.roundTheClock,image:ki,label:Object(Ae.e)("roundTheClock")},{key:Li.c.birthday,image:Pi,label:Object(Ae.e)("birthday")},{key:Li.c.breakfast,image:Mi,label:Object(Ae.e)("breakfast")},{key:Li.c.contactless,image:Fi,label:Object(Ae.e)("contactless")},{key:Li.c.driveThru,image:Hi,label:Object(Ae.e)("driveThru")},{key:Li.c.foodCourt,image:Ui,label:Object(Ae.e)("foodCourt")},{key:Li.c.wifi,image:Bi,label:Object(Ae.e)("freeWifi")},{key:Li.c.kiosks,image:Yi,label:Object(Ae.e)("kiosks")},{key:Li.c.parking,image:Gi,label:Object(Ae.e)("parking")},{key:Li.c.playground,image:Ki,label:Object(Ae.e)("playground")},{key:Li.c.refill,image:Vi,label:Object(Ae.e)("refill")},{key:Li.c.terraces,image:Wi,label:Object(Ae.e)("terraces")},{key:Li.c.phc,image:qi,label:Object(Ae.e)("phcWheelChairAccess")}],Qi=function(e){return zi.filter((function(t){var n,a;if(null===e||void 0===e||null===(n=e.amenities)||void 0===n?void 0:n.length)return(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},Ji=n.p+"static/media/favorite-unfilled.41887538.svg",Xi=n.p+"static/media/favorite-filled.e400bfd4.svg",Zi=function(e,t){return null===t||void 0===t?void 0:t.find((function(t){return e>=t.from&&e<=t.to}))},$i=function(e,t,n,i,c,o){if(!e||!t)return!1;var r=[];if((null===o||void 0===o?void 0:o.length)>0)for(var s=0;s<(null===o||void 0===o?void 0:o.length);s++){var d=o[s],l=d.from,u=d.to;r.push({from:(new Date).setHours(Number(null===l||void 0===l?void 0:l.split(":")[0]),Number(null===l||void 0===l?void 0:l.split(":")[1]),0,0),to:(new Date).setHours(Number(null===u||void 0===u?void 0:u.split(":")[0]),Number(null===u||void 0===u?void 0:u.split(":")[1]),0,0)})}var b=[],v=(new Date).getTime(),j=(new Date).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0,0),O=(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0);c&&(O+=864e5);for(var m=(new Date).setHours(0,0,1)+(864e5-6e4*n),f=j;f<O;)(null===r||void 0===r?void 0:r.length)>0&&Zi(f,r)||(f>m?b.push({timestr:new Date(f).getHours()+":"+new Date(f).getMinutes(),selectedDay:"Tomorrow"}):b.push({timestr:new Date(f).getHours()+":"+new Date(f).getMinutes(),selectedDay:"Today"})),f+=6e4*n;if(b=b.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{timestr:Object(De.s)(e.timestr,"hh:mm","LT")})})),v>j){var p=b.findIndex((function(e){var t=Object(De.s)(e.timestr,"hh:mm A","HH:mm");return("Today"===e.selectedDay?(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0):(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0)+864e5)>=v}));b=b.splice(p)}return i&&b.unshift({timestr:"ASAP",selectedDay:"Today"}),b},ec=function(e,t){var n,a;return"INDIA"===(null===t||void 0===t||null===(n=t.country)||void 0===n?void 0:n.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"},tc=Object(o.i)((function(e){var t,n,c=e.storeDistance,o=void 0===c?"":c,r=e.addresses,s=void 0===r?{}:r,d=e.isOpen,l=void 0!==d&&d,b=e.buttonData,v=void 0===b?{}:b,j=e.map,O=void 0===j?{}:j,m=e.storeName,f=void 0===m?"":m,p=e.currentMarket,h=e.storeInfo,g=void 0===h?{}:h,x=e.channels,N=void 0===x?[]:x,C=e.storeStatus,S=void 0===C?{}:C,y=e.onStoreSelectFinish,_=e.onClickMapHandler,D=e.isMapView,R=e.isMobile,w=e.isFavoriteStore,L=e.addToFavoriteHandler,k=e.removeFromFavoriteHandler,P=e.loggedIn,M=e.centerIndex,F=e.storeLength,U=Object(T.wb)(null===v||void 0===v?void 0:v.scheduleOrderButtonData),B=U.buttonText,Y=void 0===B?"":B,G=(U.display,Object(T.wb)(null===v||void 0===v?void 0:v.orderNowButtonData)),K=G.buttonText,V=void 0===K?"":K,W=G.display,q=void 0!==W&&W,z=Object(i.useContext)(I.a),Q=z.userOrderState,J=z.userOrderStateDispatch,X=_e.a.SCHEDULE_ORDER_DATA,Z=void 0===X?"":X,$=_e.a.SEARCH_ORDER_DATA,ee=void 0===$?"":$,te=_e.a.SELECTED_TILE_DATA,ne=void 0===te?"":te,ae=_e.a.SCHEDULE_ORDER_TIME_DATA,ie=void 0===ae?"":ae,ce=_e.a.MENU_URL,oe=_e.a.SET_DISPOSITION,re=_e.a.USER_LOCALIZED,se=_e.a.CURRENT_STORE_INFO,de=_e.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,le=_e.a.SET_FORCERELOAD,ue=_i.a.STORE_STATUS_CLOSED,be=O.mapText,Oe=void 0===be?"":be,me=cn.timingsSampleData,fe=void 0===me?{}:me,pe=N&&Object(wi.f)(N),he=Object(T.vb)(pe[0]).services,ge=void 0===he?[]:he,xe=((null===S||void 0===S||null===(t=S.timings)||void 0===t?void 0:t.operatingHours)?S.timings:[]).operatingHours,Ne=void 0===xe?[]:xe,Ee=Object(wi.b)(l,Ne),Te=Object(E.b)(),Ie=Object(E.c)((function(e){return e.profileReducer})),Ce=Object(E.c)((function(e){return e.tenantReducer})),Se=Q.dispositionStateData.dispositionType,ye=void 0===Se?localStorage.getItem("dispositionType"):Se,De=Ce.componentOptions.ScheduledDeliveryComponent.allowScheduleOrder,Re=Object(E.c)((function(e){return e.appStateReducer.userStatus})),we=Object(T.Eb)(Q.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Q.dispositionNew,Le=function(t,n){var i=Object(T.pb)(t,t,null);J({type:ne,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),J({type:se,value:i}),Te(Object(Pa.b)(Object(a.a)(Object(a.a)({},Re),{},{localized:!0}))),J({type:ie,value:{selectedDateTime:n}}),J({type:de,value:{selectContentTime:"ASAP"}}),J({type:le,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(Ce)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ye),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),setTimeout((function(){!Q.fromPdpPage&&e.history.push({pathname:"".concat(ce)})}),500)},ke=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){var a,i,c,o,r,s,d,l,u,b,v,j,O,m,f,p,h,g,x;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(wi.k)(),d=Object(T.v)(null===n||void 0===n||null===(a=n.summary)||void 0===a?void 0:a.timings,fe),l=d.futureDates,u=d.scheduled,b=d.asap,v=Object(T.u)(null===u||void 0===u||null===(i=u.periods)||void 0===i?void 0:i.length,u.periods[0]),j=v.interval,O=void 0===j?0:j,m=v.startEndTime,p=(f=void 0===m?{}:m).from,h=f.to,$i(p,h,O,null===b||void 0===b?void 0:b.isAvailable,1===l.length&&"INDIA"===(null===Ce||void 0===Ce?void 0:Ce.country)),g={time:"ASAP",interval:null===(c=n.summary.timings.scheduled.periods[0])||void 0===c?void 0:c.interval,date:new Date,selectedTime:"ASAP"},null!==we&&we.type===ye&&we.store.id===n.id&&we.deliveryAddress===(null===Q||void 0===Q||null===(o=Q.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress)){e.next=14;break}return e.next=11,Object(T.g)(n,Object(T.L)(ye),Ie.customerId,g);case 11:x=e.sent,Te(Object(_t.j)("")),Te(Object(_t.e)({data:x,tenantId:Ce.tenantId}));case 14:localStorage.setItem("renderComp",!0),J({type:oe,value:{oldvalue:we,newValue:{type:ye,store:n,date:g.date,time:g.time,interval:g.interval,selectedTime:g.selectedTime,deliveryAddress:null===Q||void 0===Q||null===(r=Q.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(we)),localStorage.setItem("dispositionNew",JSON.stringify({type:ye,store:n,date:g.date,time:g.time,selectedTime:g.selectedTime,interval:g.interval,deliveryAddress:null===Q||void 0===Q||null===(s=Q.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(T.ic)(),y(t,ye),J({type:ee,value:{showSearchStore:!1}}),J({type:re,value:{isLocalized:!0}}),Le(n,g);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(e,t){var n,a;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),J({type:re,value:{isLocalized:!0}}),J({type:Z,value:{showScheduleOrder:!0,selectedStoreInfo:t}}),J({type:ee,value:{showSearchStore:!1}});var i=Object(T.v)(null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,fe),c=i.futureDates,o=i.scheduled,r=i.asap,s=Object(T.u)(null===o||void 0===o||null===(a=o.periods)||void 0===a?void 0:a.length,o.periods[0]),d=s.interval,l=void 0===d?0:d,u=s.startEndTime,b=void 0===u?{}:u,v=b.from,j=b.to;$i(v,j,l,null===r||void 0===r?void 0:r.isAvailable,1===c.length&&"INDIA"===(null===Ce||void 0===Ce?void 0:Ce.country)),Object(wi.j)(),function(e){var t=Object(T.pb)(e,e,null);J({type:ne,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),J({type:se,value:t})}(t)},Me=Qi(g),Fe=Object(u.jsxs)("div",{className:"store-card ".concat(Object(T.u)(D,!R)?"store-card-map-view":"store-card-mobile-view"),style:function(){if(D&&R)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}}(),"data-testid":"store-card",id:"map-store-card",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsxs)("div",{className:"store-dist-container ".concat(D&&"map-view"),children:[Object(u.jsx)("div",{className:"store-name-container",children:Object(u.jsx)("span",{className:"card-store-name",children:f})}),Object(u.jsx)("span",{className:"store-distance",children:ec(o,Ce)})]}),D&&Object(u.jsx)("span",{className:"store-index",children:"".concat(M+1," of ").concat(F)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:(n=ge,!!Object(T.Fb)(n)&&n.map((function(e,t){var n=_i.a.PICK_UP,a=_i.a.TAKE_AWAY;return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Ri,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:e===n?Object(Ae.e)(a):e})]},t)})))}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:Object(T.U)(s)}),!D&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return _()},children:Object(u.jsx)(H,{className:"card-map-link",children:Oe})})]}),Object(u.jsxs)("div",{className:"info-timing ".concat(!l&&"info-timingClosed"),children:[l?"":Object(u.jsx)("span",{children:Object(Ae.e)(ue)}),Object(u.jsx)("span",{className:"".concat(!l&&"list-circle"),children:Ee})]}),Object(u.jsx)("div",{className:"facilities",children:Me&&Me.map((function(e){return Object(u.jsx)(A.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))})]}),Object(u.jsxs)("div",{className:"w-100 d-flex mt-2",children:[P?w?Object(u.jsx)(A.a,{"data-testid":"favorite-img",srcFile:Xi,alt:"favorite",className:"favorite-img",onClick:function(){return k()}}):Object(u.jsx)(A.a,{"data-testid":"unfavorite-img",srcFile:Ji,alt:"favorite",className:"favorite-img",onClick:function(){return L()}}):"",De&&Object(u.jsx)(ht.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(T.u)(D,!R)?"cardMapView":null),onClickHandler:function(e){return Pe(e,g)},children:Y}),q&&l&&Object(u.jsx)(ht.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(D&&!R?"cardMapView":null),onClickHandler:function(e){return ke(e,g)},children:V})]})]});return p!==_i.a.COUNTRY_CODE_INDIA||l?Fe:null})),nc=_i.a.BROWSE_MENU,ac=_i.a.PICK_UP,ic=_i.a.TAKE_AWAY,cc=_i.a.STORE_STATUS_CLOSED_CAPS,oc=_i.a.STORE_STATUS_CLOSED,rc=_i.a.INDIA,sc=function(e){return e===ac?ic:e},dc=function(e,t){if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}},lc=Object(o.i)((function(e){var t,n,c,o,r,s,d,l,b,v,j,O,m,f,p,h,g,x=e.key,N=void 0===x?"":x,C=e.storeName,S=void 0===C?"":C,y=e.storeDistance,_=void 0===y?"":y,D=e.orderTypes,R=void 0===D?[]:D,w=e.addresses,L=void 0===w?{}:w,k=e.storeStatus,P=void 0===k?{}:k,M=e.onClickMapHandler,F=e.isMapView,U=e.isMobile,B=e.isFavoriteStore,Y=e.addToFavoriteHandler,G=e.removeFromFavoriteHandler,K=e.map,V=e.loggedIn,W=e.storeInfo,q=void 0===W?{}:W,z=e.centerIndex,Q=e.storeLength,J=e.onStoreSelectFinish,X=(null===(t=P.timings)||void 0===t||null===(n=t.operatingHours[0])||void 0===n||null===(c=n.availableHours)||void 0===c?void 0:c.from)||"",Z=null===P||void 0===P||null===(o=P.timings)||void 0===o||null===(r=o.scheduled)||void 0===r?void 0:r.unavailibilities,$=Object(T.wb)(K).mapText,ee=void 0===$?"":$,te=_e.a.MENU_URL,ne=_e.a.SEARCH_ORDER_DATA,ae=_e.a.CURRENT_STORE_INFO,ie=_e.a.DISPOSITION_DATA,ce=_e.a.USER_LOCALIZED,oe=_e.a.SCHEDULE_ORDER_DATA,re=void 0===oe?"":oe,se=_e.a.SELECTED_TILE_DATA,de=void 0===se?"":se,le=Object(i.useContext)(I.a),ue=le.userOrderState,be=le.userOrderStateDispatch,ve=Object(E.c)((function(e){return e.appStateReducer.userStatus})),je=Object(E.c)((function(e){return e.tenantReducer})),Oe=Object(E.b)(),me=Object(T.wb)(null===q||void 0===q||null===(s=q.summary)||void 0===s?void 0:s.timings),fe=me.futureDates,pe=me.scheduled,he=me.asap,ge=Object(T.wb)(pe).unavailibilities,xe=Object(T.wb)((null===pe||void 0===pe||null===(d=pe.periods)||void 0===d?void 0:d.length)&&(null===pe||void 0===pe?void 0:pe.periods[0])),Ne=xe.interval,Ee=void 0===Ne?0:Ne,Te=xe.startEndTime,Ie=void 0===Te?{}:Te,Ce=Object(T.wb)(Ie),Se=Ce.from,ye=Ce.to,Re=ue.dispositionStateData.dispositionType,we=void 0===Re?localStorage.getItem("dispositionType"):Re,Le=Object(T.Eb)(ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ue.dispositionNew,ke=function(){var e;return $i(Se,ye,Ee,null===he||void 0===he?void 0:he.isAvailable,1===fe.length&&(null===je||void 0===je||null===(e=je.country)||void 0===e?void 0:e.toUpperCase())===rc,ge)},Pe=function(e,t){var n,a;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),be({type:ce,value:{isLocalized:!0}}),be({type:ne,value:{showSearchStore:!1}}),be({type:re,value:{showScheduleOrder:!0,selectedStoreInfo:t}});var i=null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,c=i.futureDates,o=i.scheduled,r=i.asap,s=(null===o||void 0===o||null===(a=o.periods)||void 0===a?void 0:a.length)&&(null===o||void 0===o?void 0:o.periods[0]),d=s.interval,l=void 0===d?0:d,u=s.startEndTime,b=void 0===u?{}:u,v=b.from,j=b.to;$i(v,j,l,null===r||void 0===r?void 0:r.isAvailable,1===c.length&&"INDIA"===(null===je||void 0===je?void 0:je.country)),Object(wi.j)(),function(e){var t=e||null;be({type:de,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),be({type:ae,value:t})}(t),J(e,we)},Me=Qi(q);return Object(u.jsxs)("div",{className:"store-card ".concat(F&&!U?"store-card-map-view":"store-card-mobile-view"),style:dc(F,U),"data-testid":"closed-card",id:"map-store-card",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsxs)("div",{className:"store-dist-container ".concat(F&&"map-view"),children:[Object(u.jsx)("div",{className:"store-name-container",children:Object(u.jsx)("span",{className:"card-store-name",children:S})}),Object(u.jsx)("span",{className:"store-distance",children:ec(_,je)})]}),F&&Object(u.jsx)("span",{className:"store-index",children:"".concat(z+1," of ").concat(Q)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:(g=R,g.map((function(e,t){return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Ri,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:sc(e)})]},t)})))}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:function(){var e;return"".concat(null===(e=L.addressLines)||void 0===e?void 0:e.join(" ")," ").concat(L.city," ").concat(L.state," ").concat(L.country," ").concat(L.pinCode)}()}),!F&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return M()},children:Object(u.jsx)(H,{className:"card-map-link",children:ee})})]}),Object(u.jsx)("div",{className:"info-timingClosed",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(T.v)((null===(l=P.status)||void 0===l?void 0:l.currentStatus)===cc,0===(null===P||void 0===P||null===(b=P.timings)||void 0===b||null===(v=b.scheduled)||void 0===v||null===(j=v.periods)||void 0===j?void 0:j.length))?Object(u.jsx)("span",{className:"closed-text",children:oc}):""}),Object(u.jsx)("li",{children:(null===Z||void 0===Z?void 0:Z.length)>0&&Object(De.s)(null===(O=Z[0])||void 0===O?void 0:O.to,"HH MM","HH:MM")<=Object(De.s)(ye,"HH MM","HH:MM")?"Open Today ".concat((null===(m=Z[0])||void 0===m?void 0:m.to)&&Object(De.s)(null===(f=Z[0])||void 0===f?void 0:f.to,"hh mm","hh:mm a")):"Open ".concat((null===(p=P.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date,ke().length?"Today":"Tomorrow")," ").concat(X&&Object(De.s)(X,"hh mm","hh:mm a"))})]})}),Object(u.jsx)("div",{className:"facilities",children:Me&&Me.map((function(e){return Object(u.jsx)(A.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))}),Object(u.jsxs)("div",{className:"w-100 d-flex mt-2",children:[V&&(B?Object(u.jsx)(A.a,{"data-testid":"favorite-img",srcFile:Xi,alt:"favorite",className:"favorite-img",onClick:function(){return G()}}):Object(u.jsx)(A.a,{"data-testid":"unfavorite-img",srcFile:Ji,alt:"favorite",className:"favorite-img",onClick:function(){return Y()}})),ke().length>0?Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn","data-testid":"schedule-order-closed-store",onClickHandler:function(e){return Pe(e,q)},children:Object(Ae.e)("scheduleOrder")}):Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){Object(T.jc)(q,be,Le,we),Oe(Object(Pa.b)(Object(a.a)(Object(a.a)({},ve),{},{localized:!0}))),Object(T.ic)(),be({type:ie,value:{showDisposition:!1}}),be({type:ne,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(te)})},children:Object(Ae.e)(nc)})]})]})]},N)})),uc=n.p+"static/media/Location.aa650ea9.svg",bc=n.p+"static/media/Map.f2d99af8.svg",vc=n.p+"static/media/Union.f6d2afe2.svg",jc=n.p+"static/media/SuggestionItemSearchPin.9d2e9435.svg",Oc=n.p+"static/media/Time_Clock.200bdc68.svg",mc=n.p+"static/media/successSign.9ca85326.svg",fc=n(110),pc=n.n(fc),hc="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAPAA8DAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDzb9qf9qf9pP8A4Ku/tIeOvD3h/wAePb+GLa58QN+zv+zs2vatommeLNI0jVVi0jw54a0qKKTw34h+Meu+G/tHiO7ufE99pd74pvtPuvCvg+eXUZvBvgm5APUf2Bf+CjPxZ/4Jo/tB6p8I/iN8SW+MX7P1tZXejePvBOheKdR8U+GfCPjS38NS34/4Vrq+pRnTdP1jw141b/hCvF2oeFkvfBPi6C01K+0q98SWNt4T8SxACf8ABRn9gb9oD/gmh8XPiV8RfhFqFrbfs/fGKPxPoHgf4g6Tf+G4PGfhHw34q1ODU9c+G6pdzr4z8N63p2nRJ4Wv/F3hCK2t/FXgTVL7R7rVYbTxL4p8LQAHv/8AwTB/4Jg/Ff8Ab1+KiftbftbNp03wSksb22uri3ufCsPjD41eLIvCz+Gra8vYPC373T77TriWy8W+NfHHi+zbxR418Rxi5vV1/VNf1/xHp4AA/9k=",gc=n.p+"static/media/RedMarkerNoText.131ca000.svg",xc=n(176),Nc=function(e){var t,n,a=e.locationAlertProp,o=e.negativeScenarioAlertProp,r=e.isMobile,s=e.onPositionChangeHandler,d=e.centerIndex,l=e.isVisible,b=e.setShowCard,v=e.locationAlert,O=e.setStoreMarker,m=void 0===O?function(){}:O,f=e.passAddress,p=e.storeCardHeight,h=e.latLongValue,g=_i.a.PLACE_PIN,x=c.a.useContext(I.a).userOrderState.dispositionStateData,N=(void 0===x?{}:x).dispositionType,E=void 0===N?localStorage.getItem("dispositionType"):N,C=c.a.createRef(),A=Object(i.useState)(h),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(!1),w=Object(j.a)(R,2),L=w[0],k=w[1];Object(i.useEffect)((function(){t=P(_),n=M(_)}),[]),Object(i.useEffect)((function(){D(h),k(!1)}),[h]),Object(i.useEffect)((function(){P(_),n=M(_)}),[_,d,L]);var P=function(e){return new window.google.maps.Map(C.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[d]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!r,gestureHandling:"greedy"})},M=function(e){var a=new window.google.maps.Geocoder,i=e;t=P(i),l?L||(t.addListener("zoom_changed",(function(){b(!1),k(!0)})),t.addListener("drag",(function(){b(!1),k(!0)}))):(t.addListener("drag",(function(){i={lat:t.getCenter().lat(),lng:t.getCenter().lng()},n.setPosition(i)})),window.google.maps.event.addListener(t,"dragend",(function(){!function(e,t,n){e.geocode({location:n},(function(e,t){"OK"===t&&e[0]&&f(e[0].formatted_address)}))}(a,0,i)})));var c=Object(T.pb)(Array.isArray(i)&&i.length>0,i,[i]).map((function(e,n){var a=new window.google.maps.Marker({position:e,map:t,visible:!0,icon:Object(T.ub)(!l,!L&&l&&n===d)?(null===E||void 0===E?void 0:E.toUpperCase())===S.ob?gc:Et:Tt});return a.addListener("click",(function(e){m(e.latLng)})),a}));return Object(T.pb)(Array.isArray(i),c,c[0])};return Object(u.jsxs)(c.a.Fragment,{children:[!a&&((null===E||void 0===E?void 0:E.toUpperCase())!==S.ob||""!==o&&o?null:Object(u.jsx)("div",{className:"map-top-note ".concat(Object(T.pb)(v,"place-pin-off","")),children:Object(u.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(Ae.e)(g)})})),r&&!L&&Object(u.jsxs)("div",{className:"arrows",style:{bottom:"".concat(p+15,"px")},children:[Object(u.jsx)("span",{className:"map-arrow-left ".concat(Object(T.u)(0===d,"disableArrow")),"data-testid":"map-arrow-left",onClick:function(e){return Object(T.pb)(0===d,e.preventDefault(),s(0))},children:Object(u.jsx)(xc.a,{srcFile:we,alt:"map-arrow-left"})}),Object(u.jsx)("span",{className:"map-arrow-right ".concat(d===_.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:function(e){return d===_.length-1?e.preventDefault():s(1)},children:Object(u.jsx)(xc.a,{srcFile:we,alt:"map-arrow-right"})})]}),Object(u.jsx)("div",{id:"google-map",ref:C})]})},Ec=function(e){var t=e.errorMsgToShow,n=e.onClearTextHandler,a=e.dispositionType,o=e.onRetryClickHandler,r=e.onMapClickHandler,s=e.showMap,d=Object(i.useContext)(I.a).userOrderStateDispatch,l=_e.a.DISPOSITION_METHOD,b=_i.a.DELIVERY_UNAVAILABLE_WITH_CTA,v=_i.a.TAKE_AWAY,j=_i.a.RETRY_TEXT,O=_i.a.CTA1_SEARCH_DIFF_ADDRESS,m=_i.a.CTA2_ORDER_TAKEAWAY,f=_i.a.CTA2_VIEW_MAP_BUTTON_TEXT,p=Object(Dt.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":s});return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===a?p:"error-alert-location-popup error-adjust",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),t!==b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"location-error-address",children:Object(Ae.e)(t)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(ht.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return function(e){e.preventDefault(),n()}(e)},children:Object(Ae.e)(O)}),a.toLowerCase()!==v.toLowerCase()&&Object(u.jsx)(ht.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){return function(e){e.preventDefault(),d({type:l,value:{dispositionType:v}})}(e)},children:Object(Ae.e)(m)})]})]}),t===b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"location-error-address",children:Object(Ae.e)(t)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(ht.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:function(e){return o(e)},children:Object(Ae.e)(j)}),a!==v&&Object(u.jsx)(ht.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:function(e){return r(e)},children:Object(Ae.e)(f)})]})]})]})})},Tc=n(716),Ic=n(715),Cc=n(107),Sc=n(79),Ac=function(e){return!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC"},yc=function(e,t){return e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color"},_c=function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0},Dc=function(e){return e?vc:bc},Rc=function(e){var t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},wc=function(e,t,n){return!0===e?t():n()},Lc=Object(o.i)((function(e){var t,n,o,r=e.formContent,s=void 0===r?{}:r,d=e.storeData,l=void 0===d?[]:d,b=e.eligibleStoreData,v=void 0===b?[]:b,O=e.favoriteStoreData,m=void 0===O?[]:O,f=e.userPositionHandler,p=e.singInClickhandler,h=e.currentMarket,g=e.storeCardLimit,x=void 0===g?1/0:g,N=e.onStoreSelectFinish,C=e.handleGoBack,y=e.noStoresList,_=e.favoriteStoreHandler,D=s.memberText,w=void 0===D?"":D,L=s.singInLink,k=void 0===L?{}:L,P=s.currentLocationText,M=void 0===P?"":P,F=s.addressBoxPlaceHolderForSearchStore,U=void 0===F?"":F,B=s.mapText,Y=void 0===B?"":B,G=_i.a.MIN_SEARCH_CHARACTER_LIMIT,K=_i.a.SUUGESTED_ITEMS_TEXT,V=_i.a.ALLOWED_SUGGESTION_LIST,W=_i.a.ALREADY_SERACHED_LOCATIONS,q=_i.a.COUNTRY_CODE,z=_i.a.SUGGESTION_ACTIVE_COLOR,Q=_i.a.SUGGESTION_ACTIVE_OPACITY,J=_i.a.BRAND_BLACK,X=_i.a.STORE_STATUS_OPEN,Z=_i.a.LIST_TEXT,$=_i.a.TYPE_TAKE_WAY,ee=_i.a.STORE_STATUS_CLOSED_CAPS,te=_i.a.BROWSE_MENU,ne=_i.a.CTA1_SEARCH_DIFF_ADDRESS,ae=_i.a.DINEIN_UNAVAILABLE,ie=_i.a.CTA2_ORDER_TAKEAWAY,ce=_i.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,oe=_i.a.DINE_IN_SERVICE,re=_i.a.DINE_IN,se=_i.a.TYPE_DELIVERY,de=_i.a.TAKE_AWAY,le=_e.a.DISPOSITION_METHOD,ue=_e.a.MENU_URL,be=_e.a.SEARCH_ORDER_DATA,Oe=_e.a.CURRENT_STORE_INFO,me=_e.a.DISPOSITION_DATA,fe=_e.a.INDIA,pe=c.a.useContext(I.a).userOrderState,he=pe.searchStoreData,ge=void 0===he?{}:he,xe=pe.dispositionStateData,Ne=void 0===xe?{}:xe,Ee=pe.scheduleOrderData,Te=void 0===Ee?{}:Ee,Ie=Ne.dispositionType,Ce=void 0===Ie?localStorage.getItem("dispositionType"):Ie,Se=c.a.useState(""),ye=Object(j.a)(Se,2),De=ye[0],Re=ye[1],we=Object(i.useState)({}),Le=Object(j.a)(we,2),ke=Le[0],Pe=Le[1],Me=Object(i.useState)({}),Fe=Object(j.a)(Me,2),He=Fe[0],Ue=Fe[1],Be=Object(i.useState)(!1),Ye=Object(j.a)(Be,2),Ge=Ye[0],Ke=Ye[1],Ve=Object(i.useState)(!1),We=Object(j.a)(Ve,2),qe=We[0],ze=We[1],Qe=c.a.useState([]),Je=Object(j.a)(Qe,2),Xe=Je[0],Ze=Je[1],$e=c.a.useState(!1),et=Object(j.a)($e,2),tt=et[0],nt=et[1],at=Object(i.useState)(null),it=Object(j.a)(at,2),ct=it[0],ot=it[1],rt=Object(i.useState)(Object(T.Lb)(window.innerWidth)),st=Object(j.a)(rt,2),dt=st[0],lt=st[1],ut=0,bt=Object(i.useState)(0),vt=Object(j.a)(bt,2),jt=vt[0],Ot=vt[1],mt=Object(i.useState)(""),ft=Object(j.a)(mt,2),pt=ft[0],gt=ft[1],xt=c.a.useState(!1),Nt=Object(j.a)(xt,2),Et=Nt[0],Tt=Nt[1],It=c.a.useState([]),Ct=Object(j.a)(It,2),St=Ct[0],At=Ct[1],yt=c.a.useState([]),_t=Object(j.a)(yt,2),Dt=_t[0],Rt=_t[1],wt=Object(i.useContext)(I.a).userOrderStateDispatch,Lt=0,kt=Object(E.b)(),Pt=Object(E.c)((function(e){return e.tenantReducer})),Mt=(Pt||{}).tenantId,Ft=void 0===Mt?{}:Mt,Ht=0,Ut=c.a.useState(!1),Bt=Object(j.a)(Ut,2),Yt=Bt[0],Gt=Bt[1],Kt=c.a.useState(!1),Vt=Object(j.a)(Kt,2),Wt=Vt[0],qt=Vt[1],zt=Object(E.c)((function(e){return e.appStateReducer})),Qt=Object(E.c)((function(e){return Object(T.wb)(e.LoaderReducer)})).isLoading,Jt=zt.userStatus,Xt=(void 0===Jt?{}:Jt).loggedIn,Zt=void 0!==Xt&&Xt,$t=c.a.useState([]),en=Object(j.a)($t,2),tn=en[0],nn=en[1],cn=c.a.useState(!0),on=Object(j.a)(cn,2),rn=on[0],sn=on[1],dn=null===(t=Sc.a.getItem("access_token"))||void 0===t?void 0:t.secret,ln=Object(T.G)(dn),un=Object(i.useState)(325),bn=Object(j.a)(un,2),vn=bn[0],jn=bn[1],On=Object(i.useState)(!1),mn=Object(j.a)(On,2),fn=mn[0],pn=mn[1],hn=function(){var e=Object(T.Lb)(window.innerWidth);lt(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",hn),function(){window.removeEventListener("resize",hn)}}),[dt]),Object(i.useEffect)((function(){return window.addEventListener("keydown",Rc),function(){window.removeEventListener("keydown",Rc)}}));var gn=null===(n=document.getElementById("map-store-card"))||void 0===n?void 0:n.clientHeight;Object(i.useEffect)((function(){gn&&vn!==gn&&jn(gn)}),[gn]);var xn=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n,a,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fc.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(fc.getLatLng)(n[0]);case 5:a=e.sent,Pe(a),Ue(a),ut=0,Tn(t),Re(t),f({userLat:a.lat,userLong:a.lng}),nt(!1),i=Boolean(Object(T.u)(Object(T.ub)(De,t),Object(T.u)(0===ut,0===Lt))),Tt(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nn=function(){localStorage.setItem("currentStoreInfo",JSON.stringify(null)),wt({type:Oe,value:null}),wt({type:me,value:{showDisposition:!1}}),wt({type:be,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ue)})},En=function(e,t,n){return Object(u.jsx)("div",{className:"store-card",children:Ce.toUpperCase()===$?Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:an,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:e()}),Object(u.jsx)(ht.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Sn,children:Object(Ae.e)(n)})]}):Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:an,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:e()}),Object(u.jsx)(ht.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Sn,children:Object(Ae.e)(n)}),Object(u.jsx)(ht.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:function(e){return function(e){e.preventDefault(),wt({type:le,value:{dispositionType:de}}),xn(De)}(e)},children:Object(Ae.e)(ie)})]})})};Object(i.useEffect)((function(){if(!(null===Te||void 0===Te?void 0:Te.changeFlow)&&(null===ge||void 0===ge?void 0:ge.searchedPlaceNonLocalized))xn(ge.searchedPlaceNonLocalized);else if(localStorage.getItem("searchStoreByAttribute")){var e=localStorage.getItem("searchStoreByAttribute");Re(e),xn(e)}}),[]);Object(i.useEffect)((function(){if(De){var e=v.filter(_c);if(e.length>0){var t=e.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===X&&(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)>0}));if(t.length>=x){var n=t.slice(0,x);Ze(n)}else if(t.length<x){var a=x-t.length,i=e.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===ee||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)})).slice(0,a),c=t.concat(i);Ze(c)}}else ut=0,Ze([])}else Ze([]),nn([]),At([]),Tt(!1)}),[v,De]),Object(i.useEffect)((function(){if(v.length>0){_({userLat:He.lat,userLong:He.lng});var e=m.sort((function(e,t){return Object(wi.c)(e,t)})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus}));nn(t)}}),[v,m.length]),Object(i.useEffect)((function(){tt&&(Re(pt),Tn(pt),nt(!1)),localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==De&&(Ze([]),At([]),ot(""),nn([]));var e=Object(T.c)(De,G);pn(e)}),[ge,De,tt,pt]);var Tn=function(e){Object(T.Tb)(e,W)},In=function(){var e=Object(je.a)(ve.a.mark((function e(){var t,n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa.b.BindLocation();case 2:Object(wi.l)(),wa.b.coordinates&&(t=wa.b.coordinates,n=t.latitude,a=t.longitude,wa.b.addFeedback("Check coordinates ".concat(JSON.stringify(wa.b.coordinates))),wa.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),wa.b.addFeedback("Check address ".concat(wa.b.address)),ut=0,Pe({lat:n,lng:a}),Ke(!1),f({userLat:n,userLong:a}),Tt(!0),Re(wa.b.address),gt(wa.b.address),nt(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cn=function(e){return t=e,Object(T.vb)(JSON.parse(localStorage.getItem(W))).includes(t);var t},Sn=function(){Re(""),nn([]),Ze([]),At([]),Tt(!1),ot(""),Ke(!1)},An=Object(i.useCallback)(Object(je.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Xe.map(function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,Pe(t);case 4:case"end":return e.stop()}}),e)}))),[Xe]),yn=Object(i.useCallback)(Object(je.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(tn.map(function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,Pe(t);case 4:case"end":return e.stop()}}),e)}))),[tn]),_n=function(){Object(wi.h)(Ge,Ce),Ke(!Ge),ze(!Ge)},Dn=function(e,t){ot(e),Ot(t)},Rn=function(){An(),ze(!0),ot(Object(T.wb)(Xe[jt]))},wn=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn();case 2:ze(!0),ot(Object(T.wb)(tn[jt]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){!function(e,t,n,a){var i=a.TYPE_TAKE_WAY,c=a.DINE_IN,o=a.dispositionType,r=a.callSelectedStore,s=a.callSelectedFavStore;e?t.length&&[i,c].indexOf(o.toUpperCase())>-1&&r():n.length&&[i,c].indexOf(o.toUpperCase())>-1&&s()}(rn,Xe,tn,{TYPE_TAKE_WAY:$,DINE_IN:re,dispositionType:Ce,callSelectedStore:Rn,callSelectedFavStore:wn});var e=Xe.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===ee||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)})),t=Xe.filter((function(e){var t,n,a,i,c,o,r,s,d,l="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),b=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(c=i.status)||void 0===c||null===(o=c.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN")),v=null===e||void 0===e||null===(r=e.summary)||void 0===r?void 0:r.timings,j=v.futureDates,O=v.scheduled,m=v.asap,f=O.unavailibilities,p=O&&(null===O||void 0===O||null===(s=O.periods)||void 0===s?void 0:s.length)&&(null===O||void 0===O?void 0:O.periods[0]),h=p.interval,g=void 0===h?0:h,x=p.startEndTime,N=void 0===x?{}:x,E=N.from,T=N.to,I=$i(E,T,g,null===m||void 0===m?void 0:m.isAvailable,1===j.length&&(null===Pt||void 0===Pt||null===(d=Pt.country)||void 0===d?void 0:d.toUpperCase())===fe,f);return(!I||0===I.length)&&l&&(u||b)}));At(e),Rt(t)}),[Xe,jt,ct,y,re,ee,$,Ce,An,rn,tn]);var Ln=function(e){ot("");var t=e?jt+1:jt-1;Ot(t),function(e,t,n,a,i){t(!0===e?Object(T.wb)(n[i]):null===a||void 0===a?void 0:a[i])}(rn,ot,Xe,tn,t)},kn=function(e){sn(e)},Pn=function(){localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},Mn=function(e){Pn(),kt(Object(ti.l)({data:{storeId:e.id},tenantId:Ft,customerId:ln,dispatch:"dispatch"})),qt(!0)},Fn=function(e){Pn(),kt(Object(ti.m)({tenantId:Ft,customerId:ln,storeId:Object(T.wb)(e.id),dispatch:"dispatch"})),qt(!1)};Object(i.useEffect)((function(){Wt&&Gt(!0)}),[m.length]),Object(i.useEffect)((function(){0!==ut||0!==Lt||!Et||y||Qt||(Ce.toUpperCase()===$?Object(T.M)(Object(Ae.e)(Cc.a.contentData.searchStoreHeaderText),Object(Ae.e)(ce)):Object(T.M)(Object(Ae.e)(Cc.a.contentData.searchStoreHeaderText),Object(Ae.e)(ae)))}),[ut,Lt,Et,y,Qt]);var Hn=function(e,t){var n,i,o,r,s=(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===X,d=(e.availableServicesPerChannel&&Object(wi.f)(e.availableServicesPerChannel))[0].services,b=void 0===d?[]:d,v="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:s?Object(u.jsx)(tc,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(T.yb)(e.name[0].value),storeDistance:Object(T.ub)(null===e||void 0===e||null===(o=e.distance)||void 0===o?void 0:o.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(T.wb)(e.addresses[0].address)},l[0]),{},{storeInfo:e,currentMarket:h,isOpen:s,isMapView:!0,onStoreSelectFinish:N,isMobile:dt,centerIndex:jt,storeLength:Object(T.pb)(rn,null===Xe||void 0===Xe?void 0:Xe.length,null===tn||void 0===tn?void 0:tn.length)}),t):Object(u.jsx)(lc,Object(a.a)(Object(a.a)({orderTypes:b,storeName:Object(T.yb)(e.name[0].value),storeDistance:Object(T.ub)(null===e||void 0===e||null===(r=e.distance)||void 0===r?void 0:r.value,null===e||void 0===e?void 0:e.distance),addresses:Object(T.wb)(e.addresses[0].address),storeStatus:e.summary,onStoreSelectFinish:N,isMobile:dt,isMapView:!0,storeInfo:e,mapText:Y,onClick:function(){_n(),An()}},l[0]),{},{onPositionChangeHandler:Ln,centerIndex:jt,storeLength:Object(T.pb)(rn,null===Xe||void 0===Xe?void 0:Xe.length,null===tn||void 0===tn?void 0:tn.length)}),v)})},Un=tn.map((function(e,t){var n,i,o,r;if((null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===X){var s,d,b=(null===(s=e.summary)||void 0===s||null===(d=s.status)||void 0===d?void 0:d.currentStatus)===X;return b&&Ht++,Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(tc,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(T.yb)(e.name[0].value),storeDistance:Object(T.yb)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(T.wb)(e.addresses[0].address)},l[0]),{},{storeInfo:e,currentMarket:h,isOpen:b,onStoreSelectFinish:N,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,t),_n()},isFavoriteStore:!0,addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)}}),t)})}if((null===(o=e.summary)||void 0===o||null===(r=o.status)||void 0===r?void 0:r.currentStatus)===ee){Ht++;var v=(e.availableServicesPerChannel&&Object(wi.f)(e.availableServicesPerChannel))[0].services,j=void 0===v?[]:v,O="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(lc,Object(a.a)({storeName:Object(T.yb)(e.name[0].value),storeDistance:Object(T.yb)(e.distance.value),orderTypes:j,addresses:Object(T.wb)(e.addresses[0].address),storeStatus:e.summary,mapText:Y,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,t),_n()},isFavoriteStore:!0,addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)},onStoreSelectFinish:N,storeInfo:e},l[0]),O)})}})),Bn=Xe.map((function(e,t){var n,i,o,r;if(De||Ze([]),ut>=x||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length))return null;var s,d,b=(null===(s=e.summary)||void 0===s||null===(d=s.status)||void 0===d?void 0:d.currentStatus)===X;return b&&ut++,Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(tc,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(T.yb)(e.name[0].value),storeDistance:Object(T.yb)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(T.wb)(e.addresses[0].address)},l[0]),{},{storeInfo:e,currentMarket:h,isOpen:b,onStoreSelectFinish:N,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,t),_n()},isFavoriteStore:m.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)}}),t)})})),Yn=function(){var e=-1!==Ce.toLowerCase().indexOf("dine")?oe:Ce;if(o=Object(wi.a)(e,v))return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(Ec,{errorMsgToShow:o,onClearTextHandler:Sn,dispositionType:Ce,handleGoBack:C})})},Gn=function(){if(Xe.length===Dt.length&&Dt.length>0){var e=-1!==Ce.toLowerCase().indexOf("dine")?oe:Ce,t=Object(wi.a)(e,v);return Object(T.M)(Object(Ae.e)(Cc.a.contentData.searchStoreHeaderText),Object(Ae.e)(t)),Yn()}if(Xe.length===St.length&&St.length)return Kn;var n=-1!==Ce.toLowerCase().indexOf("dine")?oe:Ce;return Xe.length&&(o=Object(wi.a)(n,Xe))?Yn():(ut<5&&Bn.push(Kn),Bn)},Kn=St.map((function(e,t){var n=e.availableServicesPerChannel&&Object(wi.f)(e.availableServicesPerChannel),i=Object(T.vb)(n[0]).services,o=void 0===i?[]:i;if(De||Ze([]),Lt>=x-ut)return null;Lt++;var r="".concat(e.name[0].value,"_").concat(t),s=Xe.findIndex((function(t){return t.id===e.id}));return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(lc,Object(a.a)({storeName:Object(T.yb)(e.name[0].value),storeDistance:Object(T.yb)(e.distance),orderTypes:o,addresses:Object(T.wb)(e.addresses[0].address),storeStatus:e.summary,mapText:Y,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,s),_n()},isFavoriteStore:m.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)},onStoreSelectFinish:N,storeInfo:e},l[0]),r)})})),Vn=function(){switch(Ce.split("-").join(" ").toUpperCase()){case $:return Object(Ae.e)(ce);case re:return Object(Ae.e)(ae);default:return null}};return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"store-count",children:[Object(u.jsx)("span",{className:"member-signin",children:!Zt&&Object(u.jsxs)("div",{"data-id":S.l.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(Ae.e)(w),Object(u.jsx)("span",{onClick:p,children:Object(u.jsx)(H,{className:"store-signin-link",targettype:k.targetType,href:k.linkUrl,"data-testid":"store-signin-link",children:Object(Ae.e)(k.linkText)})})]})}),Object(u.jsx)("span",{children:Object(u.jsxs)(H,{onClickHandler:In,className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:uc,alt:"location",className:"location-img"}),Object(Ae.e)(M)]})})]}),Object(u.jsx)("div",{className:"search-address",children:Object(u.jsx)("div",{className:"input-address",children:Object(u.jsx)(pc.a,{"data-testid":"handle-select",value:De,onChange:function(e){e||Sn(),Re(e),Object(T.eb)(e)<3&&pn(!1)},onSelect:xn,searchOptions:{componentRestrictions:{country:q}},shouldFetchSuggestions:!0,onError:function(e,t){t()},children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"".concat(o||0===ut&&0===Lt&&Et&&y&&!Xe.length?"search-container-data error-border":"search-container-data"),children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:R,alt:"googleMapLocation",className:"google-location-img"}),Object(u.jsx)("input",Object(a.a)({"data-testid":"store-search-input",className:"store-search-input t-2"},t({placeholder:Object(Ae.e)(U)}))),De&&Object(u.jsx)("img",{"data-testid":"clear-text-icon",src:hc,className:"clearTextIcon",onClick:function(){return Sn()}})]}),!!Object(T.u)(Object(T.eb)(n),fn)&&Object(u.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:n.map((function(e,t){var n;if(null===e||void 0===e||null===(n=e.types)||void 0===n?void 0:n.some((function(e){return V.includes(e)}))){var o=e.active?{backgroundColor:z,opacity:Q}:{backgroundColor:J};return Object(u.jsxs)(c.a.Fragment,{children:[0===t&&Object(u.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(Ae.e)(K)}),Object(u.jsx)("div",{style:o,children:Object(u.jsx)("div",Object(a.a)(Object(a.a)({"data-testid":"suggestion-item-".concat(t)},i(e,{className:"suggestion-items",id:"suggestion-items"})),{},{children:Object(u.jsxs)("div",{className:"suggested-address-alignment",children:[Object(u.jsx)("div",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Cn(e.description)?Oc:jc,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(u.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))})]})}})})})]}),Object(u.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),kc(De,Ge,Z,_n,An),Object(u.jsxs)("form",{className:"form",children:[Object(u.jsxs)("div",{className:"store-count",children:[!!ut&&Object(u.jsx)("span",{"data-testid":"tab-open-store",className:yc(Zt,rn),onClick:function(){Ot(0),kn(!0)},children:Zt?Object(u.jsxs)("span",{children:[" ","".concat(Object(Ae.e)("nearYou"))," (",ut+Lt,")"]}):Object(u.jsxs)("span",{children:[ut+Lt," ","".concat(Object(Ae.e)("nearYou"))]})}),!!Lt&&Xe.length===St.length&&Xe.length!==Dt.length&&Object(u.jsx)("span",{"data-testid":"tab-closed-store",className:yc(Zt,rn),onClick:function(){Ot(0),kn(!0)},children:"".concat(Object(Ae.e)("nearYou")," (").concat(Lt,")")}),0===ut&&0===Lt&&Et&&y&&Object(u.jsx)("span",{className:"store-count-title",children:"".concat(Object(Ae.e)("nearYou")," (").concat(ut,")")}),Pc(ut,Lt,Zt,Ht,{firstTab:rn,setCenterIndex:Ot,handleTabChange:kn}),(!!ut||!!Lt)&&Xe.length!==Dt.length&&Object(u.jsx)("div",{"data-testid":"togglemap-id",onClick:function(){Ot(0),_n(),wc(rn,An,yn)},children:Object(u.jsxs)(H,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Dc(Ge),alt:"map",className:"map-img"})}),Ge?Object(Ae.e)(Z):Y]})}),0===ut&&0===Lt&&Et&&y&&Object(u.jsx)("div",{"data-testid":"show-map-div",onClick:function(){Ot(0),_n(),wc(rn,An,yn)},children:Object(u.jsxs)(H,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Dc(Ge),alt:"map",className:"map-img"})}),Ge?Object(Ae.e)(Z):Object(Ae.e)(Y)]})})]}),Ge?Object(u.jsx)("div",{className:"order-button-section",children:0===ut&&0===Lt&&Et&&y&&Object(u.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:an,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:Vn()}),Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Nn,children:Object(Ae.e)(te)})]})})}):Object(u.jsxs)(u.Fragment,{children:[Object(T.u)(!Qt,Object(T.u)(rn,0!==ut||0!==Lt||!Et||y||Xe.length?Gn():En(Vn,Nn,ne))),Zt&&!rn&&Object(u.jsx)("div",{className:"order-button-section",children:Un})]}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsx)(Tc.a,{open:Yt,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e3,onClose:function(){Gt(!1)},children:Object(u.jsxs)(Ic.a,{children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:mc,alt:"success",className:"success-img"}),"Saved to your favorite store"]})})]})]}),Ge&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"".concat((null===Ce||void 0===Ce?void 0:Ce.toUpperCase())!==se&&"takeawayDineInMap"," delivery-map"),children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Nc,{latLongValue:ke,loadingElement:Object(u.jsx)("div",{style:{height:"100%"}}),containerElement:Object(u.jsx)("div",{style:{height:"400px"}}),mapElement:Object(u.jsx)("div",{style:{height:"100%"}}),passAddress:function(e){Re(e)},isVisible:Ce.toUpperCase()===$||Ce.toUpperCase()===re,isMobile:dt,centerIndex:jt,onPositionChangeHandler:Ln,setShowCard:ze,setStoreMarker:Object(T.pb)(rn,(function(e){var t=Xe.findIndex((function(t){return t.location.latitude===e.lat()&&t.location.longitude===e.lng()}));t>-1&&(jt===t&&Rn(),Ot(t))}),(function(e){!function(e,t,n,a,i){var c=e.findIndex((function(e){return e.location.latitude===a.lat()&&e.location.longitude===a.lng()}));c>-1&&(i===c&&t(),n(c))}(tn,wn,Ot,e,jt)})),storeCardHeight:vn}),qe&&ct&&dt?!o&&Hn(ct,"Selected-Card"):null]}),qe&&ct&&!dt?Object(T.u)(Xe.length===St.length,rn)?!o&&function(e,t){var n=e.availableServicesPerChannel&&Object(wi.f)(e.availableServicesPerChannel),i=Object(T.vb)(n[0]).services,o=void 0===i?[]:i,r="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(lc,Object(a.a)(Object(a.a)({storeName:Object(T.yb)(e.name[0].value),storeDistance:Object(T.yb)(e.distance),orderTypes:o,addresses:Object(T.wb)(e.addresses[0].address),storeStatus:e.summary,mapText:Y,isMobile:dt,isMapView:!0,onStoreSelectFinish:N,onClick:function(){_n(),An()},storeInfo:e},l[0]),{},{centerIndex:jt,storeLength:Object(T.pb)(rn,null===Xe||void 0===Xe?void 0:Xe.length,null===tn||void 0===tn?void 0:tn.length)}),r)})}(ct,"Selected-Card"):Hn(ct,"Selected-Card"):""]})})]})}));function kc(e,t,n,a,i){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(u.jsxs)("div",{className:"enter-your-address-section",children:[Object(u.jsx)("span",{className:"search-store-text",children:Object(Ae.e)("pleaseEnterLocation")}),Object(u.jsx)("div",{"data-testid":"show-list-map",className:Object(T.pb)(t,"store-count","show-map-div"),onClick:function(){t&&a(),i()},children:Object(u.jsxs)(H,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Dc(t),alt:"map",className:"map-img"})}),Object(T.pb)(t,Object(Ae.e)(n),Object(Ae.e)("map"))]})})]})})}function Pc(e,t,n,a,i){var c=i.firstTab,o=i.setCenterIndex,r=i.handleTabChange;return Object(u.jsx)(u.Fragment,{children:(!!e||!!t)&&n&&Object(u.jsx)("span",{"data-testid":"tab-favorite-store",className:Ac(c),onClick:function(){o(0),r(!1)},children:"".concat(Object(Ae.e)("savedkfc")," (").concat(a,")")})})}var Mc=function(e){return!0===e.includes(",")?e.replace(",",", "):e},Fc=function(e){var t,n,a=e.onMapClickHandler,i=e.startOrderFormSavedAddress,o=_i.a.SAVED_ADDRESS,r=_i.a.START_ORDER_TEXT,s=Object(E.c)((function(e){return e.profileReducer})).savedAddresses,d=null===(t=s.filter((function(e){return e.isPrimary}))[0])||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.join(" ");return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"savedAddress-store-count",children:[Object(u.jsx)("span",{className:"saved-address-count-title",children:"".concat(Object(Ae.e)(o)).concat(s.length>1?"es  ":""," (").concat(s.length,")")}),Object(u.jsx)("div",{"data-testid":"saved-map-link",onClick:function(e){return a(e,"",d)},children:Object(u.jsxs)(H,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:bc,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((function(e){return Object(u.jsx)("div",{className:"savedAddress-module-card",children:Object(u.jsxs)("div",{className:"inside-card",children:[Object(u.jsxs)("div",{className:"address-section",children:[Object(u.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(u.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(u.jsxs)("span",{children:[" ",Mc(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(u.jsxs)("span",{children:[" ",Mc(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ht.a,{className:"button redButton search-store-card-btn",onClickHandler:function(t){return function(e,t){var n,a=t.location,c={userLat:a.latitude,userLong:a.longitude},o=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.reduce((function(e,t){return e+" "+t})))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(o,c)}(0,e)},"data-testid":"savedaddress-click-test",children:Object(Ae.e)(r)})})]})})}))]})})},Hc=_i.a.MIN_SEARCH_CHARACTER_LIMIT,Uc=_i.a.SUUGESTED_ITEMS_TEXT,Bc=_i.a.ALLOWED_SUGGESTION_LIST,Yc=_i.a.ALREADY_SERACHED_LOCATIONS,Gc=_i.a.COUNTRY_CODE,Kc=_i.a.SUGGESTION_ACTIVE_COLOR,Vc=_i.a.SUGGESTION_ACTIVE_OPACITY,Wc=_i.a.BRAND_BLACK,qc=(_i.a.COLOR_BLACK,_i.a.CONFIRM_BUTTON_TEXT),zc=_i.a.LOCATION_WARNING_MESSAGE,Qc=_i.a.RETRY_TEXT,Jc=_i.a.USE_THIS_ADDRESS_TEXT,Xc=_i.a.DELIVERY_UNAVAILABLE,Zc=_i.a.DELIVERY_UNAVAILABLE_WITH_CTA,$c=_i.a.NOTAVAILABLE,eo=_i.a.CTA1_SEARCH_DIFF_ADDRESS,to=_i.a.TAKE_AWAY,no=_i.a.CTA2_ORDER_TAKEAWAY,ao=function(e,t){t()},io=function(e){var t,n,a=e.eligibleStoreData,i=e.suggestedAddress,c=e.setNegativeScenarioAlert,o=e.getNegativeView,r=null===a||void 0===a?void 0:a.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0})),s=r.filter((function(e){var t,n,a,i,c,o,r="CLOSED"===e.summary.status.currentStatus,s=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),d=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(c=i.status)||void 0===c||null===(o=c.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN"));return r&&(s||d)})),d=Object(wi.a)("delivery",r);return Object(T.ub)(d,Object(T.ub)(!(null===(t=i[0])||void 0===t?void 0:t.description),(null===s||void 0===s?void 0:s.length)===r.length))?(Object(T.u)((null===s||void 0===s?void 0:s.length)===(null===r||void 0===r?void 0:r.length),null===r||void 0===r?void 0:r.length)?d=Xc:(null===(n=i[0])||void 0===n?void 0:n.description)||(d=Zc),c(d),Object(T.M)(Object(Ae.e)(Cc.a.contentData.deliveryHeaderText),Object(Ae.e)(d)),o(d)):void 0},co=function(e){var t,n=e.formContent,o=void 0===n?{}:n,r=e.userPositionHandler,s=e.singInClickhandler,d=e.eligibleStoreData,l=o.memberText,b=void 0===l?"":l,v=o.singInLink,O=void 0===v?{}:v,m=o.currentLocationText,f=void 0===m?"":m,p=o.addressBoxPlaceHolderForDelivery,h=void 0===p?"":p,g=S.P.RETAIN_ADDRESS,x=_e.a.SCHEDULE_ORDER_DATA,N=_e.a.DISPOSITION_METHOD,C=Object(E.c)((function(e){return e.appStateReducer.userStatus})),y=Object(T.wb)(C).loggedIn,_=Object(i.useContext)(I.a),D=_.userOrderState,w=_.userOrderStateDispatch,L=D.searchStoreData,k=void 0===L?{}:L,P=D.dispositionStateData,M=void 0===P?{}:P,F=Object(i.useState)(""),U=Object(j.a)(F,2),B=U[0],Y=U[1],G=Object(i.useState)(!1),K=Object(j.a)(G,2),V=K[0],W=K[1],q=Object(i.useState)(!1),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(!1),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)({lat:28.7,lng:77.1}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)(!1),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useState)(!1),le=Object(j.a)(de,2),ue=le[0],be=le[1],Oe=Object(i.useState)([]),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=Object(i.useState)(""),ge=Object(j.a)(he,2),xe=ge[0],Ne=ge[1],Ee=Object(i.useRef)(null),Te=Object(i.useState)(""),Ie=Object(j.a)(Te,2),Ce=Ie[0],Se=Ie[1],ye=Object(i.useState)(""),De=Object(j.a)(ye,2),Re=De[0],we=De[1],Le=Object(i.useState)(!1),ke=Object(j.a)(Le,2),Pe=ke[0],Me=ke[1],Fe=Object(i.useState)(!1),He=Object(j.a)(Fe,2),Ue=He[0],Be=He[1],Ye=Object(i.useState)(!1),Ge=Object(j.a)(Ye,2),Ke=Ge[0],Ve=Ge[1],We=Object(i.useState)(""),qe=Object(j.a)(We,2),ze=qe[0],Qe=qe[1],Je=Object(i.useState)(!1),Xe=Object(j.a)(Je,2),Ze=Xe[0],$e=Xe[1],et=M.dispositionType,tt=void 0===et?localStorage.getItem("dispositionType"):et,nt=Object(i.useState)({}),at=Object(j.a)(nt,2),it=at[0],ct=at[1],ot=Object(E.c)((function(e){var t,n,a,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(i.useEffect)((function(){Object(wi.d)(ue,Re,Cc.a)}),[ue,Re]);var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(Ec,{errorMsgToShow:Object(T.ub)(Re,e),onClearTextHandler:Ot,onRetryClickHandler:dt,onMapClickHandler:st,dispositionType:tt,showMap:$})})},st=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(wi.h)($,tt),ee(!0),we(!1),t&&!B&&ut(t)},dt=function(e){Ee.current.select(),W(!1),se(!1),we(!1),be(!1)},lt=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=io({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt}),!(B.length>0&&ue&&a||!d[0]&&a)){e.next=3;break}return e.abrupt("return");case 3:(null===(n=fe[0])||void 0===n?void 0:n.description)&&w({type:x,value:{deliveryAddress:xe,showScheduleOrder:!0,selectedStoreInfo:Object(T.wb)(d[0])}}),se(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(je.a)(ve.a.mark((function e(t,n,a){var i,c,o,s,d=arguments;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>3&&void 0!==d[3]&&d[3],$e(!1),Qe(""),Object(T.u)(null===n,null===a)&&(null===(i=fe[0])||void 0===i?void 0:i.description)&&be(!0),Me(!0),se(!0),e.next=9,Object(fc.geocodeByAddress)(t);case 9:return o=e.sent,e.next=12,Object(fc.getLatLng)(o[0]);case 12:s=e.sent,ie(s),bt(t),Y(t),c||W(!0),r({userLat:s.lat,userLong:s.lng}),J(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem(g);pe([{description:t}]),ut(t,{},{})}),[]),Object(i.useEffect)((function(){var e=null===d||void 0===d?void 0:d.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n?void 0:n.catalogs[0])!==$c})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)}));Ze&&ze&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ve(!1),w({type:x,value:{deliveryAddress:ze,showScheduleOrder:!0,selectedStoreInfo:t[0]}})):ze&&Ve(!0)}),[d,ze,Ze]),Object(i.useEffect)((function(){}),[ae]);Object(i.useEffect)((function(){(null===B||void 0===B?void 0:B.length)>2?W(!ue):(W(!1),be(!1),we(""));var e=Object(T.c)(B,Hc);Be(e)}),[B]),Object(i.useEffect)((function(){Q&&(Y(Ce),bt(Ce),J(!1))}),[k]);var bt=function(e){Object(T.Tb)(e,Yc)},vt=function(){var e=Object(je.a)(ve.a.mark((function e(){var t,n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa.b.BindLocation();case 2:Object(wi.l)(),pe([]),wa.b.coordinates&&(t=wa.b.coordinates,n=t.latitude,a=t.longitude,wa.b.addFeedback("Check coordinates ".concat(JSON.stringify(wa.b.coordinates))),wa.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),wa.b.addFeedback("Check address ".concat(wa.b.address)),r({userLat:n,userLong:a}),Se(wa.b.address),Y(wa.b.address),ut(wa.b.address),J(!0),pe([{description:wa.b.address}]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(e){return t=e,Object(T.vb)(JSON.parse(localStorage.getItem(Yc))).includes(t);var t},Ot=function(){Y(""),W(!1),we(""),pe(""),Ve(!1)},mt=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie({lat:n.userLat,lng:n.userLong}),$e(!0),Y(t),ct(n),bt(t),Qe(t),r(n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"login-section",children:[Object(u.jsx)("span",{className:"delivery-member-signin",children:!y&&so(b,s,O)}),Object(u.jsx)("span",{children:Object(u.jsxs)(H,{onClickHandler:vt,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:uc,alt:" ",className:"location-img"}),Object(Ae.e)(f)]})})]}),Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)("div",{className:"search-delivery-address",children:Object(u.jsx)("div",{className:"input-delivery-address",children:Object(u.jsx)(pc.a,{value:B,onChange:function(e){Me(!1),se(!1),Y(e),function(e,t,n){(null===e||void 0===e?void 0:e.length)<3&&(t(""),n(!1))}(e,pe,Be),$e(!1),Qe(""),Ve(!1)},onSelect:ut,searchOptions:{componentRestrictions:{country:Gc}},shouldFetchSuggestions:!0,onError:ao,children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(u.jsxs)("div",{children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:R,alt:" ",className:"google-location-img"}),Object(u.jsx)("input",Object(a.a)({"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(T.pb)(Object(T.ub)(ue,Re),"store-search-input error-border mt-2","store-search-input mt-2"))},t({placeholder:Object(Ae.e)(h),ref:Ee}))),B&&Object(u.jsx)("img",{src:hc,className:"clearTextIcon",onClick:Ot}),Object(T.u)(Object(T.eb)(n),Ue)?Object(u.jsx)("div",{className:"suggestion-list",children:n.map((function(e,t){var o;if(null===e||void 0===e||null===(o=e.types)||void 0===o?void 0:o.some((function(e){return Bc.includes(e)}))){pe(n);var r=Object(T.pb)(e.active,{backgroundColor:Kc,opacity:Vc},{backgroundColor:Wc});return Object(u.jsxs)(c.a.Fragment,{children:[0===t&&Object(u.jsx)("div",{className:"suggestion-items suggest-text",children:Object(Ae.e)(Uc)}),Object(u.jsx)("div",{style:r,children:Object(u.jsx)("div",Object(a.a)(Object(a.a)({},i(e,{className:"suggestion-items"})),{},{children:Object(u.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(u.jsx)("div",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Object(T.pb)(jt(e.description),Oc,jc),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(u.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))}):null]})}})})}),Object(u.jsx)("form",{children:Object(u.jsx)(ht.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!V,onClick:function(e){var t;if(e.preventDefault(),Ze)return Ke&&W(!1),void mt(B,it);if(!(Pe&&io({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt})||!(null===(t=fe[0])||void 0===t?void 0:t.description)&&io({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt}))){if(we(""),!re){var n,a,i=null===(n=fe[0])||void 0===n?void 0:n.description;return Ne(i),(null===(a=fe[0])||void 0===a?void 0:a.description)&&be(!0),W(!1),void ut(i,null===fe||void 0===fe?void 0:fe.placeId,fe,!0)}d[0]&&(se(!1),w({type:x,value:{deliveryAddress:B,showScheduleOrder:!0,selectedStoreInfo:d[0]}}))}},children:Object(Ae.e)(qc)})})]})]}),Ke&&!ot&&Object(u.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-address",children:Object(Ae.e)(Xc)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(ht.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return Ve(!1)},children:Object(Ae.e)(eo)}),Object(u.jsx)(ht.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){e.preventDefault(),w({type:N,value:{dispositionType:to}})},children:Object(Ae.e)(no)})]})]}),!$&&Object(u.jsx)("div",{className:"my-3 store-form-separation"}),$||y||ue||Re?null:ro(st),!ue&&y&&!Re&&!$&&!Ke&&Object(u.jsx)(Fc,{userPositionHandler:r,startOrderFormSavedAddress:mt,allowOrderNow:Ke,onMapClickHandler:st})]}),B.length>0&&Object(T.u)(ue,!Re)?Object(u.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-message",children:Object(Ae.e)(zc)}),Object(u.jsx)("div",{className:"location-error-address",children:Object(T.ub)(null===(t=fe[0])||void 0===t?void 0:t.description,B)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:dt,children:Object(Ae.e)(Qc)}),Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:lt,children:Object(Ae.e)(Jc)})]})]}):Re&&rt(),$?oo(ue,ae,(function(e){Y(e)}),Re):null]})};function oo(e,t,n,a){return Object(u.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(T.pb)(e,"pointer-disabled","")),children:Object(u.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(u.jsx)(Nc,{"data-testid":"map-comp",latLongValue:t,passAddress:n,locationAlertProp:e,negativeScenarioAlertProp:a,locationAlert:e})})})}function ro(e){return Object(u.jsx)("div",{className:"map-button-form",children:Object(u.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(u.jsx)("span",{className:"delivery-map-text",children:Object(Ae.e)("pleaseEnterLocation")}),Object(u.jsxs)(H,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:bc,alt:" ",className:"map-img"})}),Object(Ae.e)("map")]})]})})}function so(e,t,n){return Object(u.jsxs)("div",{"data-id":S.l.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(Ae.e)(e),Object(u.jsx)("span",{onClick:t,children:Object(u.jsx)(H,{targetType:n.targetType,href:n.linkUrl,className:"delivery-signin-link",children:Object(Ae.e)(n.linkText)})})]})}var lo,uo,bo=function(e){var t=e.handleClose,n=e.handleGoBack,a=e.orderModeTypeItem,i=e.headerText,o=e.modalTitleId,r=void 0===o?"":o;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:n,modalTitle:i,autoFocus:!0,children:a})})},vo=n(23),jo=[],Oo="",mo=function(e,t){var n,i;i=e&&e.rows&&e.rows[0].elements.map((function(e){return e}));var c=e&&e.originAddresses&&e.originAddresses[0]||"";n=jo.map((function(e,t){return Object(a.a)(Object(a.a)({},e),i[t])})),uo(n,c)},fo=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(vo.a)(e).slice(0,24),destinations:Object(vo.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},po),lo=n},po=function(e,t){if(t===_i.a.OK_STATUS){var n,a=e&&e.rows&&e.rows.map((function(e){return e}));n=null===a||void 0===a?void 0:a.map((function(e){return e.elements[0]})),Oo=e&&e.originAddresses||[],lo({allStoreDistance:n,originAddressText:Oo})}},ho=n(134),go=n(272),xo=function(e){var t=e.contentData,n=void 0===t?{}:t,o=e.onStoreSelectFinish,r=_e.a.SEARCH_ORDER_DATA,s=_e.a.DISPOSITION_DATA,d=_e.a.ANALYTICS_LOCALISATION_SIGNIN,l=Object(E.b)(),b=_i.a.COUNTRY_CODE,v=_i.a.STORE_CARD_LIMIT,O=_i.a.TYPE_TAKE_WAY,m=_i.a.PICK_UP,f=_i.a.TENANT_ID,p=_i.a.TENATNT_SESSION_ID,h=_i.a.TYPE_DELIVERY,g=Object(i.useContext)(I.a),x=g.userOrderState,N=g.userOrderStateDispatch,C=x.dispositionStateData,S=x.searchStoreData,A=Object(T.yb)(C).dispositionType,y=void 0===A?localStorage.getItem("dispositionType"):A,_=S.currentMarket,D=void 0===_?b:_,R=S.storeCardLimit,w=void 0===R?v:R,L=S.storeStatusUrl,k=void 0===L?"".concat(Object(Ht.a)(Gt.M),"v1/stores/{storeid}/{channel}/{service}/status"):L,P=S.tenantID,M=void 0===P?f:P,F=S.tenantSessionID,H=void 0===F?p:F,U=n.searchStoreHeaderText,B=void 0===U?"":U,Y=n.deliveryHeaderText,G=void 0===Y?"":Y,K=n.searchStoreModalContent,V=void 0===K?{}:K,W=V.formContent,q=void 0===W?{}:W,z=V.locationsContent.storeData,Q=void 0===z?[]:z,J=c.a.useState([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=c.a.useState({}),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=c.a.useState([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=c.a.useState([]),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(E.c)((function(e){return Object(T.wb)(e.tenantReducer)})),ve=be.storeSearch,je=void 0===ve?{}:ve,Oe=be.tenantId,me=Object(E.c)((function(e){return Object(T.wb)(e.storesReducer)})),fe=me.allStores,pe=void 0===fe?[]:fe,he=me.storesWithStatus,ge=void 0===he?[]:he,xe=me.isStoreStatusLoading,Ne=void 0!==xe&&xe,Ee=je.maxDriveTimeMins,Te=je.distanceMetrics,Ie=je.maxDeliveryDistanceMtrs,Ce=je.maxPickupDistanceMtrs,Se=je.geohashprecision,ye=je.boundingBoxSizeMeters,De=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),N({type:s,value:{showDisposition:!1}}),N({type:r,value:{showSearchStore:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&De(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var Re=function(e){e.stopPropagation(),e.preventDefault(),N({type:s,value:{showDisposition:!0}}),N({type:r,value:{showSearchStore:!1}})},we=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem(d,JSON.stringify(!0)),Object(wi.i)(),Object(T.h)()},Le=Object(E.c)((function(e){return e.profileReducer.favouriteStores}));Object(i.useEffect)((function(){ke({userLat:ne.userLat,userLong:ne.userLong})}),[Le.length]),Object(i.useEffect)((function(){pe.length>0&&Ue(pe)}),[pe]),Object(i.useEffect)((function(){ge.length>0&&Ve(ge)}),[ge]),Object(i.useEffect)((function(){(null===y||void 0===y?void 0:y.toUpperCase())===h&&Be(le)}),[le]);var ke=function(e){!function(e,t,n,a){if(e,t,uo=a,(jo=n).length>0){var i=jo.map((function(e){var t=e&&e.storeBasic.location;return{lat:t.latitude,lng:t.longitude}})),c=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[].concat(c).slice(0,24),destinations:Object(vo.a)(i).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},mo)}else uo([],"")}(e.userLat,e.userLong,Le,Pe)},Pe=function(e,t){var n=Object(T.pb)((null===y||void 0===y?void 0:y.toUpperCase())===O,m,y),a=k.replace("{channel}",wa.b.channel).replace("{service}",n).replace(" ","-"),i=Object(Ft.a)();Object(wi.g)(e,a.toLowerCase(),M,H||Object(Ft.a)(),i,Me)},Me=function(e){var t=e.map((function(e){var t=e.storeBasic,n=t.additionalProperties,i=void 0===n?[]:n,c=t.address,o=t.amenities,r=t.dname,s=t.id,d=t.location;return Object(a.a)(Object(a.a)({},e),{},{id:s,location:d,name:r,amenities:o,addresses:c,additionalAttributes:i,storeBasic:{}})}));re(t)},Fe=function(e){l(Object(go.b)()),ae({userLat:e.userLat,userLong:e.userLong}),Z&&$([]),He(e.userLat,e.userLong),setTimeout((function(){l(Object(go.a)())}),2e3)},He=function(e,t){var n={lat:e,lon:t,distanceFromCurrentLoc:ye/1e3,geohashprecision:Se},a=ho.a.calculateGH(n);l(Object(ti.k)(null===a||void 0===a?void 0:a.length))},Ue=function(e){var t=Object(T.L)(y.toUpperCase()),n=e.filter((function(e){var t,n;return Object(T.Pb)(e.id)&&Object(T.Pb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(T.Pb)(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)})),a={stores:n,disposition:t,distanceMetrics:Te,driveTime:Ee,distanceInMtrs:Object(T.pb)(y.toUpperCase()===h,Ie,Ce),noOfStores:Object(T.pb)(y.toUpperCase()===h,2,n.length)},i=ho.a.checkAndProceed(a);ue(i),y.toUpperCase()===h?Be(i):Ke(i,t)},Be=function(e){var t=[];null===e||void 0===e||e.forEach((function(e){var n,a;t.push({lat:null===(n=e.location)||void 0===n?void 0:n.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),fo(t,[{lat:ne.userLat,lng:ne.userLong}],Ye)},Ye=function(e){var t=e.allStoreDistance,n=(e.originAddressText,Object(T.L)(y.toUpperCase())),a={stores:Ge(t,le),numberOfStores:2,disposition:n,distanceMetrics:Te,driveTime:Ee,distanceInMtrs:Object(T.pb)((null===y||void 0===y?void 0:y.toUpperCase())===h,Ie,Ce)},i=ho.a.getSortedNearbyStores(a);(null===i||void 0===i?void 0:i.length)>0&&Ke(i,n)},Ge=function(e,t){return null===t||void 0===t?void 0:t.map((function(t,n){return Object(a.a)(Object(a.a)({},t),{},{distance:e[n]})}))},Ke=function(e,t){var n={data:null===e||void 0===e?void 0:e.map((function(e){return{storeId:e.id,channel:wa.b.channel,service:t}})),store:e,tenantId:Oe,setStatusFlag:!1,isFavoritePage:!1};l(Object(ti.c)(n))},Ve=function(e){var t=e.filter((function(e){var t,n,a,i,c,o,r,s,d,l,u,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(o=c.menu)||void 0===o||null===(r=o.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(d=s.timings)||void 0===d||null===(l=d.operatingHours)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(b=u.timings)||void 0===b?void 0:b.asap)}));$(t)},We=(null===y||void 0===y?void 0:y.toUpperCase())===h?Object(u.jsx)(co,{singInClickhandler:we,formContent:q,storeData:Q,onStoreSelectFinish:o,eligibleStoreData:Z,storeCardLimit:w,userPositionHandler:Fe,currentMarket:D}):Object(u.jsx)(Lc,{singInClickhandler:we,formContent:q,storeData:Q,eligibleStoreData:Z,noStoresList:Ne,storeCardLimit:w,userPositionHandler:Fe,currentMarket:D,onStoreSelectFinish:o,handleGoBack:Re,favoriteStoreData:oe,favoriteStoreHandler:ke});return Object(u.jsx)(bo,{handleClose:De,orderModeTypeItem:We,headerText:Object(T.pb)((null===y||void 0===y?void 0:y.toUpperCase())===h,Object(Ae.e)(G),Object(Ae.e)(B)),handleGoBack:Re,modalTitleId:"search-store"})};xo.defaultProps=Cc.a;var No=xo,Eo=n.p+"static/media/clock.264bac4c.svg",To={contentData:{contentText:"HOW WOULD YOU LIKE TO RECEIVE YOUR ORDER ?",infoObject:{type:"info",infoText:"Manu availability and pricing may vary between order types."},desktopImages:{alt:"",src:""},orderTypes:[{buttonText:"Delivery",selectDefault:!1,type:"delivery",showOption:!0},{buttonText:"Take Away",selectDefault:!1,type:"takeAway",showOption:!0},{buttonText:"Dine In",selectDefault:!1,type:"dineIn",showOption:!0}],storeSection:{storeName:"Takeaway from: KFC Fort Street",orderTimeStart:"4:00",orderTimeEnd:"4:30pm",buttonText:"Change"}}},Io="CLOSED",Co={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"},So=function(e,t,n){var a,i,c,o,r,s=(null===t||void 0===t||null===(a=t.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)||Io,d=Object(T.wb)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),l=d.futureDates,u=d.scheduled,b=d.asap,v=Object(T.wb)(u).unavailibilities,j=Object(T.wb)((null===u||void 0===u||null===(o=u.periods)||void 0===o?void 0:o.length)&&(null===u||void 0===u?void 0:u.periods[0])),O=j.interval,m=void 0===O?0:O,f=j.startEndTime,p=void 0===f?{}:f,h=Object(T.wb)(p),g=h.from,x=h.to,N=$i(g,x,m,null===b||void 0===b?void 0:b.isAvailable,1===(null===l||void 0===l?void 0:l.length)&&"INDIA"===(null===n||void 0===n||null===(r=n.country)||void 0===r?void 0:r.toUpperCase()),v);if(s===Io&&!N.length)return Object(Ae.e)("outOfService");var E=e.time,I=e.interval,C="object"==typeof e.date?e.date:new Date(e.date),S=Object(De.r)(Object(De.e)(C,"YYYY-MM-DD")+" "+E,"YYYY-MM-DD hh:mm A"),A=Object(De.a)(S,I,"minutes"),y=Object(De.f)(A,"LT");return"ASAP"===E?"".concat(E):"".concat(E," - ").concat(y)},Ao=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"orderType",dispositionSelected:t}),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yo=function(e){var t,n=e.contentData,a=void 0===n?{}:n,r=e.clickHandler,s=void 0===r?null:r,d=e.dispositionChange,l=e.activeDisposition,b=e.selectedInfo,v=void 0===b?{}:b,O=e.showBlackStripeContent,m=void 0===O||O,f=e.headerTrackOrder,p=a.headline,h=void 0===p?"":p,g=a.subHeadline,x=void 0===g?null:g,N=a.supportedDispositionsData,I=void 0===N?[]:N,C=a.src,S=void 0===C?"":C,y=a.alt,_=a.ariaLabel,D=void 0===_?"":_,w=Object(E.c)((function(e){return e.tenantReducer})),L=Object(o.g)(),k=To.contentData.storeSection,P=Co.ORDER_TYPE_STORE_INFO_FROM,M=Co.ORDER_TYPE_STORE_INFO_TO,F=Co.ORDER_TYPE_STORE_INFO_AT,H=Co.HOMEPATHSELECT,U=Co.HOMEPATH,B=k.buttonText,Y=Object(T.Eb)(v.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):v.dispositionNew,G=Y?Y.type:"",K=Y?Y.store:{},V=Y?Y.date:"",W=Y?Y.time:"",q=Y?Y.interval:0,z=Object(T.wb)(null===Y||void 0===Y?void 0:Y.store),Q={date:V,time:W,interval:q},J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee="Delivery"===G?M:"Pickup"===G?P:F;return Object(i.useEffect)((function(){(null===L||void 0===L?void 0:L.pathname)===U||(null===L||void 0===L?void 0:L.pathname)===H?$(!0):$(!1)}),[L,U,H]),Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(K)&&m&&Object(u.jsx)("div",{className:"headerBottom content-ribbon","data-testid":"select-start-order-items",children:Object(u.jsxs)("div",{className:"headBottomParent content-parent",children:[Object(u.jsxs)("div",{className:"headBottomTxt content-text",children:[Object(u.jsxs)("div",{className:"store-location",children:[Object(u.jsx)("div",{children:Object(u.jsx)(A.a,{srcFile:R,alt:y||"location-icon",className:"content-location-img"})}),Object(u.jsx)("div",{className:"content-stroe-wrap",children:Object(u.jsxs)("span",{className:"content-store address",children:[Object(T.K)(G)," ",ee,":"," ","delivery"===G.toLowerCase()?null===Y||void 0===Y?void 0:Y.deliveryAddress:null===K||void 0===K||null===(t=K.summary)||void 0===t?void 0:t.name]})})]}),Object(u.jsxs)("div",{className:"content-time",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{srcFile:Eo,alt:y||"location-icon",className:"content-clock-img"})}),Object(u.jsxs)("span",{className:"content-store",children:[" ",Q&&So(Q,z,w)]})]})]}),Object(u.jsx)(ht.a,{className:"button transparent-btn white-border change-store-btn","aria-label":D||B,onClickHandler:function(e){return s(e,K)},id:"changeOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:B})})]})}),f&&f(),Z?Object(u.jsxs)("div",{className:"select-content-disposition",children:[Object(u.jsx)("div",{className:"stripes",children:Object(u.jsx)(A.a,{srcFile:S,alt:y||""})}),Object(u.jsx)("div",{className:"disposition-headline",children:h}),Object(u.jsx)("div",{role:"alert",className:"disposition-info-text",children:Object(u.jsx)("span",{children:x})}),Object(u.jsx)("div",{className:"disposition-btns mb-2",children:I.map((function(e){var t;return Object(u.jsx)(ht.a,{className:l===(null===e||void 0===e||null===(t=e.dispositionType)||void 0===t?void 0:t.toUpperCase())?"button grayButton active-disposition":"button grayButton",onClickHandler:function(t){var n;d(t,null===e||void 0===e||null===(n=e.dispositionType)||void 0===n?void 0:n.toUpperCase())},"aria-label":e.buttonText,children:e.buttonText},e.buttonText)}))})]}):null]})},_o=n(362),Do=n.n(_o),Ro=(n(516),n.p+"static/media/dropdownArrowBlack.38def97e.svg"),wo=n.p+"static/media/Calendar.a9e4b392.svg",Lo=function(e,t,n){return-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(n))},ko=function(e){return"ASAP"!==e&&"-"!==e?e:Object(De.s)(Object(De.g)(),_i.a.HHMM,_i.a.LT)},Po=function(e,t){var n={};return"-"!==e&&"ASAP"!==e?n={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(n={isForNow:!0,futureDateTime:0}),n},Mo=function(e,t,n){var a=JSON.parse(localStorage.getItem("dispositionNew"));return e&&a?Object(T.K)(a.type):t?S.y.PICKUP:Object(T.K)(n)},Fo=Object(o.i)((function(e){var t,n,o,r,s,d,l,b,v,O,m,f=Object(i.useRef)(null),p=Object(i.useRef)(null),h=e.formContent,g=e.location,x=e.onStoreSelectFinish,N=h.orderTypeTitle,C=void 0===N?"":N,S=h.dateTitle,y=void 0===S?"":S,_=h.timeTitle,D=void 0===_?"":_,R=h.editTitle,w=void 0===R?"":R,L=h.restaurantTitle,k=void 0===L?"":L,P=h.yourLocationTitle,M=void 0===P?"":P,F=h.scheduleDateTitle,U=void 0===F?"":F,B=h.buttonText,Y=void 0===B?"":B,G=_e.a.SEARCH_ORDER_DATA,K=_e.a.SCHEDULE_ORDER_DATA,V=_e.a.DISPOSITION_DATA,W=_e.a.SCHEDULE_ORDER_TIME_DATA,q=_e.a.CLOSED,z=_e.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,Q=_e.a.MENU_URL,J=_e.a.PDP_URL,X=_e.a.SELECTED_TILE_DATA,Z=_e.a.DISPOSITION_METHOD,$=_e.a.SET_DISPOSITION,ee=_e.a.USER_LOCALIZED,te=_e.a.SHOW_CLEAR_CART_ALERT,ne=_e.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,ae=_e.a.clearCartChangeFlag,ie=_e.a.orderTypeAlertTitle,ce=_e.a.searchStoreAlertTitle,oe=_e.a.CURRENT_STORE_INFO,re=_e.a.SET_FORCERELOAD,se=cn.contentData,de=cn.timingsSampleData,le=Object(E.c)((function(e){return e.profileReducer})),ue=Object(i.useContext)(I.a),be=ue.userOrderState,Oe=ue.userOrderStateDispatch,me=be.dispositionStateData,fe=void 0===me?{}:me,pe=be.scheduleOrderData,he=void 0===pe?{}:pe,ge=he.changeFlow,xe=void 0!==ge&&ge,Ne=he.isAddressFlow,Ee=void 0!==Ne&&Ne,Te=he&&Object(T.Fb)(he.storeInfo)?he.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),Ie=fe.dispositionType,Ce=void 0===Ie?"":Ie,Se=Ce||localStorage.getItem("dispositionType"),ye=(he&&he.storeInfo&&he.storeInfo.name&&he.storeInfo.name[0]||{value:""}).value,Re=void 0===ye?"":ye,we=(he&&(null===(t=he.selectedDateTimeInfo)||void 0===t||null===(n=t.date)||void 0===n?void 0:n.length)>0?he.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""}).date,Le=void 0===we?"":we,ke=he&&(null===(o=he.selectContentData)||void 0===o||null===(r=o.savedTime)||void 0===r?void 0:r.length)>0?null===(s=he.selectContentData)||void 0===s?void 0:s.savedTime:localStorage.getItem("savedTimeOrder"),Pe=(null===(d=he.storeInfo)||void 0===d||null===(l=d.summary)||void 0===l?void 0:l.timings)||de,Me=Pe.futureDates,Fe=Pe.scheduled,He=Pe.asap,Ue=Object(T.Eb)(be.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):be.dispositionNew,Be=Fe.unavailibilities,Ye=Fe&&Fe.periods.length&&Fe.periods[0],Ge=Ye.interval,Ke=void 0===Ge?0:Ge,Ve=Ye.startEndTime,We=void 0===Ve?{}:Ve,qe=We.from,ze=We.to,Qe=Object(E.c)((function(e){return e.appStateReducer.userStatus})),Je=Object(E.b)(),Xe=Object(E.c)((function(e){return e.tenantReducer})),Ze=Object(E.c)((function(e){return e.storesReducer})),$e=Object(E.c)((function(e){return e.cartReducer})).cartData,et=Ze.storesAvilableTimeSlots,tt=Ze.storesTimeSlots,nt=Object(i.useState)(!1),at=Object(j.a)(nt,2),it=at[0],ct=at[1],ot=se.errorMessageInactive,rt=void 0===ot?"":ot,st=se.errorMessageClosed,dt=void 0===st?"":st,lt=se.SWITCH_TO_TAKEAWAY,ut=se.DELIVERY_NA_WARNING_MESSAGE,bt=se.DELIVERY_PICKUP_NA_MESSAGE,vt=se.scheduleOrderHeaderText,jt=se.changeScheduleOrderHeaderText,Ot=Object(i.useState)({error:!1,errormessage:""}),mt=Object(j.a)(Ot,2),ft=mt[0],pt=mt[1],ht=Object(i.useState)({from:qe,to:ze,interval:Ke}),gt=Object(j.a)(ht,2),xt=gt[0],Nt=gt[1],Et=function(){var e;return xe?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===_i.a.TYPE_DELIVERY:!Ee&&(null===Se||void 0===Se?void 0:Se.toUpperCase())===_i.a.TYPE_DELIVERY},Tt=new i.useState(Fe&&Fe.date?new Date(Fe.date.toString()):new Date),It=Object(j.a)(Tt,2),Ct=It[0],St=It[1],At=new i.useState(He&&He.isAvailable?"ASAP":Object(De.s)(null===We||void 0===We?void 0:We.from,"hh:mm","LT")),yt=Object(j.a)(At,2),Dt=yt[0],Rt=yt[1],wt=Object(i.useState)([]),Lt=Object(j.a)(wt,2),kt=Lt[0],Mt=Lt[1],Ft=Object(i.useState)(!1),Ht=Object(j.a)(Ft,2),Ut=Ht[0],Bt=Ht[1],Yt=Object(i.useState)(!1),Gt=Object(j.a)(Yt,2),Kt=Gt[0],Vt=Gt[1],Wt=Object(i.useState)(Object(T.Lb)(window.innerWidth)),qt=Object(j.a)(Wt,2),zt=qt[0],Qt=qt[1],Jt=function(){Qt(Object(T.Lb)(window.innerWidth))};Object(i.useEffect)((function(){window.addEventListener("resize",Jt)}),[zt]),Object(i.useEffect)((function(){if(1===Me.length&&"INDIA"===(null===Xe||void 0===Xe?void 0:Xe.country)){var e={storeid:he&&he.storeInfo&&he.storeInfo.id,channel:wa.b.channel,service:Object(T.L)(On()).toString().toLowerCase(),date:""};Je(Object(ti.b)({data:e,tenantId:Xe.tenantId}))}var t=$i(qe,ze,Ke,He&&He.isAvailable,1===Me.length&&"INDIA"===(null===Xe||void 0===Xe?void 0:Xe.country),Be);return Mt(t),function(){Je(Object(ti.a)())}}),[]);var Xt=function(e){var t;if("INDIA"!==(null===Xe||void 0===Xe?void 0:Xe.country)){var n=Object(De.e)(e,"YYYY-MM-DD");if(Fe.date===n){var i=$i(qe,ze,Ke,He&&He.isAvailable,1===Me.length&&"INDIA"===(null===Xe||void 0===Xe?void 0:Xe.country),Be);return Mt(i),Rt(i[0].timestr),Nt({from:qe,to:ze,interval:Ke}),St(e),pt(Object(a.a)(Object(a.a)({},ft),{},{error:!1,errormessage:""})),Bt(!1),void Vt(!1)}var c={storeid:he&&he.storeInfo&&he.storeInfo.id,channel:wa.b.channel,service:Object(T.L)(On()).toString().toLowerCase(),date:n};if(Je(Object(ti.b)({data:c,tenantId:Xe.tenantId})),St(e),(null===et||void 0===et||null===(t=et.periods)||void 0===t?void 0:t.length)>0){var o=et.periods[0],r=o.startEndTime,s=o.interval,d=r.from,l=r.to,u=$i(d,l,s,He&&He.isAvailable,1===Me.length&&"INDIA"===(null===Xe||void 0===Xe?void 0:Xe.country),Be);Nt({from:d,to:l,interval:s}),Mt(u)}pt(Object(a.a)(Object(a.a)({},ft),{},{error:!1,errormessage:""}))}},Zt=function(e){var t=new Date,n=new Date(e.split("T")[0]);return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()},$t=function(e){var t;Rt("ASAP"===e?"ASAP":(null===(t=e)||void 0===t?void 0:t.timestr)?null===t||void 0===t?void 0:t.timestr:t);var n,i="ASAP"===(n=(null===e||void 0===e?void 0:e.selectedDay)?e:{timestr:e,selectedDay:Zt(Le)?"Today":"Tomorrow"})||"Today"===(null===n||void 0===n?void 0:n.selectedDay)?new Date:new Date((new Date).getTime()+864e5);St(i),Bt(!1),Vt(!1),pt(Object(a.a)(Object(a.a)({},ft),{},{error:!1,errormessage:""}))};Object(i.useEffect)((function(){var e=ke;Le&&Xt(new Date(Le)),function(e,t,n,a,i,c){if(e&&t){var o=Object(De.s)(t,"h:mm A","HH:mm");new Date(a).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)<(new Date).setHours(Number(null===n||void 0===n?void 0:n.split(":")[0]),Number(null===n||void 0===n?void 0:n.split(":")[1]),0)?c(i):c(t)}}(xe,e,qe,Le,ke,$t),function(e,t,n,a,i){if(1!==e.length){var c,o={storeid:null===t||void 0===t||null===(c=t.storeInfo)||void 0===c?void 0:c.id,channel:wa.b.channel,service:Object(T.L)(n()).toString().toLowerCase(),date:""};a(Object(ti.b)({data:o,tenantId:null===i||void 0===i?void 0:i.tenantId}))}}(Me,he,On,Je,Xe)}),[]),Object(i.useEffect)((function(){var e=Object(T.pb)(xe,Object(Ae.e)(jt),Object(Ae.e)(vt));if(Object(T.Fb)(tt)&&it)if(tt&&tt.status&&tt.status.currentStatus===q)pt(Object(a.a)(Object(a.a)({},ft),{},{error:!0,errormessage:Object(Ae.e)(dt)})),Object(T.M)(e,Object(Ae.e)(dt));else{var t=new Date;if(new Date(Ct).setHours(0,0,0,0)===t.setHours(0,0,0,0)){var n=Object(De.g)().add(He.promiseTime,"minutes").format("LT");Object(De.b)(n,Dt,"h:mm A")?(pt(Object(a.a)(Object(a.a)({},ft),{},{error:!0,errormessage:Object(Ae.e)(rt)})),Object(T.M)(e,Object(Ae.e)(rt))):Lo(g,Q,J)?en():tn()}else Lo(g,Q,J)?en():tn()}}),[tt,le]);var en=function(){Oe({type:X,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(Xe)),localStorage.setItem("selectedTile",JSON.stringify({})),tn(),setTimeout((function(){e.history.push({pathname:"".concat(Q)})}),500)},tn=function(){var e=Object(je.a)(ve.a.mark((function e(){var t,n,i,c;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe({type:K,value:{showScheduleOrder:!1,selectedStoreInfo:he&&he.storeInfo,changeFlow:!0}}),Oe({type:Z,value:{dispositionType:Se}}),localStorage.setItem("dispositionType",On()),localStorage.setItem("storeInfo",he&&he.storeInfo?JSON.stringify(he.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",he&&he.storeInfo?JSON.stringify(he.storeInfo):JSON.stringify({})),Oe({type:oe,value:Object(T.wb)(null===he||void 0===he?void 0:he.storeInfo)}),Oe({type:G,value:{showSearchStore:!1}}),t="",n="","ASAP"===Dt||"-"===Dt?(t="ASAP",n="ASAP"):(t=Dt,n=Dt),Oe({type:re,value:{forceReload:!0}}),i={time:t,interval:xt.interval,date:Ct,selectedTime:Dt},null!==Ue&&Ue.type===On()&&Ue.store.id===Te.id&&Ue.deliveryAddress===he.deliveryAddress){e.next=17;break}return e.next=14,Object(T.g)(Te,Object(T.L)(Se),le.customerId,i,null===he||void 0===he?void 0:he.deliveryAddress);case 14:c=e.sent,Je(Object(_t.j)("")),Je(Object(_t.e)({data:c,tenantId:Xe.tenantId}));case 17:Je(Object(Pa.b)(Object(a.a)(Object(a.a)({},Qe),{},{localized:!0}))),Oe({type:$,value:{oldvalue:Ue,newValue:{type:On(),store:Te,date:i.date,time:i.time,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:null===he||void 0===he?void 0:he.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(Ue)),localStorage.setItem("dispositionNew",JSON.stringify({type:On(),store:Te,date:i.date,time:i.time,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:null===he||void 0===he?void 0:he.deliveryAddress})),Object(T.ic)(),Oe({type:W,value:{selectedDateTime:i}}),Oe({type:z,value:{selectContentTime:n}}),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder",n);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(et||{}).length){var t,n,a,i,c=Object(T.ub)(null===(t=et[0])||void 0===t?void 0:t.periods[0],e),o=c.startEndTime,r=c.interval,s=Object(T.ub)(null===(n=et[1])||void 0===n?void 0:n.periods[0],e).startEndTime,d=o.from,l=s.to,u=$i(d,l,r,He&&He.isAvailable,1===Me.length&&new Date(null===(a=et[0])||void 0===a?void 0:a.date).setHours(0,0,0,0)<new Date(null===Me||void 0===Me?void 0:Me[0]).setHours(0,0,0,0)&&"INDIA"===(null===Xe||void 0===Xe?void 0:Xe.country),Be);if(Nt({from:d,to:l,interval:r}),Mt(u),Ho(u,ke,$t),!et.find((function(e){return e.date===Le.split("T")[0]})))St(new Date(null===(i=et[0])||void 0===i?void 0:i.date))}else if(Object.keys(et||{}).length){var b,v,j,O=Object(T.ub)(null===(b=et[0])||void 0===b?void 0:b.periods[0],e),m=O.startEndTime,f=O.interval,p=m.from,h=m.to,g=$i(p,h,f,He&&He.isAvailable,"INDIA"===(null===Xe||void 0===Xe?void 0:Xe.country)&&1===Me.length&&new Date(null===(v=et[0])||void 0===v?void 0:v.date).setHours(0,0,0,0)<new Date(null===Me||void 0===Me?void 0:Me[0]).setHours(0,0,0,0),Be);if(Nt({from:p,to:h,interval:f}),Mt(g),Ho(g,ke,$t),!et.find((function(e){return e.date===Le.split("T")[0]})))St(new Date(null===(j=et[0])||void 0===j?void 0:j.date))}}),[JSON.stringify(et)]);var nn=function(e){var t,n;(null===f||void 0===f||null===(t=f.current)||void 0===t?void 0:t.contains(e.target))||(null===p||void 0===p||null===(n=p.current)||void 0===n?void 0:n.contains(e.target))||(Bt(!1),Vt(!1))};Object(i.useEffect)((function(){return document.addEventListener("mousedown",nn),function(){document.removeEventListener("mousedown",nn)}}),[]);var on=function(){Oe({type:G,value:{showSearchStore:!0}}),Oe({type:K,value:{showDisposition:!1}}),Oe({type:Z,value:{dispositionType:"Pickup"}})},rn=null===he||void 0===he||null===(b=he.storeInfo)||void 0===b||null===(v=b.availableServicesPerChannel)||void 0===v||null===(O=v.find((function(e){return"web"===e.channel})))||void 0===O?void 0:O.services,sn=null===rn||void 0===rn?void 0:rn.includes("delivery"),dn=(null===rn||void 0===rn||rn.includes("pickup"),Object(T.u)(Et(),!sn)),ln=function(){var e=Object(Ae.e)(bt),t=!1;return sn&&(e=Object(Ae.e)(ut),t=!0),{showTakeWayButton:t,message:e}},vn=ln().message;Object(i.useEffect)((function(){!function(e,t){var n=e?Object(Ae.e)(bn):Object(Ae.e)(un);t&&Object(T.M)(n,t)}(xe,vn)}),[vn]);var jn=function(){var e=ln(),t=e.message,n=e.showTakeWayButton;return Object(u.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(n?"":"alert-without-action-button"),children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-message",children:t}),Object(u.jsx)("div",{className:"location-error-button-section",children:n&&Object(u.jsx)(Qa.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:on,children:Object(Ae.e)(lt)})})]})},On=function(){var e=JSON.parse(localStorage.getItem("dispositionNew"));return xe&&e?e.type:Ee?"Pickup":Se},mn=xe?null===(m=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===m?void 0:m.deliveryAddress:he.deliveryAddress;return Object(u.jsxs)("div",{className:"scheduleOrder-form",children:[Object(u.jsx)("h3",{className:"order-type",children:Object(Ae.e)(C)}),Object(u.jsxs)("div",{className:"ordertype-input-div",children:[Object(u.jsx)(Pt,{value:Mo(xe,Ee,Se),className:"w-100"}),Object(u.jsx)("div",{className:"edit-input",children:Object(u.jsx)(H,{"aria-label":"Edit order type",onClickHandler:function(){var e;if($e&&(null===$e||void 0===$e||null===(e=$e.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ae,onConfirm:ie};Object(T.Ub)(Oe,t,te,ne)}else Oe({type:V,value:{showDisposition:!0}});Oe({type:K,value:{showScheduleOrder:!1}}),Oe({type:G,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(Ae.e)(w)})})]}),ft&&ft.error&&Object(u.jsxs)("div",{className:"error-container",children:[Object(u.jsx)("span",{className:"error-img"}),ft.errormessage]}),zt&&dn&&Object(u.jsx)(jn,{}),Object(u.jsx)("h3",{className:"order-type",children:Et()?Object(Ae.e)(M):Object(Ae.e)(k)}),Object(u.jsxs)("div",{className:"ordertype-input-div",children:[Object(u.jsx)(Pt,{value:Et()?mn:Re||"",className:"w-100"}),Object(u.jsx)("div",{className:"edit-input",children:Et()?Object(u.jsx)(H,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if(Oe({type:Z,value:{dispositionType:xe?JSON.parse(localStorage.getItem("dispositionNew")).type:Se}}),$e&&(null===$e||void 0===$e||null===(e=$e.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ae,onConfirm:ce};Object(T.Ub)(Oe,t,te,ne)}else Oe({type:G,value:{showSearchStore:!0}});Oe({type:K,value:{showScheduleOrder:!1}})},"data-testid":"edit-location-test",children:Object(Ae.e)(w)}):Object(u.jsx)(H,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if((null===$e||void 0===$e||null===(e=$e.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ae,onConfirm:ce};Object(T.Ub)(Oe,t,te,ne)}else{var n=JSON.parse(localStorage.getItem("seachedLocations"));if(Ee)Oe({type:G,value:{showSearchStore:!0,searchedPlaceNonLocalized:he.storeInfo.name[0].value}});else if(n){var a=n[n.length-1];Oe({type:G,value:{showSearchStore:!0,searchedPlaceNonLocalized:a}})}}Oe({type:K,value:{showScheduleOrder:!1,changeFlow:Boolean(xe)}}),Oe({type:Z,value:{dispositionType:On()}})},"data-testid":"edit-store-test",children:Object(Ae.e)(w)})})]}),!zt&&dn&&Object(u.jsx)(jn,{}),Object(u.jsx)("h3",{className:"order-type",children:Object(Ae.e)(U)}),Object(u.jsxs)("div",{className:"schedule-date-time",children:[Object(u.jsxs)("div",{className:"schedule-date",children:[Object(u.jsx)("div",{className:"dateTitleDatePicker",children:Object(Ae.e)(y)}),Me&&Me.length>0&&Fe&&Fe.date&&"INDIA"!==(null===Xe||void 0===Xe?void 0:Xe.country)?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{ref:f,onClick:function(){return Vt(!Kt)},"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(u.jsx)(Do.a,{selected:Ct,showPopperArrow:!1,onChange:function(e){return Xt(e)},minDate:new Date(Fe.date.toString()),maxDate:new Date(Me[Me.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Kt,readOnly:!0}),Object(u.jsx)("img",{src:wo,className:"date-icon",id:"datePickerIcon"})]}),Object(u.jsx)("span",{className:"dropdown-img"})]}):Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)("div",{className:"time-input time-input-container",children:Object(De.e)(Ct,"YYYYMMDD")===Object(De.c)("YYYYMMDD")?Object(Ae.e)("today"):Object(Ae.e)("tomorrow")})})]}),Object(u.jsxs)("div",{className:"schedule-time",children:[Object(u.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(Ae.e)(D)}),Object(u.jsxs)("div",{className:Uo(kt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:function(){return 0!==Fe.periods.length&&Bt(!Ut)},onClick:function(){return 0!==Fe.periods.length&&Bt(!Ut)},children:[Object(u.jsx)("div",{className:"time-input asap-default",children:Dt}),Object(u.jsx)("img",{src:Ro,alt:" ",className:"downarrow-time-list"})]}),Ut&&Object(u.jsx)("div",{ref:p,className:"schedule-time-list-container",children:Object(u.jsx)("ul",{children:!!(null===kt||void 0===kt?void 0:kt.length)&&kt.map((function(e){return Object(u.jsx)("li",{tabIndex:"0",onClick:function(){return $t(e)},onKeyPress:function(){return $t(e)},children:e.timestr})}))})})]})]}),Object(u.jsx)("div",{className:"text-center schedule-btn-div",children:Object(u.jsx)(Qa.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(Ae.e)(Y),onClickHandler:function(e){x(e,Se),ct(!0);var t=ko(Dt),n=Object(De.k)(Object(De.e)(Ct,"YYYY-MM-DD")+" "+t,"YYYY-MM-DD hh:mm A"),a={storeid:he&&he.storeInfo&&he.storeInfo.id,channel:wa.b.channel,service:Object(T.L)(On()).toString().toLowerCase(),futureDateTimeInEpochFormat:n};Je(Object(ti.g)({data:a,tenantId:Xe.tenantId})),(null===$e||void 0===$e?void 0:$e.id)&&Je(Object(ti.h)({params:{basketId:null===$e||void 0===$e?void 0:$e.id},tenantId:Xe.tenantId,postBody:Po(Dt,n)})),Oe({type:ee,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===Fe.periods.length,children:Object(Ae.e)(Y)})})]})}));function Ho(e,t,n){var a;e?e.find((function(e){return(null===e||void 0===e?void 0:e.timestr)===t}))||n(null===(a=e[0])||void 0===a?void 0:a.timestr):n("-")}var Uo=function(e){return"time-input-container time-inputbox ".concat((null===e||void 0===e?void 0:e.length)?"":"disable-time-dropdown")},Bo=function(e){var t=e.handleClose,n=e.ScheduleOrderForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i,r=e.handleGoBack;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:o,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:r,children:n})})},Yo=function(e){var t=e.onStoreSelectFinish,n=Object(i.useContext)(I.a),a=n.userOrderState,c=n.userOrderStateDispatch,o=cn.contentData,r=o.scheduleOrderHeaderText,s=o.scheduleOrderModalContent,d=o.changeScheduleOrderHeaderText,l=s.formContent,b=_e.a.SEARCH_ORDER_DATA,v=_e.a.SCHEDULE_ORDER_DATA,j=a.scheduleOrderData.changeFlow,O=void 0!==j&&j,m=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),c({type:v,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrder:!1}}),c({type:b,value:{showSearchStore:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&m(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var f=Object(u.jsx)(Fo,{formContent:l,onStoreSelectFinish:t});return Object(u.jsx)(Bo,{handleGoBack:function(){c({type:b,value:{showSearchStore:!0}}),c({type:v,value:{showScheduleOrder:!1}})},handleClose:m,ScheduleOrderForm:f,modalTitleId:"schedule-order",headerText:O?Object(Ae.e)(d):Object(Ae.e)(r)})},Go=n(333),Ko=function(e){var t,n,r=e.userParams,s=e.contentData,d=e.showHeader,l=void 0===d||d,b=_e.a.DISPOSITION_DATA,v=_e.a.SCHEDULE_ORDER_DATA,O=_e.a.SEARCH_ORDER_DATA,m=_e.a.DISPOSITION_METHOD,f=_e.a.SHOW_CLEAR_CART_ALERT,p=_e.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,h=_e.a.clearCartExposedFlag,g=_e.a.searchStoreAlertTitle,x=s.segmentedHomePageData,N=void 0===x?[]:x,C=N.headline,A=void 0===C?[]:C,y=N.supportedDispositions,_=void 0===y?[]:y,D=e.contentData&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(e&&e[0]&&e[0].fields||"").headline,a=(t&&t[0]&&t[0].fields||"").buttonText;return{startOrderTitle:n,buttonText:a}}(A,_)||{},R=e.contentData&&e.contentData.contentDispositionData&&Object(T.Fb)(e.contentData.contentDispositionData)&&function(e){var t,n=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields&&e.headline[0].fields.desktopImage.fields.file||{}).url,a=void 0===n?"":n,i=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields||{}).title,c=void 0===i?"":i,o=e.headline&&(null===(t=e.headline[1])||void 0===t?void 0:t.fields)||{},r=o.headline,s=void 0===r?"":r,d=o.subHeadline,l=void 0===d?"":d,u=e.supportedDispositions;return{headline:s,subHeadline:l,supportedDispositionsData:(void 0===u?[]:u).map((function(e){return e.fields})),src:a,alt:c}}(e.contentData.contentDispositionData)||{},w=Object(i.useContext)(I.a)||{},L=w.userOrderState,k=w.userOrderStateDispatch,P=localStorage.getItem(S.P.SERVICE_TYPE),M=P&&P.toUpperCase(),F=Object(i.useState)(M),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=Object(E.c)((function(e){return e.cartReducer})).cartData,G=void 0===Y?{}:Y,K=Object(i.useState)(l),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(o.g)();Object(i.useEffect)((function(){B(M)}),[M]);var Q=function(e,t){e.stopPropagation(),e.preventDefault(),bi(t)},J=Object(u.jsx)(ei,{contentData:D,clickHandler:function(){li("startOrder"),k({type:b,value:{showDisposition:!0}})}}),X=function(){return r.loggedIn&&((null===z||void 0===z?void 0:z.pathname)===S.eb.HOME||(null===z||void 0===z?void 0:z.pathname)===S.eb.HOME_PAGE||(null===z||void 0===z?void 0:z.pathname)===S.eb.ACCOUNT)},Z=function(){if(X())return Object(u.jsx)(Go.a,Object(a.a)(Object(a.a)({},e),{},{testId:"HeaderTrackOrderComponent",importPath:"HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:q,isHeaderTrackOrderEnabled:X}))},$=Object(u.jsx)(yo,{contentData:R,clickHandler:function(e,t){e.preventDefault(),e.stopPropagation(),k({type:v,value:{showScheduleOrder:!0,selectedStoreInfo:t,changeFlow:!0}}),ui()},dispositionChange:function(e,t){var n,a="";if(e.stopPropagation(),e.preventDefault(),Ao(t),a=t.trim(),null===S.w||void 0===S.w?void 0:S.w.includes(a.toUpperCase()))if(k({type:m,value:{dispositionType:a}}),(null===G||void 0===G||null===(n=G.foodLines)||void 0===n?void 0:n.length)>0){var i={flag:h,onConfirm:g};Object(T.Ub)(k,i,f,p)}else k({type:O,value:{showSearchStore:!0}})},activeDisposition:U,selectedInfo:L,showBlackStripeContent:W,headerTrackOrder:Z});return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[l&&function(){var e=J;return X()&&(e=W?Object(u.jsxs)("div",{children:[J," ",Z()]}):Z()),Object(T.Fb)(R)&&r.localized&&(e=$),e}(),(null===L||void 0===L||null===(t=L.dispositionStateData)||void 0===t?void 0:t.showDisposition)&&Object(u.jsx)(Di,{}),(null===L||void 0===L||null===(n=L.searchStoreData)||void 0===n?void 0:n.showSearchStore)&&Object(u.jsx)(No,{onStoreSelectFinish:Q}),(null===L||void 0===L?void 0:L.scheduleOrderData.showScheduleOrder)&&Object(u.jsx)(Yo,{onStoreSelectFinish:Q})]})})},Vo=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.className,i=void 0===a?"":a,c=e.clickHandler,o=void 0===c?null:c,r=n.src,s=void 0===r?"":r,d=n.alt,l=void 0===d?"":d,b=n.cardText,v=void 0===b?"":b,j=n.showButton,O=void 0===j||j,m=n.buttonText,f=void 0===m?"":m,p=n.buttonItem,h=void 0===p?"":p,g="".concat(f," on ").concat(v);return Object(u.jsxs)("div",{className:"communication-card ".concat(i),children:[Object(u.jsx)(A.a,{"data-testid":"image-component",srcFile:s||"",alt:l,className:"communicationCard-background"}),Object(u.jsxs)("div",{className:"communicationCard-content",children:[Object(u.jsxs)("div",{className:"communicationCard-text",children:[" ",v," "]}),O&&f&&Object(u.jsx)(Qa.a,{"data-testid":"button-component-".concat(f),id:"communicationCard_".concat(h),className:"button whiteButton card-button communicationCard-button",type:"submit",onClickHandler:function(){o(h)},"aria-label":g,children:f})]})]})},Wo=function(e){var t=e.contentData.routingContent,n=void 0===t?null:t,a=n&&function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.fields,n=t.headline,a=void 0===n?"":n,i=t.displayButton,c=void 0!==i&&i,o=e.fields.button&&e.fields.button.fields||{},r=o.buttonText,s=void 0===r?"":r,d=o.name,l=void 0===d?"":d,u=o.url,b=void 0===u?"":u,v=e.fields.desktopImage&&e.fields.desktopImage.fields&&e.fields.desktopImage.fields.file||{},j=v.url,O=void 0===j?"":j,m=v.alt;return{cardText:a,showButton:c,buttonText:s,buttonItem:l,buttonUrl:b,src:O,alt:void 0===m?"":m}}))}(n)||[],i=function(e){console.log("item selected",e)},c=function(e,t){return e.length%2!==0&&e.indexOf(t)===e.length-1},o=a.map((function(e,t,n){return Object(u.jsx)(Vo,{"data-testid":"communicationItem-click",contentData:e,className:"".concat(c(n,e)?"communicationCard-full":""),clickHandler:i},e.buttonItem)}));return Object(u.jsx)("div",{className:"communication_container",children:o})},qo=n(364),zo=n.n(qo),Qo=(n(582),n(583),function(e){var t=e.settings,n=e.carousalRef;return Object(u.jsx)(zo.a,Object(a.a)(Object(a.a)({},t),{},{ref:n,children:e.children}))});Qo.defaultProps={settings:null,carousalRef:null};var Jo=Qo,Xo={YES_CONSTANT:"YES",NO_CONSTANT:"NO",SLIDE_CHANGE_INTERVAL:5e3,LIGHT:"LIGHT",BLACK_COLOR:"#202124",WHITE_COLOR:"#ffffff",CAROUSELIMAGECLICK:"carouselImgClick",daysOfTheWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],localizedUserSampleData:{type:"",store:{id:"",name:[{value:""}]}}},Zo=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={valuesIndex:0},e.progressInterval=null,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.progressInterval=setInterval((function(){e.setState({valuesIndex:e.state.valuesIndex+1})}),this.props.interval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.progressInterval)}},{key:"render",value:function(){return this.props.children(this.props.values[this.state.valuesIndex])}}]),n}(c.a.Component);Zo.defaultProps={interval:1e3};var $o=Zo,er=n(275),tr=(n(584),function(e){var t=Xo.SLIDE_CHANGE_INTERVAL,n=Xo.LIGHT,a=Xo.BLACK_COLOR,o=Xo.WHITE_COLOR,r=e.contentData,s=void 0===r?[]:r,d=e.animationSpeed,l=void 0===d?t:d,b=e.clickHandler,v=e.clickImageAnalytics,O=e.isMobile,m=void 0!==O&&O,f=0,p=function(){var e;return(null===(e=s[0])||void 0===e?void 0:e.textColor.toUpperCase())===n?"white-color":"black-color"}(),h={dots:!0,infinite:!0,autoplaySpeed:1e3*l,slidesToShow:1,slidesToScroll:1,arrows:!1,adaptiveHeight:!0,autoplay:!0,accessibility:!0,beforeChange:function(e,t){f=t!==s.length?t:0,p=p=s[f].textColor.toUpperCase()===n?"white-color":"black-color"},customPaging:function(e){var t=(e+1).toLocaleString("en-US",{minimumIntegerDigits:2}),n="white-color"===p?o:a;return e===f?Object(u.jsx)($o,{values:[0,33,66,100],children:function(e){return Object(u.jsx)(er.a,{value:e,text:t,styles:Object(er.b)({pathTransitionDuration:2.5,textColor:n,pathColor:n}),tabIndex:"0"})}}):Object(u.jsx)("div",{className:"".concat(p," carausel-paging"),"data-testid":"carausel-paging-handler-".concat(e),onClick:function(){return f=e},"aria-label":"Slide ".concat(t),tabIndex:"0",role:"button",children:Object(u.jsx)("span",{className:"carausel-pagingNo",children:t})})}},g=Object(i.useState)(window.innerHeight>window.innerWidth),x=Object(j.a)(g,2),N=x[0],E=x[1];Object(i.useEffect)((function(){if("onorientationchange"in window)return window.addEventListener("orientationchange",I),function(){window.removeEventListener("orientationchange",I)}}),[]);var I=function(){E(window.innerHeight<window.innerWidth)};return Object(u.jsx)(Qo,{settings:h,children:s.map((function(e,t){var a=e||{},i=a.smallText,o=a.largeText,r=a.buttonText,s=a.showButton,d=a.desktopSrc,l=a.mobileSrc,j=a.alt,O=a.textColor,f=a.analyticsData,p=s.toUpperCase()===Xo.YES_CONSTANT,h=N||m?l:d,g="".concat(r," for ").concat(o);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:Object(T.pb)(p,"removePointer","marketing-hero-img-div"),tabIndex:"0",role:"clickable image","data-testid":"click-image-analytics-".concat(t),onClick:p?function(e){return e.preventDefault()}:function(){return v(f,t,e)},children:[Object(u.jsx)(A.a,{"data-testid":"image-component",srcFile:h,alt:j,className:"carausel-image"}),i&&Object(u.jsx)("div",{className:"".concat(O.toUpperCase()===n?"color-white":"color-black"," smallTxtHero"),children:i}),o&&Object(u.jsx)("div",{className:"".concat(O.toUpperCase()===n?"color-white":"color-black"," largeTextHero"),children:o}),p&&r&&Object(u.jsx)(ht.a,{className:"button redButton carauselOrderNow ","aria-label":Object(T.yb)(g),"data-testid":"click-handler-".concat(t),onClickHandler:function(){return b(f,t,null,e)},children:Object(u.jsx)("span",{children:r})})]},t)},t)}))})}),nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.fields,n=t.headline,a=void 0===n?"":n,i=t.subHeadline,c=t.altText,o=void 0===c?"":c,r=t.showButton,s=void 0===r?"":r,d=t.buttonType,l=void 0===d?"":d,u=t.background,b=void 0===u?"":u,v=t.onClick,j=t.name,O=(e.fields.analyticsData||{}).fields,m=void 0===O?{}:O;return{smallText:a,largeText:i,alt:o,desktopSrc:(e.fields.desktopImage&&e.fields.desktopImage.fields&&e.fields.desktopImage.fields.file).url,mobileSrc:(e.fields.mobileImage&&e.fields.mobileImage.fields&&e.fields.mobileImage.fields.file).url,buttonText:l,showButton:s,textColor:b,analyticsData:m,linkTo:v,name:j}}))},ar=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.orderNow.name,{"%event%":"orderNow"},T.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ir=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){var a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ar(),(a=[]).push({event:"homepageBannerCTA",bannerContent:t.item_name,bannerContentIndex:n},{event:"select_promotion",ecommerce:{items:[{item_name:t.item_name,item_id:t.item_id,item_category:t.item_category,promotion_id:t.promotion_id,promotion_name:t.promotion_name,creative_name:t.creative_name,location_id:t.location_id,index:n,price:t.price}]}}),e.next=5,me.a.registerEvent(void 0,{data:a[0]},T.H);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),cr=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){var a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push({event:"select_promotion",ecommerce:{items:[{item_name:t.item_name,item_id:t.item_id,item_category:t.item_category,promotion_id:t.promotion_id,promotion_name:t.promotion_name,creative_name:t.creative_name,location_id:t.location_id,index:n,price:t.price}]}},{event:"homepageBannerCTA",bannerContent:t.item_name,bannerContentIndex:n}),e.next=4,me.a.registerEvent(void 0,{data:a[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),or=function(e,t,n,a){var i=e.filter((function(e){return function(e,t){var n=(new Date).getTime(),a=new Date(e).getTime(),i=new Date(t).getTime();return n>a&&n<i}(e.fields.startDate,e.fields.endDate)})).filter((function(e){return!e.fields.applicableDays||function(e){var t=Xo.daysOfTheWeek[(new Date).getDay()];return e.find((function(e){return e.toLowerCase()===t.toLowerCase()}))}(e.fields.applicableDays)})).filter((function(e){return""===t||""===n||""===a?!(e.fields.disposition&&e.fields.disposition.length>0||e.fields.includeTheseStoresOnly&&e.fields.includeTheseStoresOnly.length>0):function(e,t,n,a,i){return void 0===e&&void 0===t||0===e.length&&0===t.length||((null===e||void 0===e?void 0:e.length)>0&&(null===t||void 0===t?void 0:t.length)>0?e&&e.find((function(e){return e.toLowerCase()===n.toLowerCase()}))&&t&&t.find((function(e){return e.fields.storeId===a&&e.fields.storeName===i})):e&&e.find((function(e){return e.toLowerCase()===n.toLowerCase()}))||t&&t.find((function(e){return e.fields.storeId===a&&e.fields.storeName===i})))}(e.fields.disposition,e.fields.includeTheseStoresOnly,t,n,a)}));return i},rr=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.history,c=n.carousalContent,o=void 0===c?"":c,r=n.animationSpeed,s=Xo.CAROUSELIMAGECLICK,d=_e.a.SELECTED_TILE_DATA,l=JSON.parse(localStorage.getItem(S.P.DISPOSITION_NEW)),b=localStorage.getItem(S.P.SERVICE_TYPE),v=(l||Xo.localizedUserSampleData).store,O=v.id,m=void 0===O?"":O,f=v.name[0].value,p=o&&or(o,b,m,void 0===f?"":f)||[],h=p&&nr(p),g=Object(i.useContext)(I.a).userOrderStateDispatch,x=Object(E.c)((function(e){return e.tenantReducer})),N=Object(i.useState)(Object(T.Lb)(window.innerWidth)),C=Object(j.a)(N,2),A=C[0],y=C[1],_=function(){var e=Object(T.Lb)(window.innerWidth);y(e)};Object(i.useEffect)((function(){window.addEventListener("resize",_)}),[A]);var D=function(e,t,n,i){n!==s&&cr(e,t),ir(e,t),g({type:d,value:{selectedData:{name:i.name}}}),localStorage.setItem("selectedTile",JSON.stringify({name:i.name})),localStorage.setItem("tenantReducer",JSON.stringify(x)),a.push({pathname:"".concat(i.linkTo)})};return Object(u.jsx)("div",{className:"market-hero",children:h.length>0&&Object(u.jsx)(tr,{contentData:h,animationSpeed:r,clickHandler:D,clickImageAnalytics:function(e,t,n){cr(e,t),D(e,t,s,n)},isMobile:A})})},sr={NINE_TILES:9,FIVE_TILES:5,SIX_TILES:6,SEVEN_TILES:7,BROWSE_CATEGORIES:"browsecategory",VIEW_ALL_MENU:"viewAllMenu",MENU:"/menu",ADD_TO_CART:"addToCart",ITEM_QUANTITY:1},dr=n.p+"static/media/finger_lickin.fc21c805.svg",lr=n.p+"static/media/black_right_arrow.a801582c.svg",ur=function(e){var t=e.item,n=e.tenantReducer,a=e.classNames,i=e.navigateToPLP,c=e.children;return Object(u.jsxs)(M.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:function(){return i(t)},tabIndex:"0",to:"menu/".concat(t.url),children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:Object(T.V)(t.imageName,n,!1,!0),defaultPath:Object(T.V)(null,n,!0),className:a}),c]},t.name)},br=Object(o.i)((function(e){var t=_e.a.SELECTED_TILE_DATA,n=void 0===t?"":t,a=e.isMobile,o=sr.FIVE_TILES,r=sr.SIX_TILES,s=sr.SEVEN_TILES,d=sr.VIEW_ALL_MENU,l=sr.MENU,b=Object(E.c)((function(e){var t=e.menuReducer.data;return void 0===t?{}:t})).categories,v=void 0===b?[]:b,j=v&&Object(T.p)(v),O=j.length,m=Object(i.useContext)(I.a).userOrderStateDispatch,f=Object(E.c)((function(e){return e.tenantReducer})),p=function(e){var t={name:e.name};0===Object.keys(e).length&&(t={}),m({type:n,value:{selectedData:t}}),localStorage.setItem("selectedTile",JSON.stringify(t)),localStorage.setItem("tenantReducer",JSON.stringify(f))};return a||O!==o?a||O!==r?!a&&O>=s?function(){var e,t=Object(vo.a)(Object(T.p)(j)).slice(0,7).map((function(e,t){return Object(u.jsxs)(M.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:function(){return p(e)},tabIndex:"0",to:"menu/".concat(e.url),children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:Object(T.V)(e.imageName,f,!1,!0),defaultPath:Object(T.V)(null,f,!0),className:""}),Object(u.jsxs)("section",{className:"menu-text",children:[" ",e.name," "]})]},e.name)}));return e=Object(u.jsxs)(M.b,{className:"single-lickin-card menu-cards","data-testid":"tiles-click-seven",onClick:function(){return p({})},tabIndex:"0",to:l,children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:"".concat(dr)||"",alt:"",className:"single-img"}),Object(u.jsxs)("section",{className:"all-menu-text",children:[" ",Object(Ae.e)(d),Object(u.jsx)("span",{className:"menu-arrow-span",children:Object(u.jsx)(A.a,{srcFile:lr,alt:"",className:"more-arrow-img"})})]})]}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():a?function(){var e,t=Object(T.p)(j).map((function(e,t){return Object(u.jsxs)(M.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:function(){return p(e)},to:"menu/".concat(e.url),children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:Object(T.V)(e.imageName,f,!1,!0),defaultPath:Object(T.V)(null,f,!0),className:""}),Object(u.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})]},e.name)}));return e=Object(u.jsx)("div",{className:"single-lickin-card menu-cards",children:Object(u.jsxs)(M.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:function(){return p({})},tabIndex:"0",to:l,children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:"".concat(dr)||"",alt:Object(Ae.e)(d),className:"mobile-single-img"}),Object(u.jsxs)("div",{className:"all-menu-text",children:[" ",Object(Ae.e)(d),Object(u.jsx)(A.a,{srcFile:lr,alt:Object(Ae.e)(d),className:"more-arrow-img"})]})]})}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():null:function(){var e;console.log("drawTilesSixdrawTilesSix");var t=Object(T.p)(j).map((function(e,t){return Object(u.jsx)(ur,{item:e,tenantReducer:f,classNames:"",navigateToPLP:p,children:Object(u.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})},e.name)}));return e=Object(u.jsxs)(M.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:function(){return p({})},tabIndex:"0",to:l,children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:"".concat(dr)||"",alt:Object(Ae.e)(d),className:"double-img"}),Object(u.jsxs)("div",{className:"all-menu-text",children:[" ",Object(Ae.e)(d),Object(u.jsx)("span",{className:"menu-arrow-span",children:Object(u.jsx)(A.a,{srcFile:lr,alt:Object(Ae.e)(d),className:"more-arrow-img"})})]})]}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():function(){var e=Object(vo.a)(Object(T.p)(j)),t=e.shift();return console.log(t,"firstElementfirstElement"),Object(u.jsxs)("div",{className:"d-flex","data-testid":"menu-five-tiles",tabIndex:"0",children:[Object(u.jsx)("div",{className:"first-of-five",children:Object(u.jsxs)(M.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:function(){return p(t)},tabIndex:"0",to:"menu/".concat(t.url),children:[Object(u.jsx)(A.a,{"data-testid":"",srcFile:Object(T.V)(t.imageName,f,!1,!0),defaultPath:Object(T.V)(null,f,!0),alt:t.name||"menu",className:"w-100"}),Object(u.jsxs)("div",{className:"menu-text",children:[t.name," "]})]},t.name)}),Object(u.jsx)("div",{className:"rest-of-five",children:e.map((function(e,t){return Object(u.jsx)("div",{className:"small-four",children:Object(u.jsx)(ur,{item:e,tenantReducer:f,classNames:"w-100 small-four-img",navigateToPLP:p,children:Object(u.jsxs)("div",{className:"menu-text",children:[e.name," "]})})},e.name)}))})]})}()})),vr=function(e){var t=e.contentData,n=(void 0===t?{}:t).categories,a=Object(i.useState)(Object(T.Lb)(window.innerWidth)),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(E.c)((function(e){return e.marketConfigReducer})),d=sr.BROWSE_CATEGORIES,l=function(){var e=Object(T.Lb)(window.innerWidth);r(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",l)}),[o]),Object(u.jsxs)("div",{className:"general-menu-container","data-testid":"generic-component",children:[Object(u.jsxs)("div",{className:"browse-parent d-flex mx-2",children:[Object(u.jsx)("h2",{className:"browse",children:Object(Ae.e)(d)}),Object(u.jsx)("div",{className:"horizontal-line"})]}),Object(u.jsx)(br,{className:"",isMobile:o,contentData:n,marketReducer:s})]})},jr="/images/offers/lg/",Or="/images/items/no-image.jpg",mr="offerApplied",fr=4,pr=9,hr="Valid to",gr={SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},xr={VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},Nr={OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},Er=jr,Tr=".jpg",Ir=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cr=function(e){var t=e.className,n=e.clickNextCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},onKeyPress:function(){a()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})},Sr=function(e){var t=e.className,n=e.clickPrevCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})},Ar=n.p+"static/media/TimerRibbon.c063bffb.svg",yr=n.p+"static/media/RedFilled_Ribbon.a9720417.svg",_r=n.p+"static/media/ViewDetailsArrow.53c29b5a.svg",Dr=n(48),Rr=function(e){var t=e.isDealModalOpen,n=e.handleClose,o=e.data,r=void 0===o?{}:o,s=e.couponApplyHandler,d=Object(i.useState)(Object(T.Lb)(window.innerWidth)),l=Object(j.a)(d,2),b=l[0],v=l[1],O=b?{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Ae.e)(Dr.m),autoFocus:!0}:{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Ae.e)(Dr.l),autoFocus:!0};Object(i.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}));var m=function(){v(Object(T.Lb)(window.innerWidth))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},O),{},{"data-testid":"offers-deals-modal-testid",children:Object(u.jsxs)("div",{className:"offers-coupon-mid-box",children:[Object(u.jsx)("h4",{className:"offers-modal-mid-header",children:null===r||void 0===r?void 0:r.heading}),(null===r||void 0===r?void 0:r.endTime)&&Object(u.jsx)("h5",{className:"offers-deals-product-valid",children:"".concat(Object(Ae.e)(Dr.t)," ").concat(Object(Mt.e)(null===r||void 0===r?void 0:r.endTime))}),Object(u.jsx)("p",{className:"offers-modal-mid-desc",children:null===r||void 0===r?void 0:r.description}),Object(u.jsx)("div",{className:"offers-modal-deals-footer",children:Object(u.jsx)(ht.a,{"data-testid":"redeem-btn-testid",disabled:null===r||void 0===r?void 0:r.isApplied,onClick:function(){return e=null===r||void 0===r?void 0:r.discountCode,n(),void s(e);var e},className:"redeem-btn",children:Object(u.jsx)("span",{className:"btn-text",children:(null===r||void 0===r?void 0:r.isApplied)?Object(Ae.e)(Dr.p):Object(Ae.e)(Dr.q)})})})]})}))})},wr=function(e){var t=Object(i.useState)(0),n=Object(j.a)(t,2),a=n[0],o=n[1],r=Object(i.useState)({}),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],x=Object(i.useState)(0),N=Object(j.a)(x,2),E=N[0],T=N[1],I=c.a.useRef(null),C=e.contentData,S=void 0===C?[]:C,y=e.onOffersViewAll,_=void 0===y?null:y,D=e.onRedeem,R=void 0===D?null:D,w=e.tenantId,L=void 0===w?"":w,k=void 0===gr?{}:gr,P=void 0===xr?{}:xr,M=void 0===Nr?{}:Nr,F=void 0===fr?null:fr,H=void 0===hr?"":hr,U=void 0===pr?null:pr,B=Or,Y=mr,G=k.SPEED,K=void 0===G?null:G,V=k.SLIDES_TO_SHOW,W=void 0===V?null:V,q=k.SLIDES_TO_SCROLL,z=void 0===q?null:q,Q=P.VIEW_DETAILS,J=void 0===Q?"":Q,X=P.REDEEM,Z=void 0===X?"":X,$=M.OFFERS_AND_DEALS,ee=void 0===$?"":$,te=M.VIEW_ALL_DEALS,ne=void 0===te?"":te,ae=function(e){var t=Object(Mt.j)(e);l(t),g(!0),ot({offerTitle:e.titleValue})},ie={dots:!1,infinite:!1,speed:K,slidesToShow:W,slidesToScroll:z,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Cr,{clickNextCard:function(){var e;a<S.length-1&&(e=a+z>S.length-W-1?S.length-W:a+z,o(e),I.current.slickGoTo(e))}}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:function(){a>0&&(o(a-z),I.current.slickGoTo(a-z))}}),beforeChange:function(e,t){return m(t)},variableWidth:!0,accessibility:!0,responsive:[{breakpoint:1950,settings:{slidesToShow:4,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]},ce=function(e,t,n,a,i){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(A.a,{srcFile:"".concat(Object(Ht.a)(Gt.K)).concat(L).concat(a),alt:"No-Image",defaultPath:"".concat(Object(Ht.a)(Gt.K)).concat(L).concat(B),className:"offersImageText-background"}),Object(u.jsxs)("div",{className:"offersCard-content",children:[Object(u.jsx)("div",{className:"offersImageTextCard-title",children:Object(Mt.k)(n)}),Object(u.jsx)("div",{className:"offersCard-text",children:Object(Mt.k)(t)}),Object(u.jsxs)("div",{className:"offersButton-item",children:[Object(u.jsx)(ht.a,{"data-testid":"view-details-btn-img-txt",onClick:function(){return ae(i)},className:"offersView-details","aria-label":"".concat(Object(Ae.e)(J)," ").concat(n),children:Object(Ae.e)(J)}),Object(u.jsx)(ht.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===i||void 0===i?void 0:i.isApplied,"data-testid":"offer-and-promtion-image-text-button","aria-label":"".concat(Object(Ae.e)(Z)," ").concat(n),children:(null===i||void 0===i?void 0:i.isApplied)?Object(Ae.e)(Y):Object(Ae.e)(Z)})]})]})]})},oe=function(e,t,n){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(A.a,{srcFile:"".concat(Object(Ht.a)(Gt.K)).concat(L).concat(t),className:"offersOnlyImage-background",alt:"No-Image",defaultPath:"".concat(Object(Ht.a)(Gt.K)).concat(L).concat(B)}),Object(u.jsx)("div",{className:"offersCard-content offersFullImageCard-content",children:Object(u.jsxs)("div",{className:"offersButton-item fullImageCardButton-item",children:[Object(u.jsx)(ht.a,{"data-testid":"view-details-btn-img",onClick:function(){return ae(n)},className:"offersView-details","aria-label":"imageCard_".concat(Object(Ae.e)(J)),children:Object(Ae.e)(J)}),Object(u.jsx)(ht.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===n||void 0===n?void 0:n.isApplied,"data-testid":"offer-and-promtion-image-button","aria-label":"imageCard_".concat(Object(Ae.e)(Z)),children:(null===n||void 0===n?void 0:n.isApplied)?Object(Ae.e)(Y):Object(Ae.e)(Z)})]})})]})},re=function(e,t,n,a,i){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("section",{className:"offersCard-content",children:[Object(u.jsx)("section",{className:"offersOnlyTextCard-title",children:n}),Object(u.jsx)("section",{className:"offersOnlyTextCard-text",children:t}),Object(u.jsxs)("section",{className:"validity",children:[H," ",Object(u.jsx)("span",{children:Object(De.e)(Object(De.q)(a),"DD/MM/YY")})]}),Object(u.jsxs)("section",{className:"offersButton-item",children:[Object(u.jsx)(ht.a,{"data-testid":"view-details-btn-txt",onClick:function(){return ae(i)},className:"offersView-details","aria-label":"".concat(Object(Ae.e)(J),"_textCard"),children:Object(Ae.e)(J)}),Object(u.jsx)(ht.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===i||void 0===i?void 0:i.isApplied,"data-testid":"offer-and-promtion-text-button","aria-label":"".concat(Object(Ae.e)(Z),"_textCard"),children:(null===i||void 0===i?void 0:i.isApplied)?Object(Ae.e)(Y):Object(Ae.e)(Z)})]})]})})},se=function(e){if((null===e||void 0===e?void 0:e.showTimer)&&Object(Mt.g)(null===e||void 0===e?void 0:e.validityEndTime)){var t=Object(u.jsxs)("span",{className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"offers-timer",src:Ut}),Object(u.jsx)(Yt,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Da.a,{src:Ar,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"offersTimer-text",children:t})]})}if(null===e||void 0===e?void 0:e.header){var n=null===e||void 0===e?void 0:e.header;return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Da.a,{src:yr,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"ribbon-text",children:n})]})}};return Object(i.useLayoutEffect)((function(){var e=function(){var e=window.innerWidth>1023?[347,.1*window.innerWidth]:[287,20],t=Object(j.a)(e,2),n=t[0],a=t[1],i=window.innerWidth-a,c=Math.ceil(i/n);return 1===c&&(c+=1),c},t=function(){return T(e())};window.addEventListener("resize",t),t()}),[]),Object(u.jsxs)("div",{className:"offersCard-container","data-testid":"offersCard-container-test",children:[Object(u.jsx)("div",{className:"offers-Icon",children:Object(u.jsx)(Da.a,{src:Ra})}),Object(u.jsxs)("div",{className:"offersContainerHeader-items",children:[Object(u.jsx)("h2",{className:"offersContainer-header",children:Object(Ae.e)(ee)}),Object(u.jsxs)("div",{className:"view-all-text",children:[Object(u.jsx)("a",{className:"offersViewAll-link",onClick:_,"data-testid":"view-all-deals-handler",tabIndex:"0",children:Object(Ae.e)(ne)}),Object(u.jsx)(Da.a,{className:"offersViewAlldeals-arrow",src:_r})]})]}),Object(u.jsxs)("div",{className:"offersCard-list",children:[Object(u.jsx)("div",{className:"offersCarousal-list",children:Object(u.jsx)(Jo,{settings:ie,carousalRef:I,children:S.map((function(e,t){var n=e||{},i=n.cardType,c=n.couponCode,o=n.smallText,r=n.titleValue,s=n.imageSrc,d=n.validityEndTime;return t<U&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"offers-card ".concat(t===a+E-1&&"offersCard-fade lastOffersCard-fade"),children:[se(e),"image-text"===i&&ce(c,o,r,s,e),"image"===i&&oe(c,s,e),"text"===i&&re(c,o,r,d,e)]})},t)}))})}),S.length>F&&Object(u.jsx)("div",{className:"offers-slideContainer",children:Object(u.jsx)("input",{className:"offers-slider",type:"range",min:"0",max:S.length-W,value:O,id:"myRange",onChange:function(e){m(e.target.value),I.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),h&&Object(u.jsx)(Rr,{"data-testid":"deals-modal",data:d,couponApplyHandler:R,isDealModalOpen:h,handleClose:function(){return g(!1)}})]})},Lr=n(35),kr=function(e){var t=Object(i.useState)([]),n=Object(j.a)(t,2),c=n[0],o=n[1],r=Object(E.c)((function(e){return e.appStateReducer})).userStatus,s=void 0===r?{}:r,d=s.localized,l=void 0!==d&&d,b=s.loggedIn,v=void 0!==b&&b,O=_e.a.DISPOSITION_DATA,f=Object(i.useContext)(I.a).userOrderStateDispatch,p=Object(E.c)((function(e){return e.tenantReducer})),h=Object(E.c)((function(e){return e.profileReducer})),g=p.tenantId,x=void 0===g?"":g,N=Object(E.c)((function(e){return e.cartReducer})),C=N.applicableCoupons,S=void 0===C?[]:C,A=N.cartData,y=void 0===A?{}:A,_=Object(E.b)();Object(i.useEffect)((function(){if(S.length>0){var e=function(e){return e.map((function(e){var t,n,i,c,o,r,s,d,l,u,b,v,j,O,m;return Object(a.a)({couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(t=e.promotionDetails)||void 0===t?void 0:t.title)&&(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.title.length)&&Object(Mt.c)(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i||null===(c=i.title[0])||void 0===c?void 0:c.value),smallText:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.description)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r?void 0:r.description.length)&&(null===e||void 0===e||null===(s=e.promotionDetails)||void 0===s||null===(d=s.description[0])||void 0===d?void 0:d.value),imageSrc:(null===e||void 0===e||null===(l=e.promotionDetails)||void 0===l?void 0:l.image)&&(null===e||void 0===e||null===(u=e.promotionDetails)||void 0===u?void 0:u.image.length)&&Er+(null===e||void 0===e||null===(b=e.promotionDetails)||void 0===b||null===(v=b.image[0])||void 0===v?void 0:v.value)+Tr,validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:Object(Mt.a)(null===e||void 0===e||null===(j=e.promotionDetails)||void 0===j?void 0:j.conditions),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(O=e.promotionDetails)||void 0===O?void 0:O.cardType},Object(Mt.h)(null===e||void 0===e||null===(m=e.promotionDetails)||void 0===m?void 0:m.customProperties))}))}(S);o(e)}}),[S]);Object(i.useEffect)((function(){x&&!m.a.isEmpty(Lr.d)&&_(l?Object(_t.g)({basketId:null===y||void 0===y?void 0:y.id,tenantId:x}):v?Object(_t.h)({tenantId:x,userId:h.customerId}):Object(_t.i)({tenantId:x}))}),[l,v,x,h,Lr.d]);var D=function(e){navigator&&navigator.clipboard&&navigator.clipboard.writeText(e),f({type:Dr.r})},R=function(t){l?(D(t),Object(T.Ab)(e.history)):(f({type:O,value:{showDisposition:!0}}),D(t))};return Object(u.jsx)("div",{className:"offers-container","data-testid":"offer-container",children:Object(u.jsx)(wr,{"data-testid":"offer-items",contentData:c,onOffersViewAll:function(){e.history.push({pathname:"/offers"}),Ir({event:"viewAllDeals"})},onRedeem:function(e){Ir({event:"redeemOffer",offerTitle:e}),R(e)},tenantId:x})})},Pr={DESKTOP_MAX_WIDTH:"(max-width: 1023px)"},Mr=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.clickHandler,c=Object(i.useState)(""),o=Object(j.a)(c,2),r=o[0],s=o[1],d=n.email,l=void 0===d?"":d,b=n.headline,v=void 0===b?"":b,O=n.subHeadline,m=void 0===O?"":O,f=n.mobileSrc,p=void 0===f?"":f,h=n.desktopSrc,g=void 0===h?"":h,x=n.buttonText,N=void 0===x?"":x;return Object(u.jsxs)("div",{className:"loyalty-crm",children:[Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:Pr.DESKTOP_MAX_WIDTH,srcSet:p,alt:"",className:"loyalty-img"}),Object(u.jsx)("img",{src:g,alt:"",className:"loyalty-img"})]}),Object(u.jsxs)("div",{className:"loyalty-content",children:[Object(u.jsx)("div",{className:"loyalty-headline",children:v}),Object(u.jsx)("div",{className:"loyalty-subheadline",children:m}),Object(u.jsxs)("form",{className:"loyalty-email",onSubmit:function(e){e.preventDefault(),a(r)},children:[Object(u.jsx)("div",{className:"loyalty-mailbox",children:Object(u.jsx)(Pt,{placeholder:l,onChange:function(e){s(e.target.value)},value:r,"data-testid":"loyalty-input"})}),Object(u.jsx)(Qa.a,{className:"button blackButton loyalty-button","data-testid":"loyalty-submit","aria-label":N,children:N})]})]})]})},Fr=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hr=function(e){var t=e.contentData,n=t&&function(e){var t=e.DesktopImage,n=e.button,a=e.email,i=void 0===a?"":a,c=e.headline,o=void 0===c?"":c,r=e.subHeadline,s=void 0===r?"":r,d=e.mobileImage,l=(t&&t.fields&&t.fields.file).url,u=void 0===l?"":l,b=(d&&d.fields&&d.fields.file).url,v=void 0===b?"":b,j=n&&n.fields,O=j.buttonText,m=void 0===O?"":O,f=j.name,p=void 0===f?"":f,h=j.url;return{desktopSrc:u,mobileSrc:v,email:i,headline:o,subHeadline:s,buttonText:m,buttonItem:p,buttonUrl:void 0===h?"":h}}(t);return Object(u.jsx)(Mr,{contentData:n,clickHandler:function(e){e&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?Fr({event:"subscribeToLoyalty",subscribe:"Successful"}):Fr({event:"subscribeToLoyalty",subscribe:"Unsuccessful"})}})},Ur=n(216),Br=n(181),Yr=n(81),Gr=function(e,t){if(e&&t){var n={};e.replace(/%(.*?)%/g,(function(e,t){n[e]=t})),Object.entries(n).forEach((function(n){var a,i=Object(j.a)(n,2),c=i[0],o=i[1],r=null!==(a=t[o])&&void 0!==a?a:"N/A",s=new RegExp(c,"ig");e=e.replace(s,r)}))}return e},Kr=function(e){var t=e.page,n=e.seoObj,a=Object(i.useState)(null),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useState)(""),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(E.c)((function(e){var t,n;return{seoContent:(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.seoStructureData)||null}})).seoContent;return Object(i.useEffect)((function(){if(!Object(O.isEmpty)(v)&&t){var e=null!==v&&void 0!==v?v:{},a=e.template,i=void 0===a?{}:a,c=e.seo,o=void 0===c?[]:c,s=(null===o||void 0===o?void 0:o.find((function(e){var n=e.fields;return(null===n||void 0===n?void 0:n.title)===t}))).fields,d=(s=void 0===s?{}:s).templateData,l=void 0===d?{}:d,u=s.data,j=void 0===u?{}:u,m=Object(Yr.documentToHtmlString)(i);if(!Object(O.isEmpty)(m)){var f=Object(Br.a)(m.replace(/<p>|<\/p>/gi,""));f=Gr(f,l),f=Gr(f,n);var p=Object(Br.a)(f);b(p)}if(!Object(O.isEmpty)(j)){var h=JSON.stringify(j);h=Gr(h,n),r(h)}}}),[t,Gr,v,n]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(Ur.a,{children:[l,Object(u.jsx)("script",{type:"application/ld+json",children:o})]})})};Kr.defaultProps={page:null,seoObj:null};var Vr="We Think You\u2019ll Love These",Wr=4,qr=1024,zr=3,Qr=1,Jr={SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},Xr={PDP_SPEED:200,PDP_SLIDES_TO_SHOW:4,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:5},Zr=function(e){var t=e.className,n=e.clickNextCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler"})},$r=function(e){var t=e.className,n=e.clickPrevCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler"})},es=n.p+"static/media/heartIcon_inactive.5590264f.svg",ts=n.p+"static/media/heartIcon_active_white.3039e363.svg",ns=n.p+"static/media/heartIcon_activeFavourite.531db664.svg",as=n.p+"static/media/heartIcon_inactiveFavourite.179b2734.svg",is=function(e){var t=e.itemQuantity,n=e.itemCount,a=e.updateItemQuantity,i=e.quantityAction,c=e.item,o=e.itemName,r=e.cartItemCount,s=e.maxItemCountPerLineItem,d=e.hideChild,l=void 0!==d&&d,b="Decreases quantity by 1 item for ".concat(o),v="Increases quantity by 1 item for ".concat(o);return Object(u.jsxs)("div",{className:"cart-food-quantity-change",children:[n===t?Object(u.jsx)(Qa.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!l&&Object(u.jsx)("span",{children:"-"})}):Object(u.jsx)(Qa.a,{className:"button quantity-decrease",ariaLable:b,onClickHandler:function(e){return a(c,i.Decrease,e)},"data-testid":"quantity-minus",children:!l&&Object(u.jsx)("span",{children:"-"})}),Object(u.jsx)("span",{className:"cart-food-quantity",children:n}),Object(u.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(n)}),Object(u.jsx)(Qa.a,{className:".transparent-btn button quantity-increase",ariaLable:v,"data-testid":"quantity-plus",onClickHandler:function(e){return a(c,i.Increase,e)},disabled:0!==s&&r+n>s,children:!l&&Object(u.jsx)("span",{children:"+"})})]})},cs=n(77),os=n(21),rs=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.menuNavigation.name,{"%event%":"menuNavigation","%menuNavigationLink%":t,"%menuIndex%":n},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ss=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){var a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push(Object(Le.a)({event:t.eventType},n,t.selectedData)),console.log(a),e.next=5,me.a.registerEvent(void 0,{data:a[0]},T.H);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ds=function(){var e=Object(je.a)(ve.a.mark((function e(t,n,a){var i,c;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=[]).push((i={event:t.eventType},Object(Le.a)(i,n,t.selectedData[n]),Object(Le.a)(i,a,t.selectedData[a]),i)),console.log(c),e.next=5,me.a.registerEvent(void 0,{data:c[0]},T.H);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ls=function(){var e=Object(je.a)(ve.a.mark((function e(t,n,a,i){var c,o;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=[]).push((c={event:t.eventType},Object(Le.a)(c,n,t.selectedData[n]),Object(Le.a)(c,a,t.selectedData[a]),Object(Le.a)(c,i,t.selectedData[i]),c)),console.log(o),e.next=5,me.a.registerEvent(void 0,{data:o[0]},T.H);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),us=function(e,t){var n=JSON.parse(JSON.stringify(e)),a=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((function(e){var t=null===n||void 0===n?void 0:n.find((function(t){var n=t.isHidden,a=void 0!==n&&n,i=t.items;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&a.push(t)})),a},bs=function(e,t,n,a,i,c){var o;return(null===e||void 0===e?void 0:e.categories)&&0===(null===e||void 0===e||null===(o=e.products)||void 0===o?void 0:o.length)&&0==Object.keys(t).length?vs(e.categories[0],n,a,i):Object.keys(t).length>0?vs(t,n,a,i):vs(e,n,a,i)},vs=function(e,t,n,a){var i,c={};return null===e||void 0===e||null===(i=e.products)||void 0===i?void 0:i.map((function(e){return e.items.forEach((function(e,i){var o=Object(T.jb)(e.availability[0],a).toFixed(2);o=o?parseFloat(o):"NA",c={item_name:e.name,item_id:e.id,price:o,item_category:t,item_list_name:t,item_list_id:n,index:i,quantity:"1"}})),c}))},js=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.viewItemListPlp.name,{data:{event:"view_item_list",ecommerce:{item_list:{items:t}}}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Os=function(e,t){var n={},a=e.find((function(e){return e.name.trim()===t}))||{};return 0===Object.keys(a).length&&(a=e.find((function(e){var a;if((null===(a=e.categories)||void 0===a?void 0:a.length)>0)for(var i in e.categories)if(e.categories[i].id===t)return n=e.categories[i],!0}))),{selectedCategory:a,selectedSubcategory:n}},ms=function(e,t,n,a,i,c){var o,r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=null===e||void 0===e?void 0:e.filter((function(e){var n;return(null===(n=e.url)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()}));if(s&&s.length){var d;o=Object(T.n)(s[0],e);var l=null===(d=s[0])||void 0===d?void 0:d.products.filter((function(e){return e.items.some((function(e,t){return e.url.toLowerCase()===n.toLowerCase()}))}));if(l.length){var u,b,v,j,O,m=null===(u=s[0])||void 0===u?void 0:u.products.findIndex((function(e){var t;return(null===e||void 0===e?void 0:e.id)===(null===(t=l[0])||void 0===t?void 0:t.id)}));s[0].products.splice(0,0,s[0].products.splice(m,1)[0]),a(null===(b=l[0])||void 0===b||null===(v=b.items[0])||void 0===v?void 0:v.id);var f=document.getElementById("".concat(null===(j=l[0])||void 0===j||null===(O=j.items[0])||void 0===O?void 0:O.id));f&&(f.style.border="2px solid #2E4ABD")}0===l.length&&n&&(i("item"),c(!0))}else{var p=null===e||void 0===e?void 0:e.filter((function(e){return e.categories.some((function(e){return e.url.toLowerCase()===t.toLowerCase()}))}));if(p&&p.length){var h=p[0].categories.filter((function(e){return e.url.toLowerCase()===t.toLowerCase()}))||[];o=Object(T.o)(h[0],p[0].categories);var g=h[0].products.filter((function(e){return e.items.some((function(e,t){return e.url.toLowerCase()===n.toLowerCase()}))}));if(g.length){var x,N,E=h[0].products.findIndex((function(e){return e.id===g[0].id}));h[0].products.splice(0,0,h[0].products.splice(E,1)[0]),a(null===(x=g[0])||void 0===x||null===(N=x.items[0])||void 0===N?void 0:N.id);var I=document.getElementById("".concat(g[0].items[0].id));I&&(I.style.border="2px solid #2E4ABD")}0===g.length&&n&&(i("item"),c(!0))}}if(o)cs.scroller.scrollTo(o,{duration:1500,delay:100,smooth:!0,containerId:"",offset:r?-150:-100});else{if(t||n){var C=t?"category":"item";i(C),c(!0)}if(t&&(i("category"),c(!0)),null===e||void 0===e?void 0:e.length){var S=Object(T.p)(e);S.length&&cs.scroller.scrollTo(S[0].name.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:r?-140:-100})}}},fs=function(e){return null===e||void 0===e?void 0:e.isStoreClosed},ps=function(e){var t=os.d.ADD_TO_CART_OCCASSION,n=os.d.STORE_CLOSED_BUTTON_TEXT,a=Object(Ae.e)(t),i=Object(Ae.e)(n);return(null===e||void 0===e?void 0:e.isStoreClosed)&&(a=i),{btnText:a}},hs=n.p+"static/media/Single_Arrow_Edit.538cdcff.svg",gs=function(e){var t=e.basketLineItemId,n=e.customizableFoodItemsList,a=e.SetCustomizableFoodItemsList,c=e.calculateTotalAmountHandler,o=e.isEditSelection,r=(e.handleClose,Object(E.b)()),s=mi.a.RESET_MODGROUP_IDS_UPDATE,d=Object(i.useContext)(I.a),l=d.userOrderState,b=d.userOrderStateDispatch,v=_e.a.MINI_PDP_DATA,O=_e.a.FROMFLAGEDIT,m=_e.a.EDIT_CLICKED,f=kn.a.QUANTITY_ACTION,p=n[t],h=Object(E.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails})),g=Object(i.useState)(!1),x=Object(j.a)(g,2),N=x[0],C=x[1],S=Object(i.useState)(!1),A=Object(j.a)(S,2),y=(A[0],A[1]),_=function(e,i){p.quantity=i===f.Increase?(null===p||void 0===p?void 0:p.quantity)+1:(null===p||void 0===p?void 0:p.quantity)-1;var o=n;o[t]=p,a(o),c()};Object(i.useEffect)((function(){var e,t=!0;null===p||void 0===p||null===(e=p.modGrps)||void 0===e||e.map((function(e){t*=e.modifiers[0].isDefault})),y(t)}),[p.modGrps]),Object(i.useEffect)((function(){Object(T.fb)(h,p,l,N,r,_t.s),C(!1)}),[h,N]);return Object(u.jsxs)(u.Fragment,{children:[o?Object(u.jsx)("div",{className:"EditItemsCard",onClick:function(){return function(){var e,n;b({type:v,value:{id:null===p||void 0===p||null===(e=p.foodItems)||void 0===e?void 0:e.id,flag:O,foodLineId:t}}),b({type:s}),b({type:m,value:{cartEditClicked:!1}}),r(Object(Oi.c)({tenantId:null===p||void 0===p?void 0:p.tenantId,catalogName:null===p||void 0===p?void 0:p.catalog,itemId:null===p||void 0===p||null===(n=p.foodItems)||void 0===n?void 0:n.id})),C(!0)}()},children:Object(u.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"DisplayNameFont",children:null===p||void 0===p?void 0:p.displayName}),Object(u.jsx)("div",{className:"customizableProducts-Default",children:Object(T.gb)(p.modGrps)})]}),Object(u.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:hs})]})}):Object(u.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"DisplayNameFont",children:null===p||void 0===p?void 0:p.displayName}),Object(u.jsx)("div",{className:"customizableProducts-Default",children:Object(T.gb)(p.modGrps)})]}),Object(u.jsx)("div",{className:"PlusAndMinus",children:Object(u.jsx)(is,{itemCount:null===p||void 0===p?void 0:p.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:_,quantityAction:f,maxItemCountPerLineItem:null===p||void 0===p?void 0:p.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(u.jsx)("div",{className:"LineSeparator"})]})},xs="addNewProduct",Ns="updateCart",Es=function(e){var t=e.addNewProductHandler,n=e.currencySymbol,a=(e.currencyConversionFactor,e.updateCartHandler),i=e.customizableFoodItemsList,c=e.SetCustomizableFoodItemsList,o=e.totalAmount,r=e.calculateTotalAmountHandler,s=e.isEditSelection,d=e.handleClose,l=xs,b=Ns,v=Object.keys(i).length;return Object(u.jsxs)("div",{children:[Object.keys(i).map((function(e){return Object(u.jsx)(gs,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:i,SetCustomizableFoodItemsList:c,calculateTotalAmountHandler:r,isEditSelection:s,handleClose:d})})),s?Object(u.jsx)("div",{className:"editSelectionsItem",children:Object(u.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:function(){return t()},children:Object(Ae.e)(l)})}):Object(u.jsxs)("div",{className:v<2?"FinalButton":"FinalDivButtons",children:[Object(u.jsx)("div",{className:"AddNew",children:Object(u.jsx)("span",{className:"addNewItem",onClick:t,children:Object(Ae.e)(l)})}),Object(u.jsx)("div",{className:"ButtonAndPopupLink",children:Object(u.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:function(){return a()},children:[Object(u.jsx)("span",{className:"TextInButton",children:Object(Ae.e)(b)+" "}),Object(u.jsx)("span",{children:n+o})]})})]})]})},Ts=function(e){var t=e.filteredPreviousData,n=e.tenantData,c=e.dname,o=e.cardId,r=e.categoryId,s=e.itemCount,d=e.availability,l=e.imageName,b=e.itemFoodlineId,v=e.customizable,O=e.product,m=void 0===O?{}:O,f=e.isFavouriteMenu,p=void 0!==f&&f,h=e.cartData,g=e.clickHandler,x=e.handleClose,N=e.foodId,I=e.isEditSelection,C=e.headerText,S=Object(E.b)(),A=n.tenantId,y=Object(i.useState)({}),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(i.useState)(0),L=Object(j.a)(w,2),k=L[0],P=L[1],M=n.currencyConversionFactor,F=n.currencySymbol,H={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:x,modalTitle:C},U=Object(i.useState)(-1),B=Object(j.a)(U,2),Y=B[0],G=B[1],K=Object(i.useState)([]),V=Object(j.a)(K,2),W=V[0],q=V[1],z=function(){G(-1),x&&x()},Q=function(){0===W.length&&0===Y?z():W&&(null===W||void 0===W?void 0:W.length)&&Y<=W.length&&(!function(){var e,t;S(Object(_t.u)({params:{basketId:null===h||void 0===h?void 0:h.id,basketLineItemId:null===(e=W[Y])||void 0===e?void 0:e.basketLineItemId},tenantId:A},{quantity:null===(t=W[Y])||void 0===t?void 0:t.quantity}))}(),G(Y+1))};Object(i.useEffect)((function(){Q()}),[W]),Object(i.useEffect)((function(){if(-1===Y){var e,t=Object(a.a)({},D);null===h||void 0===h||null===(e=h.foodLines)||void 0===e||e.forEach((function(e){var a,i,c,o;(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.customizable)&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id)===N&&(t[null===e||void 0===e?void 0:e.id]={tenantId:A,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,displayName:null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.displayName,modGrps:null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.modGrps,maxItemCountPerLineItem:null===n||void 0===n?void 0:n.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===h||void 0===h?void 0:h.catalog,categorySelected:r})})),R(t),G(0)}else Y===W.length?(z(),S(Object(_t.r)(new Date))):Q()}),[null===h||void 0===h?void 0:h.foodLines]),Object(i.useEffect)((function(){J()}),[D]);var J=function(){var e=0;Object.values(D).forEach((function(t){e+=t.quantity*t.unitPrice})),P((e/M).toFixed(2))},X=Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},H),{},{children:Object(u.jsx)(Es,Object(a.a)(Object(a.a)({},e),{},{"data-testid":"ModalTemplate",filteredPreviousData:t,addNewProductHandler:function(e){p?g(e,m,{productName:c,productImage:l,productPrice:Object(T.jb)(d[0],M)}):g(e,o,v,r,s,{productName:c,productImage:l,productPrice:Object(T.jb)(d[0],M)},b),x&&x()},currencySymbol:F,currencyConversionFactor:M,updateCartHandler:function(){if((null===h||void 0===h?void 0:h.id)&&A){var e=Object.values(D).filter((function(e){return(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e}));q(e)}},customizableFoodItemsList:D,SetCustomizableFoodItemsList:R,totalAmount:k,calculateTotalAmountHandler:J,isEditSelection:I,handleClose:x}))}));return Ai.a.createPortal(X,document.getElementById("modal-popups"))},Is=n.p+"static/media/Non_veg_dot_Icon.1b0fc8fd.svg",Cs=n.p+"static/media/Veg_dot_Icon.2636651d.svg",Ss=n.p+"static/media/Product_Card_Icon.6391b56a.svg",As=n.p+"static/media/ribbonRedOutlined.36f99748.svg",ys=n.p+"static/media/heartIcon_active_red.2738ae06.svg",_s=n(151),Ds=n.p+"static/media/Takeaway_Inprogress.bb877163.svg",Rs=n.p+"static/media/Call-white.06c542e3.svg",ws=n.p+"static/media/Strips.4f336307.svg",Ls={Non_veg_dot_Icon:Is,Veg_dot_Icon:Cs,Product_Card_Icon:Ss,ribbonRedOutlined:As,TimerIcon:Ut,heartIcon_inactive:es,heartIcon_active:ts,heartIcon_active_red:ys,heartIcon_inactive_red:as,BucketIcon:_s.a,ConfirmedImg:Bn,TakeAwayImg:Ds,TakeawayCompleted:Un,phoneImg:xt,Direction:Nt,CallIcon:Rs,ArrowIcon:we,HeaderLogo:ya,Strips:ws},ks=function(e,t,n,a,i){return Object(T.pb)(e||t||n||a||i,Ls.ribbonRedOutlined,null)};var Ps=function(e){var t,n,a=e.getCardTypeName,c=e.cardType,o=e.allowClickOnProductCard,r=e.discount,s=e.specials,d=e.exclusive,l=e.timer,b=e.cardId,v=e.customizable,O=e.getProductImageClassName,m=e.tenantData,f=e.imageName,p=e.onCardClickHandler,h=e.categoryId,g=e.dname,x=e.availability,N=e.newitem,C=e.topseller,y=e.customlabelfield,_=e.getSpecificRibbonBanner,D=e.userParams,R=e.favouriteItems,w=e.item,L=e.classFavouriteIconActive,k=e.getCardName,P=e.favouriteButtonClickHandler,M=e.itemCount,F=e.classFavouriteIconInActive,H=e.getMenuProductHeader,U=e.veg,B=e.servingCount,Y=e.getVegNonvegClassName,G=e.menuProductPriceClassName,K=e.checkForBasePriceInMenu,V=e.baseprice,W=e.cardCat,q=e.displayPrice,z=e.getPriceClassName,Q=e.menuProductDescriptionClassName,J=e.longDescription,X=e.updateItemQuantity,Z=e.configureOptions,$=e.storeClosedData,ee=e.classesCardButton,te=e.classEnableAddToCart,ne=e.enableAddToCartButton,ae=e.checkLoading,ie=e.menuCardBtnText,ce=e.clickHandler,oe=e.itemFoodlineId,re=e.openCostomizedModal,se=e.setOpenCostomizedModal,de=e.filteredPreviousData,le=e.cartData,ue=e.CARD_TYPE,be=e.setShowTopScrollBtn,ve=(e.FoodId,Object(E.b)()),je=mi.a.RESET_MODGROUP_IDS_UPDATE,Oe=_e.a.MINI_PDP_DATA,me=_e.a.FROMFLAGEDIT,fe=_e.a.EDIT_CLICKED,pe=Object(i.useContext)(I.a),he=(pe.userOrderState,pe.userOrderStateDispatch),ge=Object(i.useState)(!1),xe=Object(j.a)(ge,2),Ne=xe[0],Ee=xe[1],Te=Object(i.useState)(Object(T.Lb)(window.innerWidth)),Ie=Object(j.a)(Te,2),Ce=Ie[0],Se=Ie[1],ye=sr.ITEM_QUANTITY,De=kn.a.QUANTITY_ACTION,Re=Object(T.pb)(null===D||void 0===D?void 0:D.loggedIn,S.Bb,""),we=Z.allowAddToCartButton,Le=void 0===we||we,ke=Ls.Non_veg_dot_Icon,Pe=Ls.Veg_dot_Icon,Me=Ls.Product_Card_Icon,Fe=Ls.TimerIcon,Ue=Ls.heartIcon_inactive,Be=Ls.heartIcon_active,Ve=Ls.heartIcon_active_red,We=Ls.heartIcon_inactive_red;Object(i.useEffect)((function(){window.addEventListener("resize",qe)}),[Ce]);var qe=function(){Se(Object(T.Lb)(window.innerWidth))},ze=function(){return Object(u.jsxs)("div",{className:G(c),children:[K(V,W)&&q(V,null===m||void 0===m?void 0:m.currencyConversionFactor),Object(u.jsxs)("span",{className:z(V,W),children:[He.CURRENCY,Object(T.jb)(x[0],null===m||void 0===m?void 0:m.currencyConversionFactor).toFixed(2)]})]})},Qe=function(){return Object(u.jsxs)("div",{className:Y(c),children:[U?Object(Ae.e)(He.VEG):Object(Ae.e)(He.NON_VEG),B&&Object(u.jsx)("div",{className:"Dot"}),He.SERVES,B]})},Je=function(){if(null===D||void 0===D?void 0:D.loggedIn)return Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(T.pb)("small-menu-product-card"===k,Array.isArray(R)&&R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)}))?L(c):F(c),Array.isArray(R)&&R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)}))?Ve:We),alt:"",className:"menu-product-save ".concat(Re),"data-testid":"fav-item-source",onClick:function(){return P()}}),Object(u.jsx)("source",{media:"(min-width: 1023px)",srcSet:Array.isArray(R)&&R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)}))?Be:Ue,alt:"",className:"menu-product-save ".concat(Re),"data-testid":"fav-item-largeScreen",onClick:function(){return P()}}),Object(u.jsx)("img",{src:Object(T.u)(Array.isArray(R),null===R||void 0===R?void 0:R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)})))?Be:Ue,alt:"",className:"menu-product-save ".concat(Re),"data-testid":"save-product-".concat(b),onClick:function(){return P()}})]})},Xe=function(){return Object(u.jsx)(A.a,{"data-testid":"product-image",className:O(c),defaultPath:Object(T.V)(null,m,!0),srcFile:Object(T.V)(f,m),onClick:function(e){return o&&p(e,b,v,h,{productName:g,productImage:f,productPrice:Object(T.jb)(x[0],null===m||void 0===m?void 0:m.currencyConversionFactor)})},alt:""})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:a(c,o,r,s,d,l),"data-testid":"click-allow-on-product-".concat(b),id:b,children:[Object(T.Hb)()&&v&&Object(u.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),c!==ue.SMALL&&Xe(),Object(u.jsx)(Da.a,{src:s?Me:ks(y,r,d,N,C),className:Object(T.pb)(s,"specials-product-ribbon",Object(T.pb)(Object(T.v)(d,y),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(u.jsx)("span",{className:Object(T.pb)(s,"specials-ribbon-text","discount-ribbon-text"),children:l?Object(u.jsxs)("div",{children:[Object(u.jsx)(Da.a,{src:Fe,className:"product-timer"}),Object(u.jsx)("span",{className:"product-timer-text",children:Object(Ae.e)(He.TIMER)})]}):_(s,r,d,N,C,y)}),!Ce&&Je(),Object(u.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:function(e){return o&&p(e,b,v,h,{productName:g,productImage:f,productPrice:Object(T.jb)(x[0],null===m||void 0===m?void 0:m.currencyConversionFactor)})},children:[Object(u.jsx)("div",{className:H(c,r,s,d,{timer:l,newitem:N,topseller:C,customlabelfield:y}),children:g[0].value}),Ce?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"description-and-image",children:[Object(u.jsx)("div",{className:Q(c),id:"longDescription",children:J[0].value}),c===ue.SMALL&&Xe()]}),Object(u.jsxs)("div",{className:"PriceVegNonveg",children:[ze(),Qe(),Object(u.jsx)("div",{className:"hearticonDiv",children:Je()})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(T.pb)(!U,ke,Pe)}),Qe(),ze(),Object(u.jsx)("div",{className:Q(c),id:"longDescription",children:J[0].value})]})]}),Object(u.jsxs)("div",{className:"quantityAddtocart ".concat(M?"cardwithQuantity "+Re:"cardwithNoquantity"),children:[!!M&&function(e,t,n,a){return Object(u.jsx)(is,{itemCount:e,itemQuantity:ye,updateItemQuantity:t,quantityAction:De,item:void 0,itemName:n,maxItemCountPerLineItem:a,cartItemCount:1,hideChild:!0})}(M,X,g[0].value,null===m||void 0===m?void 0:m.maxItemCountPerLineItem),Le&&$&&Object(u.jsx)("div",{className:ee(M,Re),children:M<1?Object(u.jsxs)(Qa.a,{tabIndex:"0",className:te(ne,c,ae,$),"data-testid":"add-to-cart-".concat(b),disabled:fs($),onClickHandler:function(e){var t;(null===(t=ie($))||void 0===t?void 0:t.enabled)&&M<=0&&ce(e,b,v,h,M,{productName:g,productImage:f,productPrice:Object(T.jb)(x[0],null===m||void 0===m?void 0:m.currencyConversionFactor)},oe),e.preventDefault(),e.stopPropagation()},"aria-label":(null===(t=ie($))||void 0===t?void 0:t.btnText)+g[0].value,children:[null===(n=ie($))||void 0===n?void 0:n.btnText,Object(T.k)($.isStoreClosed)]}):v&&Object(u.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:function(){1===M?(he({type:Oe,value:{id:null===w||void 0===w?void 0:w.mdmId,flag:me,foodLineId:oe}}),he({type:je}),he({type:fe,value:{cartEditClicked:!1}}),ve(Object(Oi.c)({tenantId:null===m||void 0===m?void 0:m.tenantId,catalogName:null===le||void 0===le?void 0:le.catalog,itemId:null===w||void 0===w?void 0:w.mdmId})),ve(Object(_t.s)({showProductListingModal:!0,categorySelected:h}))):(Ee(!0),se(!0))},children:Object(Ae.e)(Ye)})})]})]}),Object(u.jsx)("div",{children:re&&function(){var t;return Object(u.jsx)(Ts,{handleClose:function(){se(!1),Ee(!1)},filteredPreviousData:de,updateItemQuantity:X,tenantData:m,dname:g,clickHandler:ce,cardId:b,categoryId:h,itemCount:M,availability:x,imageName:f,itemFoodlineId:oe,customizable:v,setOpenCostomizedModal:se,openCostomizedModal:re,cartData:le,setShowTopScrollBtn:be,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Ne,headerText:Ne?Object(Ae.e)(Ge):Object(Ae.e)(Ke)})}()})]})},Ms=Ue,Fs=function(e,t,n,a,i,c){return e===Ms.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===Ms.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===Ms.SMALL?function(e,t,n,a,i){return e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||n||a||i)?"small-menu-product-card product-card-active":!e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card"}(t,n,a,i,c):e===Ms.CAROUSAL?"carousal-menu-product-card":void 0},Hs=function(e){return e===Ms.LARGE?"menu-product-image":e===Ms.MEDIUM?"medium-menu-product-image":e===Ms.SMALL?"small-menu-product-image":e===Ms.CAROUSAL?"carousal-menu-product-image":void 0},Us=function(e,t,n,a,i){var c=i.timer,o=i.newitem,r=i.topseller,s=i.customlabelfield;return e===Ms.LARGE?"menu-product-header":e===Ms.MEDIUM?"medium-menu-product-header":e===Ms.SMALL?t||n||a||c||o||r||s?"small-menu-product-header-shift":"small-menu-product-header":e===Ms.CAROUSAL?"carousal-menu-product-header":void 0},Bs=function(e){return e===Ms.LARGE?"menu-vegOrNonVeg":e===Ms.MEDIUM?"medium-menu-vegOrNonVeg":e===Ms.SMALL?"small-menu-vegOrNonVeg":e===Ms.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0},Ys=function(e){return e===Ms.LARGE?"menu-product-price":e===Ms.MEDIUM?"medium-menu-product-price":e===Ms.SMALL?"small-menu-product-price":e===Ms.CAROUSAL?"carousal-menu-product-price":""},Gs=function(e,t){return e&&"recommended"!==t?"availableprice-withbaseprice":""},Ks=function(e){return e===Ms.LARGE?"menu-product-description":e===Ms.MEDIUM?"medium-menu-product-description":e===Ms.SMALL?"small-menu-product-description":e===Ms.CAROUSAL?"carousal-menu-product-description":""},Vs=function(e,t){return e?"cardButton "+t:"cardButtonOnly "+t},Ws=function(e){var t=sr.ADD_TO_CART,n=Object(Ae.e)(t),a="",i=!0;return(null===e||void 0===e?void 0:e.isStoreNone)?(n="Store Closed",a="no-store-selected",i=!1):(null===e||void 0===e?void 0:e.isStoreClosed)&&(n="Store Closed",a="store-closed",i=!1),{btnText:n,className:a,enabled:i}},qs=function(e,t,n,a){return e?"".concat(function(e,t){var n,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case Ms.LARGE:n="menu-cart-button";break;case Ms.MEDIUM:n="medium-menu-cart-button";break;case Ms.SMALL:n="small-menu-cart-button";break;case Ms.CAROUSAL:n="carousal-menu-cart-button";break;default:n=""}return"".concat(a," ").concat(n)}(t,n)," ").concat(Ws(a).className):"button btn-black medium-menu-cart-button"},zs=function(e,t,n,a,i,c){return c?Object(u.jsx)("span",{"data-testid":"exclusive-id",children:c}):e||(t||(n?Object(u.jsx)("span",{"data-testid":"exclusive-id",children:Object(Ae.e)(He.EXCLUSIVE_DEAL)}):a?Object(u.jsx)("span",{"data-testid":"new-id",children:Object(Ae.e)(He.NEW)}):Object(T.pb)(i,Object(u.jsx)("span",{"data-testid":"topseller-id",children:Object(Ae.e)(He.TOP_SELLER)}),null)))},Qs=function(e){return e===Ms.CAROUSAL?ts:ns},Js=function(e){return e===Ms.CAROUSAL?es:as},Xs=function(e,t){return Boolean(e)&&"recommended"!==t},Zs=function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"price-display",children:"old price"}),Object(u.jsxs)("span",{className:"base-price-menu",children:[He.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]})},$s=function(e){var t=e.cardId,n=e.cardType,c=e.discount,o=e.specials,r=e.exclusive,s=e.timer,d=e.availability,l=void 0===d?[]:d,b=e.tenantData,v=e.customizable,O=e.categoryId,m=e.activeId,f=(e.openAlertModal,e.addFavourite),p=e.removeFavourite,h=e.item,g=e.isHidden,x=e.cardFor,N=e.setShowTopScrollBtn,I=e.userParams,C=kn.a.QUANTITY_ACTION,S=Object(E.b)(),A=null===b||void 0===b?void 0:b.tenantId,y=b.componentOptions,_=(void 0===y?{}:y).PlpProductCard,D=(void 0===_?{}:_).allowClickOnProductCard,R=void 0!==D&&D,w=Object(E.c)((function(e){return e.cartReducer})),L=Object(E.c)((function(e){var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),k=Object(T.wb)(w),P=k.cartData,M=void 0===P?{}:P,F=k.isAddItemLoading,H=void 0!==F&&F,U=Object(i.useState)(0),B=Object(j.a)(U,2),Y=B[0],G=B[1],K=Object(i.useState)(null),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(0),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=null===L||void 0===L?void 0:L.id,$=Object(E.c)((function(e){var t;return Object(T.zb)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),ee=Object(i.useState)(!0),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)("product"),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=(Object(E.c)((function(e){var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}}))||{}).categories,de=void 0===se?[]:se,le=Object(i.useState)(""),ue=Object(j.a)(le,2),be=ue[0],Oe=ue[1],me=Object(i.useState)(0),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)([]),xe=Object(j.a)(ge,2),Ne=xe[0],Ee=xe[1],Te=Object(i.useState)(!1),Ie=Object(j.a)(Te,2),Ce=Ie[0],Se=Ie[1],Ae=Object(i.useState)(""),ye=Object(j.a)(Ae,2),_e=ye[0],De=ye[1];Object(i.useEffect)((function(){x&&re(x)}),[x]),Object(i.useEffect)((function(){var e=Object(T.Fb)(M)?Object(T.bb)(t,M):{},n=Object(T.pb)(Object(T.Fb)(e),e.count,0),a=Object(T.pb)(Object(T.Fb)(e),e.matchedItemFoodLineId,""),i=Object(T.pb)(Object(T.Fb)(e),e.entriesCount,0),c=Object(T.pb)(Object(T.Fb)(e),e.itemUnitPrice,"");G(n),q(a),X(i),he(c)}),[M,t]);var Re=Object(i.useCallback)((function(){Oe(Fs(n,R,c,o,r,s))}));Object(i.useEffect)((function(){Re()}),[Re]);var we=function(){var e=Object(je.a)(ve.a.mark((function e(t,n,a,i){var c,o,r;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(T.xb)(null===(c=a[0])||void 0===c?void 0:c.price),r={mdmId:n.mdmId,id:n.id,name:n.name,imageName:n.imageName,description:n.longDescription,quantity:1,isCustomized:n.customizable,price:o/(null===b||void 0===b?void 0:b.currencyConversionFactor),additionalProperties:n.additionalProperties},e.next=4,f(t,r,i);case 4:return e.next=6,S(Object(_t.s)({showProductListingModal:!1,categorySelected:O}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){ae(!0)}),[Y]);var Le=function(e){if(null===M||void 0===M?void 0:M.id){var t=null===M||void 0===M?void 0:M.foodLines.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id)===e}));Ee(t)}De(e),Se(!0)},ke=Object(T.u)(H,m===t);return!g&&Object(u.jsx)(Ps,Object(a.a)(Object(a.a)({},e),{},{getCardTypeName:Fs,"data-testid":"MenuPlpTestId",allowClickOnProductCard:R,getProductImageClassName:Hs,getSpecificRibbonBanner:zs,favouriteItems:$,classFavouriteIconActive:Qs,getCardName:be,favouriteButtonClickHandler:function(){Object(T.u)(Array.isArray($),null===$||void 0===$?void 0:$.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===h||void 0===h?void 0:h.id)})))?p(A,Z,h.id):we(A,h,l,Z)},itemCount:Y,classFavouriteIconInActive:Js,getMenuProductHeader:Us,getVegNonvegClassName:Bs,menuProductPriceClassName:Ys,checkForBasePriceInMenu:Xs,cardCat:oe,displayPrice:Zs,getPriceClassName:Gs,menuProductDescriptionClassName:Ks,updateItemQuantity:function(e,t){if(I.localized){var n=Number((pe/(null===b||void 0===b?void 0:b.currencyConversionFactor)).toFixed(2)),a={foodName:null===h||void 0===h?void 0:h.name,foodItemId:null===h||void 0===h?void 0:h.mdmId,cartPrice:n,modifiers:[],quantity:Y,foodLineId:W},i=Ii({cartId:null===M||void 0===M?void 0:M.id},null===b||void 0===b?void 0:b.tenantId,void 0,de,void 0,S,void 0).itemQuantityHandler;t===C.Increase?v&&Y>=1?Le(null===a||void 0===a?void 0:a.foodItemId):(!v&&ae(!1),i(a,C.Increase)):J>1?Le(null===a||void 0===a?void 0:a.foodItemId):(ae(!1),i(a,C.Decrease))}},classesCardButton:Vs,classEnableAddToCart:qs,enableAddToCartButton:ne,checkLoading:ke,menuCardBtnText:Ws,itemFoodlineId:W,openCostomizedModal:Ce,filteredPreviousData:Ne,setOpenCostomizedModal:Se,cartData:M,CARD_TYPE:Ms,setShowTopScrollBtn:N,FoodId:_e}))},ed=function(e){var t=e.handleClose,n=e.ProductListingModalForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:o,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:n})})},td=n.p+"static/media/Check_Icon.b40df6e7.svg",nd={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},ad=function(e,t,n,a,i){var c=nd.SETFLAGCASE,o=_e.a.FROMFLAGEDIT;if(0===e.length){if(a&&t.minipdpData.fromFlag!==o)return c.DEFAULT;if(t.minipdpData.fromFlag===o&&function(e,t){return!!Object(T.Fb)(t)&&t.filter((function(t){return t.id===e})).length>0}(n,i))return c.FROMEDIT}else if(null===e||void 0===e?void 0:e.includes(n))return c.ITEMINCLUDES},id=function(e,t){return"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":"")},cd=function(e){return"carousal"===e?"carousal-modifier-product-save":"modifier-product-save"},od=function(e){return"carousal"===e?"carousal-modifier-card-image":"modifier-card-image"},rd=function(e,t){var n=e.analyticsObject,a=e.currLocation;t||at(n,a)},sd=function(e){var t=e.cardData,n=e.min,a=e.max,c=e.savedModifierHandler,r=e.savedModifiers,s=e.cardType,d=e.tenantReducer,l=e.modgrpId,b=e.modGrpName,v=e.updatedItems,O=e.getCartModifiers,m=t.id,f=t.name,p=t.size,h=t.dname,g=t.isDefault,x=t.imageName,N=t.isHidden,E=t.calorificInfo,C=h&&h.length&&h[0].value,S=Object(i.useState)(!1),y=Object(j.a)(S,2),_=y[0],D=y[1],R=Object(i.useContext)(I.a),w=R.userOrderState,L=R.userOrderStateDispatch,k=w.pdpScreenCommons.modGroupIdsUpdated,P=mi.a.MODGROUP_IDS_UPDATE,M=mi.a.UPDATE_DEFAULT_MODGROUP,F=_e.a.CONFIRM_UPSIZE_ANALYTICS,H=nd.SETFLAGCASE,U=Object(o.g)();Object(i.useEffect)((function(){switch(ad(v,w,m,g,O)){case H.DEFAULT:case H.FROMEDIT:D(!0),c(t,!0,r);break;case H.ITEMINCLUDES:D(!0);break;default:D(!1)}}),[m,v,g,O]);return!N&&Object(u.jsxs)("div",{className:id(s,_),"data-testid":"click-save-product",onClick:function(){if(g||k.includes(l)){if(g){var e=k.filter((function(e){return e!==l}));L({type:M,value:e})}}else L({type:P,value:l});var i={analyticsObject:{name:f,size:p},currLocation:Object(T.F)(U.pathname)};1===n&&1===a?(rd(i,_),!_&&D(!0),c(t,"single",r)):_&&r.length>n&&r.length<=a?(D(!1),c(t,!1,r)):!_&&r.length>=n&&r.length<a&&(rd(i,_),D(!0),c(t,!0,r)),L({type:F,value:{confirmUpsizeName:b}})},children:[Object(u.jsx)(A.a,{defaultPath:Object(T.V)(null,d,!0),srcFile:Object(T.V)(x,d),className:od(s)}),Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:"(max-width: 1023px)",srcSet:_?td:null,alt:"",className:cd(s)}),Object(u.jsx)("img",{src:_?td:null,alt:"",className:cd(s)})]}),Object(u.jsxs)("div",{className:"modifier-card-content",children:[Object(u.jsx)("div",{className:"title",children:C}),E&&Object(u.jsx)("div",{className:"caloricInfo",children:E})]})]})},dd=n.p+"static/media/HamburgerDownArrow.1198b568.svg",ld=n.p+"static/media/filter_options_stoke.1119938d.svg",ud=function(e,t,n){console.log(t);var a=-1,i=t.map((function(e){return e.size&&{name:e.size,rate:Object(T.jb)(e.availability[0],n)}})).filter((function(e){return e})).sort((function(e,t){return e.rate-t.rate})),c=e.map((function(e){return e.size&&{name:e.size,rate:Object(T.jb)(e.availability[0],n)}})).filter((function(e){return e})).sort((function(e,t){return e.rate-t.rate}));return Array.from(new Set(i.map((function(e){return e.name})))).map((function(e){return i.find((function(t){return t.name===e}))})).forEach((function(e){a="regular"!=e.name?c.findIndex((function(t){return t.name==e.name&&t.rate!=e.rate})):-1})),a>=0&&c.splice(a,1),Array.from(new Set(c.map((function(e){return e.name})))).map((function(e){return c.find((function(t){return t.name===e}))}))},bd=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"upsizeOrder",addOnType:t,location:"Customization Modal"}),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vd=function(){var e=Object(je.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"confirmUpsize",changesMade:t}),e.next=4,me.a.registerEvent(void 0,{data:n[0]},T.H);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jd=function(e,t){if(e!==t)return Object(u.jsx)("span",{children:":"})},Od=function(e,t,n){return e.rate&&e.name!==t?"+".concat(n).concat(e.rate):""},md=function(e,t,n){return e&&e.length&&ud(e,t,n).length>0},fd=function(e){var t=e.data,n=e.min,o=e.max,r=e.showSelectedModifier,s=e.modgrpId,d=e.modGrpName,l=nd.REGULAR,b=void 0===l?"":l,v=nd.UPLIFTPLACEHOLDER,O=void 0===v?"":v,m=nd.SINGLE,f=Object(i.useContext)(I.a),p=f.userOrderState,h=f.userOrderStateDispatch,g=Object(i.useState)([]),x=Object(j.a)(g,2),N=x[0],C=x[1],S=Object(i.useState)({}),A=Object(j.a)(S,2),y=A[0],_=A[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],L=R[1],k=Object(i.useState)([]),P=Object(j.a)(k,2),M=P[0],F=P[1],H=Object(i.useState)(!0),U=Object(j.a)(H,2),B=U[0],Y=U[1],G=Object(i.useState)(Object(T.Lb)(window.innerWidth)),K=Object(j.a)(G,2),V=K[0],W=K[1],q=Object(i.useState)(t),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(E.c)((function(e){return e.cartReducer})),Z=Object(E.c)((function(e){return e.tenantReducer})),$=Z.currencySymbol,ee=Z.currencyConversionFactor,te=Object(i.useState)({}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)({}),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useRef)(null),le=Object(i.useRef)(null),ue=Object(i.useRef)(null),be={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(i.useEffect)((function(){var e=t.length?JSON.parse(JSON.stringify(t)):[],n=function(e,t){return Object(T.Fb)(e)?t.filter((function(t){return t.size===e.name})):t}(y,e);J(Object(vo.a)(n))}),[t]);var ve=function(e,n,i){var c=e.id;if(n===m)t.forEach((function(e){e.id===c&&F([e.id])})),C([Object(a.a)(Object(a.a)({},e),{},{itemId:c,modgrpId:s})]);else if(n){!i.some((function(t){return t.id===e.id}))&&C([].concat(Object(vo.a)(i),[Object(a.a)(Object(a.a)({},e),{},{itemId:c,modgrpId:s})]))}else if(i.length){var o=i.filter((function(e){return e.itemId!==c}));C(o)}},je=function(){var e=Object(T.Lb)(window.innerWidth);W(e)};Object(i.useEffect)((function(){var e=function(e,t,n,a){var i,c=_e.a.FROMFLAGEDIT,o=mi.a.MODGROUP_IDS_UPDATE;if((null===t||void 0===t||null===(i=t.minipdpData)||void 0===i?void 0:i.fromFlag)===c){var r,s,d,l=a.foodLines.find((function(e){return e.id===t.minipdpData.foodLineId})),u=null===l||void 0===l||null===(r=l.item)||void 0===r||null===(s=r.modGrps)||void 0===s?void 0:s.find((function(t){return t.id===e}));return u?(u.modifiers.filter((function(e){return!e.isDefault})).length&&!(null===t||void 0===t||null===(d=t.pdpScreenCommons)||void 0===d?void 0:d.modGroupIdsUpdated.includes(u.id))&&n({type:o,value:u.id}),u.modifiers):{}}return{}}(s,p,h,null===X||void 0===X?void 0:X.cartData);se(e)}),[]),Object(i.useEffect)((function(){r(N)}),[JSON.stringify(N)]),Object(i.useEffect)((function(){window.addEventListener("resize",je)}),[V]),Object(i.useEffect)((function(){w?document.addEventListener("click",Oe):document.removeEventListener("click",Oe)}),[w]);var Oe=function(e){(de.current&&de.current===e.target||le.current&&ue.current&&le.current!==e.target&&!ue.current.contains(e.target))&&L(!1)},me=function(){L(!0)},fe=function(){L(!w)},pe=function(e,n){_(e);var a=t.filter((function(t){return t.size===e.name}));J(a),bd(n),L(!w)},he=function(e,n,a){var i=function(e,t,n){return Object(T.Fb)(t)?(e(t),n.filter((function(e){return e.size===t.name}))):n}(_,e,t);J(i),bd(n),Y(!a),L(!1)},ge=function(){_({}),ie({}),Y(!0)},xe=function(){var e=Od(y,b,$);return Object(T.pb)(e.length>0,":","")};return V?Object(u.jsxs)(c.a.Fragment,{children:[md(t,N,ee)&&Object(u.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(u.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:me,children:[Object(u.jsx)("span",{"data-testid":"uplift-order-text",children:Object(T.pb)(y.name,y.name+xe(),Object(Ae.e)(O))}),Object(u.jsx)("span",{className:"selected-rate",children:Od(y,b,$)}),Object(u.jsx)("img",{className:"dropdown-img-ham",src:dd})]})}),w&&Object(u.jsx)("div",{className:"mobile-modal-filter-background",ref:de,children:Object(u.jsxs)("div",{className:"mobile-modal-filter",children:[Object(u.jsx)("div",{className:"mobile-modal-filter-container",children:Object(u.jsxs)("ul",{className:"mobile-filter-list",children:[Object(u.jsx)("li",{className:B&&0===Object.keys(y).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:ge,children:Object(u.jsx)("div",{className:"mobile-rate-container",children:Object(Ae.e)(O)})}),ud(t,N,ee).map((function(e){return Object(u.jsx)("li",{className:e.name===ae.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:function(){return function(e){L(!0),ie(e),Y(!1)}(e)},children:Object(u.jsxs)("div",{className:"mobile-rate-container",children:[Object(u.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),jd(e.name,b),Object(u.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==b?"+".concat($).concat(e.rate.toFixed(2)):""})]})},e.name)}))]})}),Object(u.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:function(){return he(ae,d,ae.name===y.name)},children:Object(Ae.e)("done")})]})}),Object(u.jsx)("div",{className:"modifier-list-items",children:Q&&Q.length>2&&re?Object(u.jsx)(Jo,{settings:be,children:Q&&Q.length&&re?Q.map((function(e,t){return Object(u.jsx)(sd,{cardType:"carousal",min:n,max:o,cardData:e,savedModifierHandler:ve,savedModifiers:N,tenantReducer:Z,modgrpId:s,modGrpName:d,updatedItems:M,getCartModifiers:re},t)})):null}):Q&&Q.length&&re?Q.map((function(e,t){return Object(u.jsx)(sd,{cardType:"regular",min:n,max:o,cardData:e,savedModifierHandler:ve,savedModifiers:N,tenantReducer:Z,modgrpId:s,modGrpName:d,updatedItems:M,getCartModifiers:re},t)})):null})]}):Object(u.jsxs)(c.a.Fragment,{children:[md(t,N,ee)&&Object(u.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(u.jsxs)("div",{className:"language-select-uplift",ref:le,"data-testid":"desktop-dropdown-filter",onClick:fe,children:[Object(u.jsx)("span",{"data-testid":"uplift-order-text",children:Object(T.pb)(y.name,y.name+xe(),Object(Ae.e)(O))}),Object(u.jsx)("span",{className:"selected-rate",children:Od(y,b,$)}),Object(u.jsx)("img",{className:"dropdown-img-ham",src:dd})]}),w&&Object(u.jsx)("div",{ref:ue,children:Object(u.jsx)("ul",{className:"filter-list",children:ud(t,N,ee).map((function(e){return function(e,t,n,a,i,c){return Object(u.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:function(){return t(e,n)},children:[Object(u.jsx)("span",{children:e.name}),Object(u.jsxs)("div",{className:"rate-container",children:[Object(u.jsx)("span",{className:"filter-item-rate",children:e.name!==a?"+".concat(i).concat(e.rate):""}),e.name===c.name&&Object(u.jsx)(Da.a,{src:ld,className:"selected-stroke"})]})]},e.name)}(e,pe,d,b,$,y)}))})})]}),Object(u.jsx)("div",{className:"modifier-list-items",children:Q&&Q.length&&re?Q.map((function(e,t){return Object(u.jsx)(sd,{min:n,max:o,cardData:e,savedModifierHandler:ve,savedModifiers:N,tenantReducer:Z,modGrpName:d,modgrpId:s,updatedItems:M,getCartModifiers:re},t)})):null})]})};var pd=function(e){var t=e.grouplist,n=void 0===t?[]:t,a=e.getSelectedModifiers,o=e.selectedModifiers,r=e.source,s=void 0===r?"":r,d=mi.a.PDP,l=Object(i.useState)(n),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)([]),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useContext)(I.a).userOrderState.pdpScreenCommons,x=g.currentAccordian,N=g.modGroupIdsUpdated,E=function(e){null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(i.useEffect)((function(){!function(){var e=function(e){var t=e.length?e:[];return t.map((function(e,t){return e.expanded=0===t,e})),t}(n);O(Object(vo.a)(e))}()}),[JSON.stringify(n)]),Object(i.useEffect)((function(){if(Object(T.u)(x,s===d)){var e=((null===n||void 0===n?void 0:n.length)?JSON.parse(JSON.stringify(n)):[]).map((function(e,t){if(e.id===x){var n,a=(null===(n=e.modifiers)||void 0===n?void 0:n.length)>1?300:0,i=document.getElementById("accordion-"+x).offsetTop;window.scrollTo({top:i-a,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));O(Object(vo.a)(e))}}),[x,JSON.stringify(n)]);var C=function(e){var t,n,a;if(e.length){t=e.map(JSON.stringify),n=new Set(t),a=Array.from(n).map(JSON.parse);var i=[];if(p.length){i=p;var c=p.findIndex((function(e){return e[0].modgrpId===a[0].modgrpId}));c>=0?(i.splice(c,1,a),h(Object(vo.a)(i))):h([].concat(Object(vo.a)(i),[a]))}else h((function(e){return[].concat(Object(vo.a)(e),[a])}))}};Object(i.useEffect)((function(){p.length&&a(p),o(p)}),[p]);var S=function(e){var t,n=[],a=Object(Oe.a)(p);try{for(a.s();!(t=a.n()).done;){var i,c=t.value,o=Object(Oe.a)(c);try{for(o.s();!(i=o.n()).done;){var r=i.value;r.modgrpId===e&&r.dname&&r.dname.length&&n.push(r.dname[0].value)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){a.e(s)}finally{a.f()}return n.join(", ")};return v.map((function(e,t){var n=e.id,a=e.name,i=e.modifiers,o=e.expanded,r=e.min,s=e.max,d=function(e){var t=!1;return N&&N.length&&Object(vo.a)(new Set(N)).includes(e)&&(t=!0),t}(n);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"accordian-container",id:"accordion-"+n,"data-testid":"product-listing-accordion-".concat(t),children:[Object(u.jsxs)("div",{className:"accordian-header",children:[Object(u.jsxs)("div",{className:"".concat(o?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(n),onClick:function(e){return function(e,t){e&&E();var n=v.length?JSON.parse(JSON.stringify(v)):[];n.map((function(e,n){return e.id===t&&(e.expanded=!e.expanded),e})),O(Object(vo.a)(n))}(e,n)},children:[Object(u.jsx)("span",{className:"accordion-test",tabIndex:"0",children:a}),d?Object(u.jsx)("span",{className:"updatedBadge",children:Object(Ae.e)("updated")}):null]}),Object(u.jsx)("span",{className:"selected-mod",children:p.length&&S(n)})]}),Object(u.jsx)("div",{className:"".concat(o?"panel panel-active":"panel"),children:Object(u.jsx)(fd,{modgrpId:n,modGrpName:a,data:i,min:r,max:s,showSelectedModifier:C})})]})},t)}))},hd=n(89),gd=function(e){var t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},xd=function(e){var t=e.data,n=e.categoryId,a=e.handleClose,o=e.showPriceContent,r=void 0===o||o,s=e.source,d=void 0===s?"":s,l=t.id,b=t.modgrps,v=t.availability,O=void 0===v?[]:v,f=Object(i.useContext)(I.a),p=f.userOrderState,h=f.userOrderStateDispatch,g=p.confirmUpsizeName,x=p.minipdpData,N=Object(i.useState)(b),C=Object(j.a)(N,2),S=C[0],A=C[1],y=Object(i.useState)([]),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(E.b)(),L=Object(E.c)((function(e){return e.tenantReducer})),k=Object(E.c)((function(e){return e.cartReducer})),P=k||{},M=P.cartData,F=void 0===M?{}:M,H=P.isAddItemLoading,U=void 0!==H&&H,B=L.currencySymbol,Y=L.tenantId,G=L.currencyConversionFactor,K=L.maxItemCountPerLineItem,V=Object(E.c)((function(e){var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),W=V.categories,q=void 0===W?[]:W,z=Object(i.useState)(0),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(T.jb)(O[0],G),$=nd.ADDTOCART,ee=nd.UPDATECART,te=_e.a.FROMFLAGEDIT,ne=_e.a.EDIT_CLICKED,ae=(os.d.ACCOUNT_FAV_PAGE,Object(i.useState)(1)),ie=Object(j.a)(ae,2),ce=ie[0],oe=ie[1],re=Object(i.useState)(0),se=Object(j.a)(re,2),de=se[0],le=se[1],ue=sr.ITEM_QUANTITY,be=Object(i.useState)(!1),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(null),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1];Object(i.useEffect)((function(){var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:S,modifiedItemPrice:J})}),[S]),Object(i.useEffect)((function(){var e=Object(T.Fb)(F)?Object(T.bb)(l,F):{},t=Object(T.Fb)(e)?e.count:0;if(le(t),x.fromFlag===te){var n=Object(T.Fb)(F)?Object(T.cb)(x.foodLineId,F):{},a=Object(T.Fb)(n)?n.count:1;oe(a)}}),[F]),Object(i.useEffect)((function(){return function(){h({type:ne,value:{cartEditClicked:!1}})}}),[h,ne]);Object(i.useEffect)((function(){je&&!U&&a(pe)}),[je,U]),Object(i.useEffect)((function(){return window.addEventListener("keydown",gd),function(){window.removeEventListener("keydown",gd)}}));var ge,xe=x.fromFlag===te?Object(Ae.e)(ee):Object(Ae.e)($);return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(u.jsx)("form",{className:"form",children:Object(T.Fb)(b)?Object(u.jsx)(pd,{grouplist:b,getSelectedModifiers:function(e){var t=0,a=[];e.forEach((function(e){var i={};i.id=e[0].modgrpId,i.modifiers=[],e.forEach((function(e){var a={},c=JSON.parse(JSON.stringify(e));a.id=c.id,a.quantity=c.defaultQuantity,a.modGrps=c.modgrps,a.categoryId=n,i.modifiers.push(a);var o=Object(T.jb)(e.availability[0],G);t+=o})),a.push(i)})),X(Z+t),A(a)},selectedModifiers:R,source:d}):null})}),r&&Object(u.jsx)("div",{className:"price-content",children:Object(u.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[ce?Object(u.jsx)(is,{itemCount:ce,itemQuantity:ue,updateItemQuantity:function(e,t){t===kn.a.QUANTITY_ACTION.Increase?oe((function(e){return e+1})):oe((function(e){return e-1}))},quantityAction:kn.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:K,cartItemCount:de+1}):null,Object(u.jsxs)(ht.a,{className:"button start-order-btn ".concat(U?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:function(e){return function(e){var a,i,c,o="";e.stopPropagation(),e.preventDefault(),he(e),Oe(!0);var r=(null===q||void 0===q?void 0:q.find((function(e){return e.products.find((function(e){return e.name===t.name}))})))||{},s=r.id,d=void 0===s?"NA":s,u=r.name,b=void 0===u?"NA":u;m.a.forEach(D,(function(e){o+="".concat(e[0].name,", ")})),Object(hd.a)({item_name:Object(T.db)(null===t||void 0===t?void 0:t.name),item_id:Object(T.db)(null===t||void 0===t?void 0:t.id),item_category:b,price:Object(T.db)((null===t||void 0===t||null===(a=t.availability)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.price)/G),item_variant:Object(T.db)(null===(c=o)||void 0===c?void 0:c.trim()),item_list_name:b,item_list_id:d,index:1,quantity:ce}),x.fromFlag!==te?w(Object(_t.a)({params:{basketId:k&&k.cartData&&k.cartData.id},tenantId:Y},[{Id:l,categoryId:n,quantity:ce,modGrps:S}])):w(Object(_t.v)({params:{basketId:k&&k.cartData&&k.cartData.id,basketLineItemId:x.foodLineId},tenantId:Y},{Id:l,quantity:ce,modGrps:S})),w(Object(_t.r)(new Date)),h({type:kn.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:l,addedFrom:"PLP-Model"}}}),vd(g)}(e)},children:[Object(u.jsx)("span",{className:"title-for-button",children:"".concat(xe)}),Object(u.jsx)("span",{className:"currency-symbol",children:"".concat(B," ").concat((ge=J,(ce*ge).toFixed(2)))})]})]})})]})},Nd=function(e){if(e){var t,n=JSON.parse(JSON.stringify(e));return n.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((function(e){return!e.isHidden})),n}return{}},Ed=function(e){var t=e.isModal,n=void 0===t||t,a=e.showPriceContent,i=void 0===a||a,c=e.callBackToPDP,o=e.data,r=void 0===o?{}:o,s=e.source,d=void 0===s?"":s,l=nd.MODALHEADERTEXT,b=void 0===l?"":l,v=Object(E.c)((function(e){return e.menuReducer.currentItemDetails})),j=Object(T.Fb)(r)?Nd(r):Nd(v),O=Object(E.b)(),m=Object(E.c)((function(e){return e.cartReducer})),f=function(e){e.stopPropagation(),e.preventDefault(),O(Object(_t.s)({showProductListingModal:!1,categorySelected:""}))},p=Object(u.jsx)(xd,{data:j,categoryId:m.categorySelected,handleClose:f,showPriceContent:i,callBackToPDP:c,"data-testid":"product-listing-modal-enabled",source:d}),h=Object(u.jsx)(ed,{handleClose:f,ProductListingModalForm:p,headerText:Object(Ae.e)(b),"data-testid":"product-listing-inside-modal"}),g=Object(u.jsx)("div",{className:"pdp-custm",children:p});return n?Ai.a.createPortal(h,document.getElementById("modal-popups")):g},Td=function(e){var t=e.cardRenderer,n=e.productList,a=e.carousal,i=e.header,c=void 0===i?"":i,o=e.subHeader,r=void 0===o?"":o,s=e.settings,d=e.maxLengthToScroll,l=e.slidesToShow,b=e.rangeValue,v=e.onUpdateRange,j=e.showProductListingModal,O=e.isMobile,m=e.recommendedRule,f=e.flagUpsellCrossell;return Object(u.jsxs)(u.Fragment,{children:[Boolean(null===n||void 0===n?void 0:n.length)&&Object(u.jsxs)("div",{className:"recommendedCard-container","data-testid":"recommendedCard-container-test",children:[Object(u.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(u.jsxs)("div",{className:r?"pdp-carousal-header":"recommendedContainer-header",children:[Object(u.jsx)("span",{className:"main-header",children:c}),r&&Object(u.jsx)("span",{className:"sub-header",children:r})]}),Object(u.jsxs)("span",{className:"count_box",children:[Math.round(b+1),"/",n.length]})]}),Object(u.jsxs)("div",{className:"recommendedCard-list",children:[Object(u.jsx)("div",{className:"recommendedCarousal-list",children:Object(u.jsx)(Jo,{settings:s,carousalRef:a,children:t()})}),n.length>d&&Object(u.jsx)("div",{className:"recommended-slideContainer",children:Object(u.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:n.length-l,value:b,id:"myRange","data-testid":"myRange",onChange:v})})]})]}),Object(T.u)(j,m===f)&&Object(u.jsx)("div",{className:"pdp-custm-container ".concat(O?"mobile":""),children:Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(Ed,{})})})]})},Id=function(e){var t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"},Cd=function(e){var t,n,a,o,r,s=e.isMobile,d=e.IndulgentData,l=kn.a.INDULGENT_ADD_ON,b=kn.a.ADD_TO_CART_CLICK,v=l.HEADER,O=l.SLIDES_TO_SCROLL,m=l.SLIDES_TO_SHOW,f=l.ADD_TO_CART,p=Object(i.useState)(0),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Object(i.useState)(0),C=Object(j.a)(N,2),S=C[0],y=C[1],_=Object(i.useState)(1),D=Object(j.a)(_,2),R=D[0],w=D[1],L=Object(i.useContext)(I.a),k=L.userOrderState,P=L.userOrderStateDispatch,M=Object(E.b)(),F=Object(E.c)((function(e){return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{}}})),H=F.cartReducer,U=F.userParams,B=F.tenantReducer,Y=Object(T.Eb)(k.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):k.dispositionNew,G=Y?Y.store:{},K=(null===G||void 0===G||null===(t=G.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)&&(null===G||void 0===G||null===(o=G.summary)||void 0===o||null===(r=o.menu)||void 0===r?void 0:r.catalogs[0])||(null===B||void 0===B?void 0:B.genericMenuName)||"",V=c.a.useRef(null),W={dots:!1,infinite:!1,speed:500,slidesToShow:m,slidesToScroll:O,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Cr,{clickNextCard:function(){if(g<d.length-1){var e=0;e=g+O>d.length-m-1?d.length-m:g+O,Id(e),x(e),V.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:function(){g>0&&(x(g-O),V.current.slickGoTo(g-O)),Id(g-O)}}),beforeChange:function(e,t){return y(t)},afterChange:function(e,t){return x(e)},variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:5,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:4,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:function(e,t){w(Math.round(t+1))}}}]};return Object(u.jsxs)("div",{className:"indulgent-container",children:[Object(u.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(u.jsx)("span",{className:"indulgent-header",children:Object(Ae.e)(v)}),s?Object(u.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[R,"/",d&&d.length]}):null]}),Object(u.jsx)("div",{className:"indulgent-card-list",children:Object(u.jsx)(Jo,{settings:W,carousalRef:V,children:d.map((function(e,t){return Object(u.jsxs)("div",{className:"indulgent-card",children:[Object(u.jsx)(A.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(T.V)(null,B,!0),srcFile:Object(T.V)(e.imageName,B)}),Object(u.jsxs)("div",{className:"indulgent-card-content",children:[Object(u.jsx)("div",{className:"indulgent-card-header",children:e.dname[0].value}),Object(u.jsxs)("div",{className:"indulgent-card-price",children:[B.currencySymbol,(e.availability[0].price/B.currencyConversionFactor).toFixed(2)]}),Object(u.jsxs)(ht.a,{className:"button redButton indulgent-card-button","aria-label":Object(Ae.e)(f)+" "+e.dname[0].value,"data-testid":"add-to-cart",onClickHandler:function(t){!function(e,t,n,a){var i=t.split("_")[0]||"";e.stopPropagation(),U.localized?n?M(Object(Oi.c)({tenantId:B.tenantId,catalogName:K,itemId:t})):(M(Object(_t.a)({params:{basketId:H&&H.cartData&&H.cartData.id},tenantId:B.tenantId},[{Id:t,categoryId:i,quantity:1,modGrps:[]}])),M(Object(_t.r)(new Date))):P({type:b,value:{addToCart:!0,productItemId:t,categoryId:i,oldProduct:a,customizable:n,catalogs:K,fromPdpPage:!1}})}(t,e.id,!1,{productName:e.dname[0].value,productImage:e.imageName,productPrice:e.availability[0].price/B.currencyConversionFactor}),t.preventDefault(),t.stopPropagation()},children:[Object(Ae.e)(f),Object(u.jsx)(A.a,{className:"add-to-cart-Icon",srcFile:_s.a})]})]})]},t)}))})}),s||d.length<3?null:Object(u.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(u.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:d.length-function(){var e=window.innerWidth;return e>1350&&e<1650?4:e>1650&&e<=1920?5:m}(),value:S,id:"myRange",onChange:function(e){y(e.target.value),V.current.slickGoTo(e.target.value)}})})]})},Sd=Xr,Ad=Jr,yd=Qr,_d=qr,Dd=Wr,Rd=zr,wd=_e.a.ADD_TO_CART_CLICK,Ld=_e.a.MINI_PDP_DATA,kd=_e.a.FROMFLAGPLP,Pd=_e.a.EDIT_CLICKED,Md=(_e.a.PDP_URL,mi.a.RESET_MODGROUP_IDS_UPDATE),Fd=mi.a.UPSELL,Hd=mi.a.PDP,Ud=Ad.SPEED,Bd=Ad.SLIDES_TO_SHOW,Yd=Ad.SLIDES_TO_SCROLL,Gd=Sd.PDP_SLIDES_TO_SHOW,Kd=Sd.PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL,Vd=function(e,t){var n="recommended-card";return e===t+Rd&&(n+=" recommendedCard-fade"),n},Wd=function(e){var t,n,c,r,s,d=e.products,l=e.storeClosedData,b=e.header,v=void 0===b?"":b,O=e.subHeader,m=void 0===O?"":O,f=e.cssClass,p=void 0===f?"":f,h=e.recommendedRule,g=e.source,x=void 0===g?"":g,N=Object(i.useState)(0),C=Object(j.a)(N,2),A=C[0],y=C[1],_=Object(i.useState)(0),D=Object(j.a)(_,2),R=D[0],w=D[1],L=Object(i.useRef)(null),k=Object(i.useState)(Object(T.Lb)(window.innerWidth)),P=Object(j.a)(k,2),M=P[0],F=P[1],H=Object(i.useContext)(I.a),U=H.userOrderState,B=H.userOrderStateDispatch,Y=Object(E.b)(),G=function(e){return{maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?Kd:Dd,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?Gd:Bd}}(p),K=G.maxLengthToScroll,V=G.slidesToShow,W=U.dispositionStateData,q=(void 0===W?S.Fb:W).dispositionType,z=void 0===q?localStorage.getItem("dispositionType"):q,Q=Object(i.useState)(),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(E.c)((function(e){return{tenantReducer:Object(T.wb)(e.tenantReducer),cartReducer:Object(T.wb)(e.cartReducer),userParams:Object(T.wb)(e.appStateReducer.userStatus)}})),ee=$.tenantReducer,te=$.cartReducer,ne=$.userParams,ae=Object(T.wb)(te).showProductListingModal,ie=void 0!==ae&&ae,ce=Object(o.g)(),oe=((null===ee||void 0===ee?void 0:ee.componentOptions)||S.Fb).PlpProductCard,re=void 0===oe?S.Fb:oe,se=Object(T.Eb)(U.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):U.dispositionNew,de=se?se.store:S.Fb,le=(null===de||void 0===de||null===(t=de.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(c=n.catalogs)||void 0===c?void 0:c.length)&&(null===de||void 0===de||null===(r=de.summary)||void 0===r||null===(s=r.menu)||void 0===s?void 0:s.catalogs[0])||(null===ee||void 0===ee?void 0:ee.genericMenuName)||"",ue=null===d||void 0===d?void 0:d.filter((function(e){return!e.isHidden})),be=x===Hd?ue:null===ue||void 0===ue?void 0:ue.filter((function(e){var t=wa.b.channel,n=function(e){var t=S.bb;return e===S.p&&(t=S.o),e===S.t&&(t=S.s),t}(z);return e.channel===t&&e.service===n})),ve=Ii(void 0,void 0,void 0,void 0,B,Y,void 0).showCartAlert,je=function(){ve(!0)},Oe={dots:!1,infinite:!1,speed:Ud,slidesToShow:V,slidesToScroll:Yd,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:[{breakpoint:_d,settings:{slidesToShow:yd,arrows:!0,swipeToSlide:!0}}]},me=function(){var e=Object(T.Lb)(window.innerWidth);F(e)};Object(i.useEffect)((function(){window.addEventListener("resize",me)}),[M]);var fe=Object(a.a)(Object(a.a)({},Oe),{},{nextArrow:Object(u.jsx)(Zr,{clickNextCard:function(){if(R<be.length-1){var e=0;e=R+Yd>be.length-V-1?be.length-V:R+Yd,Id(e),w(e),L.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)($r,{clickPrevCard:function(){R>0&&(w(R-Yd),L.current.slickGoTo(R-Yd)),Id(R-Yd)}}),beforeChange:function(e,t){return y(t)},afterChange:function(e,t){return w(e)}}),pe=function(e,t,n,a){var i,c=t.split("_")[0]||"";(h===Fd&&it(),e&&e.stopPropagation(),ne.localized)?n?(Z(h),B({type:Ld,value:{id:t,flag:kd,foodLineId:""}}),B({type:Md}),B({type:Pd,value:{cartEditClicked:!0}}),Y(Object(Oi.c)({tenantId:ee.tenantId,catalogName:le,itemId:t}))):(Y(Object(_t.a)({params:{basketId:null===te||void 0===te||null===(i=te.cartData)||void 0===i?void 0:i.id},tenantId:ee.tenantId},[{Id:t,categoryId:c,quantity:1,modGrps:S.Cb}])),Y(Object(_t.r)(new Date))):B({type:wd,value:{addToCart:!0,productItemId:t,categoryId:c,oldProduct:a,customizable:n,catalogs:le,fromPdpPage:!1}})},he=Object(E.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){var e=Object(T.rb)(he,U);Object(T.u)(e,X===h)&&Y(Object(_t.s)({showProductListingModal:!0,categorySelected:""}))}),[he,U.minipdpData.itemId,U.cartEditClicked]),Object(i.useEffect)((function(){ie&&Y(Object(_t.s)({showProductListingModal:!1,categorySelected:""}))}),[ce]);var ge=function(e,t,n){Y(Object(Oi.a)({tenantId:e,customerId:n},t))},xe=function(e,t,n){Y(Object(Oi.b)({tenantId:e,customerId:t,itemId:n}))};return Boolean(null===be||void 0===be?void 0:be.length)&&Object(u.jsx)(Td,Object(a.a)({cardRenderer:function(){return be.map((function(e,t){var n=Object(T.vb)(e.additionalProperties),i=n.length&&n.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Le.a)({},n,"True"==i||"False"!=i&&i))}),S.Fb);return Object(u.jsx)("div",{className:Vd(t,R),children:Object(u.jsx)($s,Object(a.a)(Object(a.a)({item:e,cardId:e.id,cardType:"medium",cardFor:"recommended",configureOptions:re,tenantData:ee,servingCount:null===i||void 0===i?void 0:i.servings,button:e.button,categoryId:"",clickHandler:pe,customizable:e.customizable,onCardClickHandler:function(){},userParams:ne,storeClosedData:l,addFavourite:ge,removeFavourite:xe,"data-testid":"menu-card-component",openAlertModal:je},i),e),e.id)})}))},productList:Object(vo.a)(be),carousal:L,header:v,subHeader:m,settings:fe,maxLengthToScroll:K,slidesToShow:V,rangeValue:A,onUpdateRange:function(e){y(e.target.value),L.current.slickGoTo(e.target.value),Id(e.target.value)},showProductListingModal:ie,isMobile:M,flagUpsellCrossell:X},e))},qd=function(e){var t,n,c=e.products,o=e.country,r=e.cssClass,s=void 0===r?"":r,d=Object(i.useContext)(I.a).userOrderState,l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useMemo)((function(){return Object(T.Eb)(d.currentStoreInfo)?Object(T.b)(localStorage.getItem("currentStoreInfo")):d.currentStoreInfo}),[d.currentStoreInfo]),f=Object(T.wb)(null===m||void 0===m||null===(t=m.summary)||void 0===t?void 0:t.timings),p=f.futureDates,h=f.scheduled,g=f.asap,x=Object(T.wb)(h).unavailibilities,N=Object(T.wb)((null===h||void 0===h||null===(n=h.periods)||void 0===n?void 0:n.length)&&(null===h||void 0===h?void 0:h.periods[0])),E=N.interval,C=void 0===E?0:E,S=N.startEndTime,A=void 0===S?{}:S,y=A.from,_=A.to,D=Object(i.useCallback)((function(){if(Object(T.Fb)(m)){var e,t,n=null===(e=m.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=$i(y,_,C,null===g||void 0===g?void 0:g.isAvailable,1===(null===p||void 0===p?void 0:p.length)&&(null===o||void 0===o?void 0:o.toUpperCase())===nt,x);"CLOSED"!==n||a.length?O(!1):O(!0)}else O(!1)}),[m]);return Object(i.useEffect)((function(){D()}),[D]),Object(u.jsx)("div",{className:"recommended-container ".concat(s),"data-testid":"recommended-container",children:Object(u.jsx)(Wd,Object(a.a)({"data-testid":"recommended-items",products:c,storeClosedData:{isStoreClosed:v}},e))})},zd={MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},Qd="continue",Jd="cancel",Xd=n.p+"static/media/Cart_Error.f878d4a7.svg",Zd=function(e){var t=(Object(E.c)((function(e){return e.cartReducer}))||{}).cartData,n=void 0===t?{}:t,a=(Object(E.c)((function(e){return e.tenantReducer}))||{}).tenantId,c=void 0===a?"":a,o=Object(i.useContext)(I.a),r=o.userOrderState,s=o.userOrderStateDispatch,d=r.modalToOpenOnConfirm,l=r.modalOpenFrom,b=r.confirmCallBack,v=Object(E.b)(),j=zd,O=Qd,m=Jd,f=_e.a.SHOW_CLEAR_CART_ALERT,p=_e.a.DISPOSITION_DATA,h=_e.a.SEARCH_ORDER_DATA,g=_e.a.SCHEDULE_ORDER_DATA,x=_e.a.clearCartChangeFlag,N=_e.a.orderTypeAlertTitle,C=_e.a.searchStoreAlertTitle,S=Object(T.Eb)(r.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):r.dispositionNew,A=function(){s({type:f,value:{showCartClearAlert:!1}}),l===x&&s({type:g,value:{showScheduleOrder:!0,selectedStoreInfo:S.store,changeFlow:!0}})};return Object(u.jsx)(yi,{handleClose:A,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(Ci,{splitTitle:j,imageSrc:Xd,altText:"cart-error",confirmButtonText:Object(Ae.e)(O),cancelButtonText:Object(Ae.e)(m),cancelHandler:A,confirmHandler:function(){if(n.discountLines.length>0){var e=n.discountLines.map((function(e){return e.id}));v(Object(_t.k)({params:{basketId:n.id},tenantId:c,shouldClearCart:!0},e))}else v(Object(_t.l)({basketId:n.id,tenantId:c}));v(Object(_t.r)(new Date)),s({type:f,value:{showCartClearAlert:!1}}),b&&b(),d===N?s({type:p,value:{showDisposition:!0}}):d===C&&s({type:h,value:{showSearchStore:!0}})}})})},$d=("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}).REACT_APP_TENANT_IMAGE_BASE_URL,"15895bb59f7b4bb588ee933f8cd5344a/images/items/"),200),el=3,tl=1,nl=1024,al=1,il=n.p+"static/media/Reorder.55ee8463.svg",cl="cancel",ol="Account - Occasions",rl="HomePage - Reorder",sl={LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",SET_DISPOSITION:"SET_DISPOSITION",CLOSED:"CLOSED",DELIVER_TO:"deliveryTo",WHEN:"when",PLEASE_REVIEW_YOUR_ORDER:"pleaseReviewYourOrder",QUICK_ORDER:"quickOrder",TODAY:"today",ASAP:"asap",ITEMS:"items",WANT_TO_MODIFY:"wantToModify",ITEM_ADDED_TO_CART_MSG:"itemAddedToCartMsg",KEEP_SHOPING:"keepShoping",ADD_A_COUPON:"addACoupon",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",TOTAL:"total",CONTINUE_TO_PAYMEN:"continuePayment",CLEAR_CART_MSG:"clearCartActionText",CLEARE_AWARE_MSG:"clearCartAwareText",CLEAR_CART_COMPLETE_MSG:"clearCartCompleteText",STORE_CLOSED:"storeClosed",DELIVERY_NOT_AVAIALABLE:"deliveryNotAvailable",PRICE_CHANGE_TEXT:"cartItems",PRICE_CHANGE_MAIN:"priceChangedCartMain",ITEM_UNAVAILABLE:"itemUnavailable",SERVICE_CHANNEL:"web",UNAVAILABLE:"unavailable",UNAVAILABLE_TEXT:"unavailableCartText",DINE_IN:"dine-in",TAKEAWAY:"Pickup",DINE_IN_TEXT:"dineIn",GENERIC_ERROR:"generic_error",CHECKOUT:"checkout",DISPOISTIONUN_AVAL:"dispositionUnavalMsg",UNAVAILABLE_ERROR:"sorryUnaval",CART:"cart",SCHEDULE_ORDER_DATA:"scheduleOrderData",CHANGE_ORDER_SETTING:"changeOrderSettings"},dl=kn.a.ANALYTICS_EVENTS,ll=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){var a,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=[]).push(Object(Le.a)({event:t.eventType},n,t.selectedData)),console.log(i,"reoder"),e.next=5,me.a.registerEvent(null===ke.a||void 0===ke.a||null===(a=ke.a.add_to_cart)||void 0===a?void 0:a.name,{data:i[0]},T.H);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ul=function(e,t){var n=t.foodLineItem,a=t.checkProductPriceAndAvail,i=t.flatResItems,c=t.reOrderAnalyticEvent,o=t.categories,r=null===n||void 0===n?void 0:n.filter((function(e){var t;return a(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,i)}));0!==(null===r||void 0===r?void 0:r.length)&&c&&function(e,t,n){var a=window.location.href,i=Object(vo.a)(e).map((function(e,i){var c,o,r,s,d=((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2),l=[];null===e||void 0===e||null===(c=e.item)||void 0===c||null===(o=c.modGrps)||void 0===o||o.map((function(e){var t;l.push(null===e||void 0===e||null===(t=e.modifiers[0])||void 0===t?void 0:t.name)}));var u=(null===n||void 0===n?void 0:n.find((function(t){return t.products.find((function(t){var n;return t.name===(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.name)}))})))||{},b=u.id,v=void 0===b?S.V:b,j=u.name,O=void 0===j?S.V:j,m=localStorage.getItem(S.k);return{item_name:Object(T.v)(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.name,S.V),item_id:Object(T.v)(null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.id,S.V),item_category:O,price:Object(T.v)(parseFloat(d),S.V),item_variant:Object(T.v)(l.join(", "),S.V),item_list_name:(null===a||void 0===a?void 0:a.endsWith(S.a))?m:Object(Ae.e)(rl),item_list_id:v,index:i+1,quantity:null===e||void 0===e?void 0:e.quantity}}));ll({eventType:dl.ADD_TO_CART,selectedData:{add_to_cart:{items:i}}},S.z)}(r,e,o)},bl=function(){var e=Object(je.a)(ve.a.mark((function e(){var t,n,a=arguments;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,me.a.registerEvent(null===ke.a||void 0===ke.a||null===(t=ke.a.trackOrder)||void 0===t?void 0:t.name,{data:{event:"trackOrder",orderValue:n}},T.H);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vl=function(e,t){return t&&"".concat(Object(De.l)(e,"llll").split(" ")[0]," ").concat(Object(De.l)(e,t.toUpperCase()))},jl=function(e){var t=e.order,n=e.tenantReducerData,a=e.reorderBtnHandler,c=e.viewRecipetHandler,o=e.menuReducer,r=Object(i.useState)(Object(T.Lb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=n.dateFormat,v=n.currencyConversionFactor,O=n.currencySymbol,m=n.addHope,f=n.carryBag,p=(((o||{}).data||{}).categories,t.items),h=(void 0===p?[]:p).filter((function(e){return(null===e||void 0===e?void 0:e.name)!==m&&(null===e||void 0===e?void 0:e.name)!==f})),g=function(){var e=Object(T.Lb)(window.innerWidth);l(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}}),[d]),Object(u.jsxs)("div",{className:"pastorder-card ml-0",children:[Object(u.jsx)("p",{className:"pastorder-card-main-text mt-3 mb-1",children:t.name?t.name:vl(t.orderedOn,b)}),Object(u.jsxs)("p",{className:"pastorder-card-decomposition-text",children:["".concat(h.length," Items")," \u2022 ",t.service," \u2022","".concat(O).concat((t.total/v).toFixed(2))]}),Object(u.jsxs)("div",{className:"pastorder-pastorders-images",children:[h.map((function(e,t){return t<3?Object(u.jsxs)("div",{className:"item-desc",children:[Object(u.jsx)("span",{className:"item-quantity",children:null===e||void 0===e?void 0:e.quantity}),Object(u.jsx)("span",{className:"item-name",children:null===e||void 0===e?void 0:e.name})]},t):null})),h.length>3&&Object(u.jsx)("span",{children:"..."})]}),Object(u.jsxs)("div",{className:"pastorder-card-button-conatiner",children:[Object(u.jsx)("p",{className:"pastorder-view-details","data-testid":"view-reciept-".concat(null===t||void 0===t?void 0:t.id),onClick:c,children:Object(Ae.e)("viewReceipt")}),Object(u.jsxs)(ht.a,{"data-testid":"pastorder-card-button-test",className:"pastorder-card-button","aria-label":"Reorder button",children:[Object(u.jsx)("img",{src:il,className:"account-icon mr-1"}),Object(u.jsx)("span",{onClick:function(){a(t),function(e,t){ll({eventType:"reorder",selectedData:e.name?e.name:vl(e.orderedOn,b)},"orderName")}(t)},"data-testid":"pastorder-btn-test-".concat(null===t||void 0===t?void 0:t.id),children:Object(Ae.e)("reorderBtn")})]})]})]})},Ol=function(e){var t=e.onCancel,n=e.onContinue,a=sl.CLEAR_CART_MSG,i=sl.CLEARE_AWARE_MSG,c=sl.CLEAR_CART_COMPLETE_MSG;return Object(u.jsxs)("div",{className:"reorder-modal-container",children:[Object(u.jsxs)("div",{className:"reorder-error-container",children:[Object(u.jsx)("img",{src:Xd,alt:"error-cart-icon",className:"error-icon mb-3"}),Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(u.jsx)("span",{children:Object(Ae.e)(i)}),Object(u.jsx)("span",{className:"red-text",children:Object(Ae.e)(a)}),Object(u.jsx)("span",{children:Object(Ae.e)(c)})]})]}),Object(u.jsxs)("div",{className:"reorder-modal-btn",children:[Object(u.jsx)(ht.a,{"data-testid":"confirmation-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(Ae.e)("cancel")}),Object(u.jsx)(ht.a,{"data-testid":"continue-button",className:"button blackButton blackBorder save-button",onClickHandler:n,children:Object(Ae.e)("continue")})]})]})},ml=n(66),fl=n.n(ml),pl=n(132),hl=sl.DELIVER_TO,gl=sl.TOTAL,xl=sl.DISCOUNT,Nl=sl.SUBTOTAL,El=sl.WHEN,Tl=sl.PLEASE_REVIEW_YOUR_ORDER,Il=sl.TODAY,Cl=sl.ASAP,Sl=sl.ITEMS,Al=sl.WANT_TO_MODIFY,yl=sl.ITEM_ADDED_TO_CART_MSG,_l=sl.KEEP_SHOPING,Dl=sl.ADD_A_COUPON,Rl=sl.CONTINUE_TO_PAYMEN,wl=sl.PRICE_CHANGE_MAIN,Ll=sl.PRICE_CHANGE_TEXT,kl=sl.UNAVAILABLE,Pl=sl.TAKEAWAY,Ml=sl.DINE_IN_TEXT,Fl=sl.STORE_CLOSED,Hl=sl.GENERIC_ERROR,Ul=sl.GST,Bl=sl.CLOSED,Yl=sl.SET_DISPOSITION,Gl=sl.SEARCH_IN_CART,Kl=sl.LARGE_CARRY_BAG,Vl=sl.ADD_HOPE_TEXT,Wl=sl.DISPOISTIONUN_AVAL,ql=sl.UNAVAILABLE_ERROR,zl=sl.QUICK_ORDER;var Ql=function(e){var t=e.onCancel,n=e.onContinue,c=e.onAddCoupon,r=e.storeInfo,s=void 0===r?{}:r,d=e.isBasketAdded,l=s.summary,b=void 0===l?{}:l,v=s.service,O=void 0===v?"":v,m=Object(T.wb)(b).status,f=void 0===m?{}:m,p=Object(T.wb)(f).currentStatus,h=(void 0===p?"":p)!==Bl,g=Object(E.b)(),x=Object(i.useState)(0),N=Object(j.a)(x,2),C=N[0],y=N[1],_=Object(i.useState)(0),D=Object(j.a)(_,2),R=D[0],w=D[1],L=Object(i.useState)(!1),k=Object(j.a)(L,2),P=k[0],M=k[1],F=Object(i.useState)(!1),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=Object(i.useState)(),G=Object(j.a)(Y,2),K=G[0],V=G[1],W=Object(i.useContext)(I.a),q=W.userOrderState,z=W.userOrderStateDispatch,Q=Object(i.useState)(""),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)(""),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(0),ie=Object(j.a)(ae,2),ce=ie[0],oe=ie[1],re=Object(i.useState)(0),de=Object(j.a)(re,2),le=de[0],ue=de[1],be=Object(i.useState)([]),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(!1),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)(!1),xe=Object(j.a)(ge,2),Ne=xe[0],Ee=xe[1],Te=Object(i.useState)(!1),Ie=Object(j.a)(Te,2),Ce=Ie[0],Se=Ie[1],ye=Object(T.Eb)(q.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):q.dispositionNew,_e=Object(E.c)((function(e){return e})),Re=_e.tenantReducer,we=_e.postOrderReducer,Le=_e.reorderReducer,ke=_e.cartReducer,Pe=_e.profileReducer,Me=_e.appStateReducer,Fe=((_e.menuReducer||{}).data||{}).categories,He=void 0===Fe?[]:Fe,Ue=Object(Ae.e)(Fl),Be=null===Ue||void 0===Ue?void 0:Ue.replace("%storeName%",null===b||void 0===b?void 0:b.name),Ye=Object(o.f)(),Ge=Object(T.wb)(ke),Ke=Ge.cartData,Ve=void 0===Ke?{}:Ke,We=Ge.qrCodeScanTime,qe=Object(T.wb)(Ve).errors,ze=void 0===qe?[]:qe,Qe=Re.tenantId,Je=Re.currencySymbol,Xe=Re.currencyConversionFactor,Ze=Re.addHope,$e=Re.carryBag,et=Object(T.wb)(we).orderAccepted,tt=void 0===et?{}:et,nt=Le.flatResponse,at=Object(T.wb)(nt).items,it=void 0===at?[]:at,ct=Pe.customerId,ot=cn.timingsSampleData,rt=Object(T.wb)(Me).userStatus,st=tt.deliveryAddress,dt=void 0===st?{}:st,lt=tt.foodLines,ut=void 0===lt?[]:lt,bt=tt.subTotal,vt=tt.total,jt=tt.taxLines,Ot=void 0===jt?[]:jt,mt=tt.additionalChargeLines,ft=void 0===mt?[]:mt,pt=tt.store,gt=void 0===pt?{}:pt,xt=tt.service,Nt=void 0===xt?"":xt,Et=tt.lang,Tt=void 0===Et?"":Et,It=tt.source,Ct=void 0===It?"":It,St=tt.catalog,At=void 0===St?"":St,yt=tt.inclusiveTaxTotal,Dt=tt.discountTotal,Rt=Object(T.wb)(gt),wt=Rt.storeId,Lt=void 0===wt?"":wt,kt=(Rt.name,Rt.address),Pt=void 0===kt?{}:kt,Mt=Object(a.a)(Object(a.a)(Object(a.a)({},s),gt),{},{id:Lt,addresses:[{address:{addressLines:[Object(T.U)(Pt)]},lang:Tt}],name:[{lang:Tt,value:gt.name}]});Object(i.useEffect)((function(){if(Object(T.u)(Ze,$e)){ua(tt,Ze,$e,Gl,{setAddHopeDataExistsId:ne,setAddHopeDataPrice:oe},{setCarryBagDataExistsId:Z,setCarryBagDataPrice:ue},Re);var e=Object(T.Q)(ut,Ze,$e);Oe(e),function(e,t,n,a,i){e||t(n)}(d,Ut,e)}}),[tt]);var Ft=function(e){var t=[],n=0,a=0;return null===e||void 0===e||e.map((function(e){var i=Bt(e.item.id,it);"hidden"!==i&&(i?i&&i!==e.unitPrice?(a+=1,t.push({Id:e.item.id,quantity:e.quantity})):t.push({Id:e.item.id,quantity:e.quantity}):n+=1)})),y(n),w(a),{unAval:n,itemArr:t}},Ht=function(e){var t,n,i,c,o,r;g(Object(_t.o)());var s=Ft(e);!function(e,t,n,a,i){t.unAval!==n.length&&e(Object(_t.a)({params:{basketId:a},tenantId:i},t.itemArr))}(g,s,e,Ne,Qe);var d=(null===b||void 0===b?void 0:b.timings)||ot,l=d.futureDates,u=d.scheduled,v=d.asap,j=(null===u||void 0===u||null===(t=u.periods)||void 0===t?void 0:t.length)&&u.periods[0],O=j.interval,m=void 0===O?0:O,f=j.startEndTime,p=void 0===f?{}:f,h=p.from,x=p.to;$i(h,x,m,null===v||void 0===v?void 0:v.isAvailable,1===l.length&&"INDIA"===(null===Re||void 0===Re?void 0:Re.country));var N={time:"ASAP",interval:null===Mt||void 0===Mt||null===(n=Mt.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"};g(Object(Pa.b)(Object(a.a)(Object(a.a)({},rt),{},{localized:!0})));var E="".concat(null===dt||void 0===dt||null===(r=dt.addressLines)||void 0===r?void 0:r.join("")," ").concat(null===dt||void 0===dt?void 0:dt.city," ").concat(null===dt||void 0===dt?void 0:dt.state," ").concat(null===dt||void 0===dt?void 0:dt.country);z({type:Yl,value:{newValue:{type:Object(T.J)(Nt),store:Mt,date:N.date,time:N.time,interval:N.interval,selectedTime:N.selectedTime,deliveryAddress:E},oldvalue:ye}}),localStorage.setItem("dispositionNew",JSON.stringify({type:Object(T.J)(Nt),store:Mt,time:N.time,date:N.date,selectedTime:N.selectedTime,interval:N.interval,deliveryAddress:E})),localStorage.setItem("dispositionOld",JSON.stringify(ye))};Object(i.useEffect)((function(){pe&&(he(!1),Ht(je))}),[it,je,pe,d]);var Ut=function(e){var t,n={storeId:Object(T.yb)(Lt),service:Nt,channel:wa.b.channel,requestedDateTime:{isForNow:!0,futureDateTime:0},customerId:ct,deliveryAddress:Object(a.a)(Object(a.a)({},dt),{},{name:Object(T.yb)(null===dt||void 0===dt?void 0:dt.name),pinCode:Object(T.yb)(null===dt||void 0===dt?void 0:dt.pinCode)}),catalog:At,lang:Tt,source:Ct},i=Object(T.Mb)(We),c=localStorage.getItem(S.P.STORE_ID),o=null===(t=localStorage.getItem(S.P.DISPOSITION_TYPE))||void 0===t?void 0:t.toLowerCase();i&&We&&(null===n||void 0===n?void 0:n.storeId)===c&&(null===n||void 0===n?void 0:n.service)===o?n.qrOrder={isQROrder:!0,qrScannedTime:We}:g(Object(_t.j)("")),g(Object(_t.e)({data:n,tenantId:Qe,successCallback:null,errorCallback:function(){return Ft(e)}}))};Object(i.useEffect)((function(){if(d){var e=Ve.id;Ee(e),g(Object(pl.b)({tenantId:Qe,catalogName:At},{storeId:Lt,channel:wa.b.channel,service:Nt},(function(){return he(!0)})))}}),[d,je]);var Bt=function(e,t){var n,a,i,c,o,r=Object(De.h)(),s=t.filter((function(t){return t.id===e}))||{},d=null===(n=s[0])||void 0===n||null===(a=n.availability[0])||void 0===a?void 0:a.availableHours,l=null===d||void 0===d?void 0:d.startTime.time,u=null===d||void 0===d?void 0:d.endTime.time,b=Object(De.d)(r,l,u);return(null===(i=s[0])||void 0===i?void 0:i.isHidden)?"hidden":b?null===(c=s[0])||void 0===c||null===(o=c.availability[0])||void 0===o?void 0:o.price:b},Yt={foodLineItem:je,checkProductPriceAndAvail:Bt,flatResItems:it,reOrderAnalyticEvent:Ce,categories:He};Object(i.useEffect)((function(){var e=function(e,t,n,a,i,c,o){var r=!1,s="";if(t){if(e.length>0)s=Object(Ae.e)(Hl);else if(a>0)s=Object(Ae.e)(ql);else if(i>0)s=i+" "+Object(Ae.e)(Ll)+" "+Object(Ae.e)(wl),r=!0;else if(null===c){var d=Object(Ae.e)(Wl);s=null===d||void 0===d?void 0:d.replace("%disposition%",Object(T.J)(o))}}else s=n;return{error:s,isPriceChange:r}}(ze,h,Be,C,R,b,O),t=Object(T.u)(C>0,C!==je.length);B(Object(T.pb)(Object(T.v)(e.isPriceChange,t),!1,""!==e.error)),Se(Object(T.pb)(Object(T.z)(e.isPriceChange,t,""===e.error),!0,!1)),M(""!==e.error),V(e.error)}),[it,C,R,h,ze,b]),Object(i.useEffect)((function(){!function(e,t,n){e&&Object(T.M)(Object(Ae.e)(t),n)}(P,zl,K)}),[P]),Object(i.useEffect)((function(){}),[Ce,He]);var Gt=function(e){return e.toFixed(2)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"ReorderModal",children:[Object(u.jsx)("div",{className:"reorder-header",children:Object(u.jsx)("span",{className:"your-order",children:Object(Ae.e)(Tl)})}),P&&Object(u.jsx)("div",{className:"error-container",children:Object(u.jsx)("div",{className:"error-sub-container",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon mr-1"}),Object(u.jsx)("div",{className:"error-msg",children:K})]})})}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"reorder-order-detail",children:["delivery"===Nt.toLowerCase()&&Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsx)("span",{className:"reorder-sub-heading",children:Object(Ae.e)(hl)}),Object(u.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(T.a)(dt)})]}),"delivery"!==Nt.toLowerCase()&&Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsxs)("span",{className:"reorder-sub-heading",children:["dine-in"===Nt.toLowerCase()&&Object(Ae.e)(Ml),"pickup"===Nt.toLowerCase()&&Object(Ae.e)(Pl)+" FROM"]}),Object(u.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(T.U)(Pt)})]}),Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsx)("span",{className:"reorder-sub-heading",children:Object(Ae.e)(El)}),Object(u.jsxs)("span",{className:"reorder-sub-detail width-style",children:[Object(Ae.e)(Il)," ",Object(Ae.e)(Cl)]})]})]}),Object(u.jsx)("section",{className:"reorder-accordian",children:Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsxs)(se,{header:"".concat(da(je)," ").concat(Sl),"data-testid":"order-details",children:[je.map((function(e){var t,n,a,i=Bt(e.item.id,it);return Object(u.jsx)("section",{className:"",children:Object(u.jsxs)("div",{className:"reorder-order-item",children:[Object(u.jsxs)("div",{className:"reorder-item-details mt-2",children:[Object(u.jsx)("div",{className:"item-count-box mr",children:Object(u.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(u.jsxs)("div",{className:"item-desc-section",children:[Object(u.jsx)("span",{className:"item-desc",children:null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.name}),Object(u.jsx)("span",{className:"item-desc-quantity",children:(a=null===e||void 0===e?void 0:e.item,fl()(a,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return" ".concat(e.quantity,"x ").concat(e.name)})).join())})]})]}),!i&&Object(u.jsxs)("div",{className:"unavialble-alert",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),Object(u.jsx)("span",{className:"alert-text",children:Object(Ae.e)(kl)})]}),i&&i!==e.unitPrice&&Object(u.jsxs)("div",{className:"cart-item-price",children:[Object(u.jsxs)("span",{className:"old-price",children:[Je,Gt(e.unitPrice/Xe)]}),Object(u.jsxs)("span",{className:"modified-price",children:[Je,Gt(i/Xe)]})]}),i===e.unitPrice&&Object(u.jsxs)("span",{className:"item-amount",children:[Je,Gt((null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.unitPrice)/Xe)]})]})})})),Object(u.jsxs)("div",{className:"reorder-modification-box mb-4",children:[Object(u.jsx)("span",{className:"reorder-heading mt-3",children:Object(Ae.e)(Al)}),Object(u.jsx)("span",{className:"reorder-subheading mt-2",children:Object(Ae.e)(yl)}),Object(u.jsxs)("div",{className:"reorder-modal-btn mt-3 mb-3",children:[Object(u.jsx)(ht.a,{"data-testid":"keep-shoping-button",className:"button whiteButton ".concat(h?"blackBorder":"grayButton"),onClickHandler:h?function(){ll("keepShopping"),ul(Xe,Yt),Ye.push({pathname:"/menu"}),sessionStorage.setItem("reorderClick",!1)}:null,children:Object(Ae.e)(_l)}),Object(u.jsx)(ht.a,{"data-testid":"add-coupon-button",className:"button whiteButton ".concat(h?"blackBorder":"grayButton"),onClickHandler:Object(T.pb)(!h,null,(function(){c(Xe,Yt,ul)})),children:Object(Ae.e)(Dl)})]})]})]})})}),Object(u.jsxs)("div",{className:"reorder-order-detail",children:[Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ae.e)(Nl)}),Object(u.jsxs)("span",{className:"payment-amount",children:[Je,Gt(bt/Xe)]})]}),Ot&&Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Ul}),Object(u.jsxs)("span",{className:"payment-amount",children:[Je,Gt(yt/Xe)]})]}),ft.map((function(e){return Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:e.chargeType}),Object(u.jsxs)("span",{className:"payment-amount",children:[Je,Gt(e.amount/Xe)]})]})})),Dt>0&&Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ae.e)(xl)}),Object(u.jsxs)("span",{className:"payment-amount",children:["\u2013 ",Je,Gt(Dt/Xe)]})]}),"PICKUP"===Nt.toUpperCase()&&X&&Object(u.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ae.e)(Kl)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:le})]}),Boolean(te)&&Object(u.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ae.e)(Vl)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ce})]}),Object(u.jsxs)("div",{className:"reorder-payment-details mt",children:[Object(u.jsx)("span",{className:"payment-total",children:Object(Ae.e)(gl)}),Object(u.jsxs)("span",{className:"payment-total-amount",children:[Je,Gt(vt/Xe)]})]})]})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)(ht.a,{"data-testid":"quick-reorder-cancel",className:"button whiteButton blackBorder cancel-btn btn-quick-order",onClickHandler:t,children:Object(Ae.e)(cl)}),Object(u.jsx)(ht.a,{"data-testid":"quick-order-continue-button",className:"button ".concat(Object(T.pb)(U,"grayButton","redButton")," "),onClickHandler:Object(T.pb)(U,null,(function(){n(Xe,Yt,ul)})),children:Object(Ae.e)(Rl)})]})]})},Jl=n(222),Xl=function(e){var t="";switch(e){case S.Z.PHONEPE:t="phonePay";break;case S.Z.GOOGLE_PAY_SPOT:t="googlePay";break;case S.Z.PAYTM:t="paytm"}return t},Zl=function(e){var t=e.paymentsContentReducer,n=(t=void 0===t?{}:t).tendersContent,a=(n=void 0===n?{}:n).items;return void 0===a?[]:a};function $l(e){var t=e.tender,n=e.setTender,c=e.allowedTenders,o=e.setIsValid,r=e.children,s=Object(E.b)();Object(i.useEffect)((function(){s(Object(yt.a)({object:Object(C.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]);var d=Object(Jl.a)(Zl,(function(e){var t,n,i=[],c=null===(t=JSON.parse(null!==(n=localStorage.getItem(S.l.Setting.Storage.Store))&&void 0!==n?n:null))||void 0===t?void 0:t.module;return e.forEach((function(e){var t=e.fields;if(!c||function(e){var t;return null===c||void 0===c||null===(t=c.tenders)||void 0===t?void 0:t.includes(e)}(null===t||void 0===t?void 0:t.title)){var n=Object(a.a)(Object(a.a)({},t),"icon"in t&&Object(a.a)({},{icon:t.icon.fields.desktopImage.fields.file}));i.push(n)}})),i.sort((function(e,t){var n=e.title,a=t.title;return n>a?1:a>n?-1:0}))})),l=Object(E.c)(d);return Object(u.jsx)("div",{className:"payment-option-container",children:l&&c&&(null===l||void 0===l?void 0:l.map((function(e){var i=e.displayName,s=e.title,d=e.shortDescription,l=e.icon,b=(l=void 0===l?{}:l).url;return Object(u.jsx)(u.Fragment,{children:(null===c||void 0===c?void 0:c.includes(s.toLowerCase()))&&Object(u.jsxs)("div",{tabIndex:"0",className:"payment-option",children:[Object(u.jsx)("div",{className:"payment-option-header",children:Object(u.jsxs)("label",{for:s,className:"tender-type-label radioBtnsOption","data-testid":"radio-label-".concat(s),children:[Object(u.jsx)("input",{type:"radio",id:s,"data-testid":"radio-handler-".concat(s),name:"Tenders",value:s,onChange:function(e){return function(e,i,c){o(!1);var r=e.target.value;n(Object(a.a)(Object(a.a)({},t),{},{name:r,payload:{displayName:i,url:c}})),o(r===S.Z.PAY_BY_CASH||r===S.Z.PAYTM||r===S.Z.PHONEPE||r===S.Z.UPI||r===S.Z.GOOGLE_PAY_SPOT)}(e,i,b)}}),Object(u.jsx)("span",{className:Xl(s)}),!!i&&s!==S.Z.PAYTM&&i,!!b&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:b,alt:"".concat(Xl(s)),className:"tender-image"})}),!!d&&Object(u.jsx)("p",{children:d})]})}),((null===t||void 0===t?void 0:t.name)===S.Z.CREDIT_CARD||(null===t||void 0===t?void 0:t.name)===S.Z.NET_BANKING||(null===t||void 0===t?void 0:t.name)===S.Z.OTHER_WALLET||(null===t||void 0===t?void 0:t.name)===S.Z.GIFT_CARD)&&s===(null===t||void 0===t?void 0:t.name)&&Object(u.jsx)("div",{className:"payment-option-child ".concat(s===(null===t||void 0===t?void 0:t.name)?"active":""),children:r})]})})})))})}var eu=n(389),tu=n(276),nu="insufficientBalance",au="invalidcardNumber",iu="emptyCardNumber",cu="emptyPin",ou="invalidPin",ru="Check Balance",su="recipientemailplaceholder",du="usernameplaceholder",lu="useremailplaceholder",uu="userphoneplaceholder",bu="messageplaceholder",vu="Cancel",ju="Continue to Payment",Ou="cardNumberText",mu="pinNumber",fu="balance",pu="mandatorynote",hu="custom",gu="Active",xu="InActive",Nu={RECP_EMAIL:"recpt_mail",USER_FULL_NAME:"user_fullName",USER_EMAIL:"user_email",USER_PHONE:"user_phone",MESSAGE:"message"},Eu="MESSAGE",Tu="INFORMATION",Iu=/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,Cu=/[0-9]/,Su=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+/,Au={GIFTCARD_HEADER:"giftCardInformation",GIFTCARDNUM_INPUT:"giftcardNumber",GIFTCARDPN_INPUT:"pinNumber",EMAIL_ADDR:"Email Address",CANCEL_BUTTONT:"cancel",SUBMIT_BUTTON:"Submit",BALANCE_TEXT:"Balance:",CHECKBALANCE_BUTTON:"checkBalance",RESET_BUTTON:"Reset",INVALID_MODALTITLE:"ecard",INVALID_MODALCONTENT:"invalidcardNumber",INVALID_OKBUTTON:"OK"},yu={GIFTCARDNUM_SHOW:"giftCardnum",GIFTCARDNUM_SHOWSHOW:"giftpinNum",EMAIL_SHOW:"Email Address"},_u={CONGRATS_TEXT:"Congratulation",FEEDBACK_MESSAGE:"giftCardPurchageMsg",BUY_NEWGIFTCARD:"buyGiftCard"},Du={FAILURE_TEXT:"purchasefailureheader",FAILURE_MESSAGE:"purchasefailuremsg",RETRY:"failureretry"},Ru="paymentdeclined",wu="selectYourPaymentScreenHeader",Lu=wu,ku=function(e){return e?"error":""},Pu=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,!t||t.length<2?(i.error=!0,i.errorMessage=Object(Ae.e)("emptyName")):(n=t,!nn.b.test(n)||t.length>26?(i.error=!0,i.errorMessage=Object(Ae.e)("invalidName")):(i.error=!1,i.errorMessage="")),i};function Mu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=Object(i.useState)({value:"",errorMessage:"",error:!1}),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(Object(T.Lb)(window.innerWidth)),v=Object(j.a)(b,2),O=v[0],m=v[1];Object(i.useEffect)((function(){l({value:"",errorMessage:"",error:!1})}),[]);var f,p={emptyCardNumber:Object(Ae.e)("emptyCardNumber"),invalidCardNumber:Object(Ae.e)("invalidCard"),emptyExpiryDate:Object(Ae.e)("emptyExpiry"),invalidExpiryDate:Object(Ae.e)("invalidExpiry"),emptyCVC:Object(Ae.e)("emptyCvv"),invalidCVC:Object(Ae.e)("invalidCvv")},h=Object(eu.a)({errorMessages:p}),g=h.meta,x=h.getCardNumberProps,N=h.getExpiryDateProps,I=h.getCVCProps,C=h.getCardImageProps,S=h.getZIPProps,A=g.erroredInputs,y=g.touchedInputs,_=function(e){var i,c=e.target,o=c.name,r=c.value;!function(e,t){e&&t()}("name"===o,(function(){return l(Object(a.a)({},Pu(d,r)))})),n(Object(a.a)(Object(a.a)({},t),{},(i={},Object(Le.a)(i,o,Object(T.yb)(r).trim()),Object(Le.a)(i,"svgSource",C({images:tu.a})),i)))},D=function(){var e=Object(T.Lb)(window.innerWidth);m(e)},R=Object(E.c)((function(e){return e.tenantReducer})).countryCode;return Object(i.useEffect)((function(){Object(T.Sb)()}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",D)}),[O]),Object(i.useEffect)((function(){o(Object(T.pb)(!Object.values(A).filter(Boolean).length,!0,!1))}),[A]),Object(i.useEffect)((function(){Dn(Object(Ae.e)(Lu),d.error,d.errorMessage)}),[d.errorMessage,d.error]),Object(i.useEffect)((function(){var e=y.cardNumber&&A.cardNumber;Dn(Object(Ae.e)(Lu),e,A.cardNumber)}),[y.cardNumber,A.cardNumber]),Object(i.useEffect)((function(){var e=y.expiryDate&&A.expiryDate;Dn(Object(Ae.e)(Lu),e,A.expiryDate)}),[y.expiryDate,A.expiryDate]),Object(i.useEffect)((function(){var e=y.cvc&&A.cvc;Dn(Object(Ae.e)(Lu),e,A.cvc)}),[y.cvc,A.cvc]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"col-12 payment-form-credit-card-container",children:[!O&&Object(u.jsx)("p",{className:"payment-mandatory-note",children:Object(Ae.e)("mandatorynote")}),Object(u.jsx)("div",{className:"row creditCardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)(At,{type:"text",required:!0,"data-testid":"material-input",name:"name",placeholder:Object(Ae.e)("nameOnCardText"),onChange:function(e){return _(e)},inputTestId:"cc-name-handler",autoComplete:"cc-name",onBlur:function(e){return _(e)},className:ku(d.error),labelClassName:ku(d.error),maxLength:"26"}),Object(u.jsxs)("label",{className:(f=d.error,f?"error":" "),children:[d.error&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:d.errorMessage})]})]})}),Object(u.jsx)("div",{className:"row creditCardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},x()),{},{required:!0,"data-testid":"card-number-handler",className:"".concat(Object(T.pb)(A.cardNumber&&y.cardNumber,"error","")),onInput:function(e){return _(e)},autoComplete:"cc-number"})),Object(u.jsx)("label",{className:"".concat(Object(T.pb)(A.cardNumber&&y.cardNumber,"error","")),"data-testid":"card-number-handler",htmlFor:"cardNumber",children:Object(Ae.e)("cardNumberText")})]}),Object(u.jsxs)("label",{className:"".concat(Object(T.pb)(A.cardNumber&&y.cardNumber,"error","")),children:[y.cardNumber&&A.cardNumber&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.cardNumber&&A.cardNumber})]}),Object(u.jsx)("div",{className:"card-number-image",children:Object(u.jsx)("svg",Object(a.a)({},C({images:tu.a})))})]})}),Object(u.jsxs)("div",{className:"row creditCardRow",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},N()),{},{id:"expiryDate",required:!0,onInput:function(e){return _(e)},"data-testid":"expiry-date-handler",className:"".concat(Object(T.pb)(A.expiryDate&&y.expiryDate,"error","")),autoComplete:"cc-exp"})),Object(u.jsx)("label",{className:"".concat(Object(T.pb)(A.expiryDate&&y.expiryDate,"error","")),"data-testid":"expiry-date-handler",htmlFor:"expiryDate",children:Object(Ae.e)("mmddText")})]}),Object(u.jsxs)("label",{className:"".concat(Object(T.pb)(A.expiryDate&&y.expiryDate,"error","")),children:[y.expiryDate&&A.expiryDate&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.expiryDate&&A.expiryDate})]})]}),Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},I()),{},{id:"cvvData",required:!0,"data-testid":"cvv-handler",className:"".concat(A.cvc&&y.cvc?"error":""),onInput:function(e){return _(e)},autoComplete:"cc-csc",type:"password"})),Object(u.jsx)("label",{className:"".concat(A.cvc&&y.cvc?"error":""),"data-testid":"cvv-handler",htmlFor:"cvvData",children:Object(Ae.e)("cvvText")})]}),Object(u.jsxs)("label",{className:"".concat(A.cvc&&y.cvc?"error":""),children:[y.cvc&&A.cvc&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.cvc&&A.cvc})]})]})]}),"in"!==R[0]&&Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},S()),{},{id:"zip",required:!0,onInput:function(e){return _(e)},"data-testid":"zip-handler",className:"".concat(A.zip&&y.zip?"error":""),autoComplete:"off"})),Object(u.jsx)("label",{className:"".concat(A.zip&&y.zip?"error":""),"data-testid":"zip-handler",htmlFor:"zip",children:Object(Ae.e)("billingPostalCodeText")})]}),Object(u.jsxs)("label",{className:"".concat(A.zip&&y.zip?"error":""),children:[y.zip&&A.zip&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.zip&&A.zip})]})]})})]})})}var Fu=function(e){var t=e.source,n=e.onClick,a=e.onChange,o=e.className,r=e.isDisplayLabel,s=void 0===r||r,d=e.label,l=e.labelClassName,b=e.optionLabelFieldName,v=e.optionCustomLabelFn,O=e.optionValueFieldName,m=e.optionClassName,f=e.selectedValue,p=e.placeholder,h=e.placeholderClassName,g=e.customSelectedLabelFn,x=e.dropdownClassName,N=function(e){return null===t||void 0===t?void 0:t.filter((function(t){return t[O]===e}))[0]},E=Object(i.useRef)(),T=Object(i.useState)(!1),I=Object(j.a)(T,2),C=I[0],S=I[1],A=Object(i.useState)(N(f)),y=Object(j.a)(A,2),_=y[0],D=y[1],R=function(e){var t=e.target.getAttribute("name");S(!("customSelect"!==t&&"customSelectSpan"!==t&&"customSelectArrow"!==t||C)&&!C),n&&n(e)},w=function(e,t,n){D(N(n)),a&&a(e,t,n),S(!1)},L=function(e){var t=e.target.getAttribute("name");"customSelect"!==t&&"customSelectSpan"!==t&&"customSelectArrow"!==t&&"customSelectOption"!==t&&"customSelectOptionSpan"!==t&&S(!1)},k=function(e){27===e.keyCode&&S(!1)};return Object(i.useEffect)((function(){return document.addEventListener("click",L,!1),document.addEventListener("keydown",k),function(){S(!1),document.removeEventListener("click",L,!1),document.removeEventListener("keydown",k)}}),[]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"global-custom-select-container col-12",children:[s&&Object(u.jsx)("span",{for:"customSelect",className:l||"",children:d}),Object(u.jsxs)(ht.a,{class:"customSelect",ref:E,className:"".concat(o||""),onClickHandler:R,onKeyDownHandler:k,"data-testid":"customSelect",children:[Object(u.jsx)("span",{name:"customSelectSpan",className:h||"",onClick:R,"data-testid":"customSelectSpan",children:_&&g?g(_):_&&_[b]?_[b]:p||""}),Object(u.jsx)("img",{name:"customSelectArrow",className:"dropdown-img ".concat(C?"upArrow":""),onClick:R,"data-testid":"customSelectArrow",alt:""}),t&&Object(u.jsx)("div",{name:"customSelectList",className:"\n                global-custom-select-dropdown col-12 \n                ".concat(C?"open ":"","  \n                ").concat(x||""),children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(ht.a,{class:"customSelectOption",className:"global-custom-select-dropdown-option col-12 \n                  ".concat(m||""),onClickHandler:function(t){return w(t,e,e[O])},"data-testid":"customSelectOption",children:Object(u.jsx)("span",{name:"customSelectOptionSpan","data-testid":"customSelectOptionSpan",onClick:function(t){return w(t,e,e[O])},children:v?v(e):e[b]})})}))})]})]})})};function Hu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=e.tender,s=Object(i.useState)([]),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(E.c)((function(e){return e})).paymentsReducer;Object(i.useEffect)((function(){var e=[];if(v&&(!l||0===(null===l||void 0===l?void 0:l.length))){var t,n,a;switch(null===r||void 0===r?void 0:r.name){case S.Z.NET_BANKING:(null===v||void 0===v?void 0:v.configuration)&&(e=null===v||void 0===v?void 0:v.configuration);break;case S.Z.OTHER_WALLET:(null===v||void 0===v?void 0:v.otherWallets)&&(e=null===v||void 0===v?void 0:v.otherWallets)}if(e&&(null===(t=e)||void 0===t?void 0:t.length)>0&&(null===(n=e)||void 0===n?void 0:n.sort))b(null===(a=e)||void 0===a?void 0:a.sort((function(e,t){return e.displayOrder-t.displayOrder})))}}),[v]);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(Fu,{source:l,optionLabelFieldName:"bankName",optionValueFieldName:"bankId",placeholder:Object(T.pb)((null===r||void 0===r?void 0:r.name)===S.Z.NET_BANKING,Object(Ae.e)("selectYourBankHeader"),Object(Ae.e)("selectYourOtherWalletHeader")),customSelectedLabelFn:function(e){switch(null===r||void 0===r?void 0:r.name){case S.Z.NET_BANKING:return e&&(null===e||void 0===e?void 0:e.bankName)?null===e||void 0===e?void 0:e.bankName:Object(Ae.e)("selectYourBankHeader");case S.Z.OTHER_WALLET:return e&&(null===e||void 0===e?void 0:e.bankName)?Object(Ae.e)("otherWallet")+": "+(null===e||void 0===e?void 0:e.bankName):Object(Ae.e)("selectYourOtherWalletHeader")}},onChange:function(e,i,c){n(Object(a.a)(Object(a.a)({},t),{},{bankId:c,bankName:null===i||void 0===i?void 0:i.bankName})),o(!!c)}})})})}var Uu=n(155);function Bu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=Object(i.useState)(!1),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)({value:"",errorMessage:"",error:!1}),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)({value:"",errorMessage:"",error:!1}),p=Object(j.a)(f,2),h=p[0],g=p[1],x=Object(i.useState)(""),N=Object(j.a)(x,2),I=N[0],C=N[1],S=Object(i.useState)(0),A=Object(j.a)(S,2),y=A[0],_=A[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],L=R[1],k=Object(i.useState)(""),P=Object(j.a)(k,2),M=P[0],F=P[1],H=Object(i.useState)(Object(T.Lb)(window.innerWidth)),U=Object(j.a)(H,2),B=U[0],Y=U[1],G=Object(i.useState)({}),K=Object(j.a)(G,2),V=K[0],W=K[1],q=Cu,z=Object(E.c)((function(e){return e})),Q=z.tenantReducer,J=z.profileReducer,X=z.cartReducer,Z=Object(E.c)((function(e){return e.createBalanceReducer})).response,$=Object(E.b)(),ee=(Q||{}).tenantId,te=function(){var e=Object(T.Lb)(window.innerWidth);Y(e)};Object(i.useEffect)((function(){var e=function(){var e,t=null===X||void 0===X||null===(e=X.cartData)||void 0===e?void 0:e.total,n=null===Q||void 0===Q?void 0:Q.currencyConversionFactor;return t||n?t/n:0}();_(e)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",te)}),[B]),Object(i.useEffect)((function(){m({value:"",errorMessage:"",error:!1}),g({value:"",errorMessage:"",error:!1}),C("")}),[]),Object(i.useEffect)((function(){var e={customerId:J.customerId,tenantId:ee,body:{cardNumber:O.value,cardPin:h.value}};ee&&void 0!==ee&&void 0!==O.value&&void 0!==h.value&&O.value.length>15&&h.value.length>5||(C(""),o(!1)),W(e)}),[O,h]),Object(i.useEffect)((function(){Z&&oe(Z)}),[Z]),Object(i.useEffect)((function(){Dn(Object(Ae.e)(wu),null===O||void 0===O?void 0:O.error,null===O||void 0===O?void 0:O.errorMessage)}),[O.errorMessage,O.error]),Object(i.useEffect)((function(){Dn(Object(Ae.e)(wu),null===h||void 0===h?void 0:h.error,null===h||void 0===h?void 0:h.errorMessage)}),[h.errorMessage,h.error]);var ne=function(e){return e?"formElement-error":"formElement"},ae=function(e){return e?"text-danger":" "},ie=function(e,t){e&&t()},ce=function(e){var t=e.target.value,n=e.target.name;ie("cardNumber"===n,(function(){return m(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<16||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ae.e)(au)):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)(iu)),n}(O,t)))})),ie("pinNumber"===n,(function(){return g(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<6||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ae.e)(ou)):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)(cu)),n}(h,t)))}))},oe=function(e){e.cardStatus===gu?(!function(e,t){if(t>e){L(!0);var n=Object(Ae.e)(nu);F(n),o(!1)}else L(!1),F(""),o(!0)}(e.cardBalance,y),C(e.cardBalance),n(Object(a.a)(Object(a.a)({},t),{},{AdditionalAttributes:{GiftCardNumber:O.value,GiftCardPin:h.value}}))):e.cardStatus===xu&&(C(""),l(!0),o(!1),n({}))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"col-12 payment-form-credit-card-container",children:[!B&&Object(u.jsx)("p",{className:"payment-mandatory-note",children:Object(Ae.e)("mandatorynote")}),Object(u.jsx)("div",{className:"giftcardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)(At,{className:ne(O.error),type:"text",maxLength:16,onKeyPress:function(e){return function(e){q.test(e.key)||e.preventDefault()}(e)},required:!0,name:"cardNumber","data-testid":"cardNumber",placeholder:Object(Ae.e)(Ou),onChange:ce,value:O.value,inputTestId:"gc-number-handler",autoComplete:"gc-number"}),Object(u.jsxs)("div",{id:"cardNumber",className:ae(O.error),children:[O.error&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:O.errorMessage})]})]})}),Object(u.jsxs)("div",{className:"giftcardRow",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)(At,{className:ne(h.error),type:"password",maxLength:6,required:!0,name:"pinNumber","data-testid":"pinNumber",placeholder:Object(Ae.e)(mu),onChange:ce,value:h.value,inputTestId:"pin-number-handler",autoComplete:"pin-number"}),Object(u.jsxs)("div",{id:"pinNumber",className:ae(h.error),children:[h.error&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:h.errorMessage})]})]}),Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)(At,{className:ne(w),type:"text",disabled:!0,required:!0,name:"balance","data-testid":"balance",placeholder:Object(Ae.e)(fu),onChange:function(e){return function(e){var t=e.target,n=t.name,i=t.value;"cardNumber"===n?m(Object(a.a)(Object(a.a)({},O),{},Object(Le.a)({},n,(i||"").trim()))):g(Object(a.a)(Object(a.a)({},h),{},Object(Le.a)({},n,(i||"").trim())))}(e)},value:I,inputTestId:"balance-handler",autoComplete:"balance"}),Object(u.jsxs)("div",{id:"balance",className:ae(w),children:[w&&Object(u.jsx)("img",{src:Rt,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:M})]})]})]}),Object(u.jsx)("div",{className:"giftcardRow  check-balance",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(ht.a,{className:"button  whiteButton blackBorder add-more-menu","data-testid":"button",onClick:function(){$(Object(Uu.a)(V))},ariaLable:Object(Ae.e)(Au.CHECKBALANCE_BUTTON),children:Object(Ae.e)(Au.CHECKBALANCE_BUTTON)})})}),d&&Object(u.jsx)("div",{className:"checkBal-errorModal",children:Object(u.jsx)(yi,{CartAlertForm:Object(u.jsx)(Ci,{title:Object(Ae.e)(Au.INVALID_MODALTITLE),contentMsg:Object(Ae.e)(Au.INVALID_MODALCONTENT),cancelHandler:function(){l(!1)},cancelButtonText:Object(Ae.e)(Au.INVALID_OKBUTTON)})})})]})})}function Yu(e){var t=e.formPayload,n=e.setFormPayload,a=e.tender,i=e.isValid,o=e.setIsValid;return Object(u.jsxs)(c.a.Fragment,{children:[(null===a||void 0===a?void 0:a.name)===S.Z.CREDIT_CARD&&Object(u.jsx)(Mu,{formPayload:t,setFormPayload:n,isValid:i,setIsValid:o}),((null===a||void 0===a?void 0:a.name)===S.Z.NET_BANKING||(null===a||void 0===a?void 0:a.name)===S.Z.OTHER_WALLET)&&Object(u.jsx)(Hu,{isValid:i,setIsValid:o,formPayload:t,setFormPayload:n,tender:a}),(null===a||void 0===a?void 0:a.name)===S.Z.GIFT_CARD&&Object(u.jsx)(Bu,{isValid:i,setIsValid:o,formPayload:t,setFormPayload:n})]})}var Gu=n(99);function Ku(e){var t=e.isClickAddPayment,n=e.setIsClickAddPayment,a=(e.cartData,e.isValidated),c=e.basketId,o=e.tenantId,r=e.tender,s=e.setTender,d=e.isValid,l=e.setIsValid,b=(e.checkoutProps,e.formPayload),v=e.setFormPayload,O=e.setIsPaymentTypeSelected,m=(e.currencyConversionFactor,e.onClose),f=e.onSubmit,p=Object(E.b)(),h=Object(i.useState)(!1),g=Object(j.a)(h,2),x=g[0],N=g[1],I=Object(i.useState)([]),C=Object(j.a)(I,2),A=C[0],y=C[1];return Object(i.useEffect)((function(){return t&&(Object(T.m)(),p(Object(_t.w)({data:{id:c},tenantId:o},(function(e){var t;(null===e||void 0===e?void 0:e.allowedTenders)&&y(null===e||void 0===e||null===(t=e.allowedTenders)||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})));N(!0),l(!1)})))),function(){Object(T.i)()}}),[t]),Object(i.useEffect)((function(){switch(null===r||void 0===r?void 0:r.name){case S.Z.NET_BANKING:p(Object(Gu.b)({tenantId:o}));break;case S.Z.OTHER_WALLET:p(Object(Gu.c)({tenantId:o}))}}),[null===r||void 0===r?void 0:r.name]),Object(i.useEffect)((function(){a&&p(Object(_t.p)())}),[a]),Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsx)(jt.a,{children:Object(u.jsx)("div",{className:"proceedpayment-container",children:Object(u.jsx)("div",{className:"modal fade ".concat(x?"show":""),role:"dialog",children:Object(u.jsx)("div",{className:"modal-dialog modal-dialog-scrollable modal-lg",children:Object(u.jsxs)("div",{className:"modal-content",tabindex:"-1","aria-labelledby":"paymentOptionPopup",role:"dialog",children:[Object(u.jsxs)("div",{className:"modal-header-parent",children:[Object(u.jsx)("h2",{id:"paymentOptionPopup",children:Object(Ae.e)("selectYourPaymentScreenHeader")}),Object(u.jsx)("button",{id:"CloseButton",type:"button",className:"close",onClick:function(){N(!1),n(!1),l(!1),s({name:"",payload:{}}),m&&m()},"data-testid":"dialog-conatiner-close","aria-label":Object(Ae.e)("closePaymentModal"),children:"\xd7"})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsx)($l,{tender:r,setTender:s,"data-testid":"payment-opts",setIsValid:l,allowedTenders:A,children:Object(u.jsx)(Yu,{isValid:d,setIsValid:l,tender:r,formPayload:b,setFormPayload:v})})}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-dark","data-testid":"handle-submit",onClick:function(){N(!1),n(!1),O&&O(!0),f&&f()},disabled:!d,id:"submitButton",children:Object(Ae.e)("Submit")})})]})})})})})})}var Vu=n(184),Wu=n(78),qu=function(e,t,n,a,i,c,o,r,s,d){e&&!t?(n(!0),s&&s(!1),a({userEmail:i,userPhone:c}),o({name:"",payload:{}}),r&&r(!1),st({popupTitle:"SELECT YOUR PAYMENT"})):d()},zu=function(e,t,n,a){a.request.tenders.push({type:null===t||void 0===t?void 0:t.name,amount:null===n||void 0===n?void 0:n.total}),e(Object(gt.b)(a))},Qu=function(e){var t=e.reorderModalOpen,n=e.setReorderModalOpen,c=e.isQuickReorderModalOpen,r=e.setQuickReorderModalOpen,s=e.storeInfo,d=Object(i.useContext)(I.a).userOrderStateDispatch,l=Object(E.b)(),b=sl.QUICK_ORDER,v=sl.CHECKOUT,O=sl.CART,m=Object(i.useState)(t),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)(Object(T.Lb)(window.innerWidth)),x=Object(j.a)(g,2),N=x[0],C=x[1],S=Object(i.useState)({name:"",payload:{}}),A=Object(j.a)(S,2),y=A[0],_=A[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],L=R[1],k=Object(i.useState)(!1),P=Object(j.a)(k,2),M=P[0],F=P[1],H=Object(i.useState)(),U=Object(j.a)(H,2),B=U[0],Y=U[1],G=Object(i.useState)(),K=Object(j.a)(G,2),V=K[0],W=K[1],q=Object(i.useState)(!1),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)({}),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(!1),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(o.f)(),oe=Object(E.c)((function(e){return e.appStateReducer.userStatus})),re=_e.a.TENDER_DATA,se=_e.a.PAYMENET_FORM_PAYLOAD,de=Object(E.c)((function(e){return e})),le=de.cartReducer,ue=de.tenantReducer,be=de.profileReducer,ve=ue.tenantId,je=le.cartData,Oe=void 0===je?{}:je,me=le.isValidated,fe=void 0!==me&&me,pe=le.isBasketAdded,he=null===be||void 0===be?void 0:be.basic,ge=Oe||{},xe=ge.discountLines,Ne=void 0===xe?[]:xe,Ee=ge.id,Te=function(){var e=function(e){var t=Object(a.a)({},e),n=t.firstName,i=void 0===n?"":n,c=t.middleName,o=void 0===c?"":c,r=t.lastName,s=void 0===r?"":r,d=t.email,l=void 0===d?"":d,u=t.phone;return{fullName:i||(""+o?o:""+s?s:""),email:l,phone:void 0===u?"":u}}(he),t=e.phone,n=e.email;Y(t),W(n);var i=Boolean(n||t);L(i)};Object(i.useEffect)((function(){Object(T.Fb)(he)&&oe.loggedIn&&Te()}),[he]);var Ie=function(){var e=Object(T.Lb)(window.innerWidth);C(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",Ie),function(){window.removeEventListener("resize",Ie)}}),[N]);var Ce=function(){l(Object(_t.l)({basketId:Ee,tenantId:ve})),r(!1),n(!1),sessionStorage.setItem("reorderClick",!1)},Se={id:"reorderModal",role:"dialog",modalTitleId:"reorderModal",show:p,classNames:"Base-modal ".concat(N?"mobile-reorder-modal":"reorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return n(!1)},modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ye={id:"QuickReorderModal",role:"dialog",modalTitleId:"QuickReorder",show:c,classNames:"Base-modal ".concat(N?"mobile-QuickReorder-modal":"QuickReorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:Ce,modalTitle:Object(Ae.e)(b),closeDataTestId:"close-quick-reorder-modal",autoFocus:!0},De=Object(i.useState)(!1),Re=Object(j.a)(De,2),we=Re[0],Le=Re[1],ke=function(e){_(e),d({type:re,value:{tenderInfo:e,isPaymentAdded:!0}})},Pe=function(e){ee(e),d({type:se,value:{paymentFormPayload:e}})};return Object(u.jsxs)(u.Fragment,{children:[p&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},Se),{},{children:Object(u.jsx)(Ol,{onCancel:function(){return n(!1)},onContinue:function(){if(Ne.length>0&&Ee){var e=Ne.map((function(e){return e.id}));l(Object(_t.k)({params:{basketId:Ee},tenantId:ve,shouldClearCart:!0},e))}else Ee&&l(Object(_t.l)({basketId:Ee,tenantId:ve}));r(!0),h(!1)}})})),c&&!we&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},ye),{},{children:Object(u.jsx)(Ql,{storeInfo:s,cartData:Oe,onCancel:Ce,onContinue:function(e,t,n){n(e,t),qu(w,ae,ie,ee,V,B,_,null,null),Le(!0),sessionStorage.setItem("reorderClick",!1)},isBasketAdded:pe,onAddCoupon:function(e,t,n){n(e,t),F(!0),Le(!0)}})})),Object(u.jsx)(Ku,{isClickAddPayment:ae,setIsClickAddPayment:ie,onSubmit:function(){ce.push({pathname:"/".concat(v)})},onClose:function(){n(!1),Le(!1),r(!1)},cartData:Oe,isValidated:fe,basketId:null===Oe||void 0===Oe?void 0:Oe.id,tenantId:ve,tender:y,setTender:function(e){return ke(e)},isValid:Q,setIsValid:J,formPayload:$,setFormPayload:function(e){return Pe(e)}}),M&&Object(u.jsx)(wn,{"data-testid":"coupon-modal",bucketId:Ee,isOpen:M,handleClose:function(e){"true"===e?(ce.push({pathname:"/".concat(O)}),sessionStorage.setItem("reorderClick",!1)):(Le(!1),F(!1),r(!0))}})]})},Ju=n(156),Xu=n.n(Ju),Zu=void 0,$u=function(e){var t,n=e.orderItem,a=Object(E.c)((function(e){return e.tenantReducer})),c=a||{},o=c.currencySymbol,r=c.currencyConversionFactor,s=c.addHope,d=c.carryBag,l=Object(E.c)((function(e){return e.paymentsContentReducer})).tendersContent.items,b=void 0===l?[]:l,v=n.fulfillmentDateTime,O=n.deliveryAddress,m=n.store,f=n.foodLines,p=n.subTotal,h=n.total,g=n.taxLines,x=n.paymentReferences,N=n.posOrderId,I=n.inclusiveTaxTotal,S=n.additionalChargeLines,A=n.discountTotal,y=n.service,_=m.phoneNumber,D=os.d.YOUR_ORDER,R=os.d.DELIVER_TO,w=os.d.PAYMENT,L=os.d.ORDER_FROM,k=os.d.GET_DIRECTION,P=os.d.TOTAL,M=os.d.SUBTOTAL,F=os.d.ORDER,H=os.d.AT,U=os.d.COMPLETED,B=os.d.GST,Y=os.d.DISCOUNT,G=os.d.SEARCH_IN_CART,K=os.d.LARGE_CARRY_BAG,V=os.d.ADD_HOPE_TEXT,W=Object(De.l)(v,"ll"),q=Object(De.l)(v,"h:mm A"),z=Object(i.useState)(""),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(""),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(0),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=Object(i.useState)(0),re=Object(j.a)(oe,2),de=re[0],le=re[1],ue=Object(i.useState)([]),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=Object(i.useState)(!1),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=Object(E.b)();Object(i.useEffect)((function(){he(Object(yt.a)({object:Object(C.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((function(){if(Object(T.u)(s,d)){ua(n,s,d,G,{setAddHopeDataExistsId:te,setAddHopeDataPrice:ce},{setCarryBagDataExistsId:X,setCarryBagDataPrice:le},a);var e=Object(T.Q)(f,s,d);je(e)}}),[n]);var ge=function(e){return(e/r).toFixed(2)};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"reciept-header",children:[Object(u.jsx)("span",{className:"your-order",children:Object(Ae.e)(D)}),Object(u.jsxs)("span",{className:"receipt-number",children:[Object(Ae.e)(F),"# ",N]})]}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"reciept-order-detail",children:[Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ae.e)(U)}),Object(u.jsx)("span",{className:"receipt-sub-detail",children:W+" ".concat(Object(Ae.e)(H)," ")+q})]}),O&&Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ae.e)(R)}),Object(u.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[(null===O||void 0===O?void 0:O.addressLines[2])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[2],", "]}),(null===O||void 0===O?void 0:O.addressLines[1])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[1],", "]}),(null===O||void 0===O?void 0:O.addressLines[0])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[0],", "]}),(null===O||void 0===O?void 0:O.state)&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.state,", "]}),(null===O||void 0===O?void 0:O.pinCode)&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.pinCode,", "]}),(null===O||void 0===O?void 0:O.country)&&Object(u.jsx)("span",{children:null===O||void 0===O?void 0:O.country})]})]}),Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ae.e)(w)}),Object(u.jsx)("span",{className:"receipt-sub-detail",children:function(){var e,t,n,a,i,c,o,r,s=Xu()(x,{}),d=Xu()(b.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)===(null===s||void 0===s?void 0:s.paymentType)})),{});return"Only image"===(null===d||void 0===d||null===(e=d.fields)||void 0===e?void 0:e.displayFormat)?Object(u.jsx)("img",{src:null===d||void 0===d||null===(t=d.fields)||void 0===t||null===(n=t.icon)||void 0===n||null===(a=n.fields)||void 0===a||null===(i=a.desktopImage)||void 0===i||null===(c=i.fields)||void 0===c||null===(o=c.file)||void 0===o?void 0:o.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"dateCompleted",children:null===d||void 0===d||null===(r=d.fields)||void 0===r?void 0:r.displayName})}()})]}),Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Ae.e)(L)}),null!==m&&void 0!==m&&Object(u.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[m.name,Object(u.jsx)("br",{}),null===m||void 0===m||null===(t=m.address)||void 0===t?void 0:t.addressLines]})]}),Object(u.jsxs)("div",{className:"CompletedCallAndDirection mt-2",id:"DirectionTest",children:[Object(u.jsx)("span",{children:" "}),Object(u.jsxs)("span",{className:"callAndDirection",children:[Object(u.jsxs)("span",{className:"KfcphoneNums",children:[Object(u.jsx)("img",{src:xt,alt:"phone",className:"KfcphoneIcon"}),Object(u.jsx)("a",{href:"tel:"+_,className:"anchorTags",children:function(e){e.substr(0,e.indexOf(" "));var t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(_)})]}),Object(u.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:function(){return pe(!0)},children:[Object(u.jsx)("img",{src:Nt,alt:"phone",className:"KfcDirectionIcon"}),Object(Ae.e)(k)]})]})]})]}),Object(u.jsx)("section",{className:"reciept-accordian",children:Object(u.jsx)(se,{header:"".concat(ve.length," ITEM"),children:ve.map((function(e){return Object(u.jsx)("section",{className:"",children:Object(u.jsxs)("div",{className:"reciept-order-item",children:[Object(u.jsxs)("div",{className:"reciept-item-details",children:[Object(u.jsx)("div",{className:"item-count-box mr",children:Object(u.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(u.jsxs)("div",{className:"item-desc-section",children:[Object(u.jsx)("span",{className:"item-desc",children:e.item.displayName}),Object(u.jsx)("span",{className:"item-desc-quantity",children:(t=e.item,fl()(t,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return"".concat(e.quantity,"x ").concat(e.name)})).join())})]})]}),Object(u.jsxs)("span",{className:"item-amount",children:[o,ge.call(Zu,e.item.quantity*e.item.unitPrice)," "]})]})});var t}))},"orderItem-".concat(n.id))}),Object(u.jsxs)("div",{className:"reciept-order-detail",children:[Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ae.e)(M)}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge(p)]})]}),g&&Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:B}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge(I)]})]}),S.map((function(e,t){return Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsxs)("span",{className:"payment-type",children:[" ",e.chargeType]}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge.call(Zu,e.amount)," "]})]},t)})),A>0&&Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Ae.e)(Y)}),Object(u.jsxs)("span",{className:"payment-amount",children:[" ","- ",o,ge(A)]})]}),"PICKUP"===y.toUpperCase()&&J&&Object(u.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ae.e)(K)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:de})]}),Boolean(ee)&&Object(u.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Ae.e)(V)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ie})]}),Object(u.jsxs)("div",{className:"reciept-payment-details mt-4",children:[Object(u.jsx)("span",{className:"payment-total",children:Object(Ae.e)(P)}),Object(u.jsxs)("span",{className:"payment-total-amount",children:[o,ge(h)]})]}),fe&&Object(u.jsx)("div",{children:Object(u.jsx)(Ct,{"data-testid":"map-modal",isOpen:fe,handleClose:function(){return pe(!1)},OrderReducerData:n})})]})]})};var eb=function(e){var t=e.pastOrdersData,n=e.tenantReducerData,c=e.favouriteOrders,o=void 0===c?[]:c,r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(!1),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],x=Object(i.useState)({}),N=Object(j.a)(x,2),T=N[0],I=N[1],C=Object(i.useState)({}),S=Object(j.a)(C,2),A=S[0],y=S[1],_=Object(i.useRef)(null),D=$d,R=el,w=tl,L=nl,k=al,P=Object(i.useState)(!1),M=Object(j.a)(P,2),F=M[0],H=M[1],U=Object(i.useState)(0),B=Object(j.a)(U,2),Y=B[0],G=B[1],K=Object(E.b)(),V=Object(E.c)((function(e){return e})),W=V.tenantReducer,q=V.profileReducer,z=V.cartReducer,Q=V.postOrderReducer,J=V.menuReducer,X=W.tenantId,Z=(Q||{}).orderAccepted,$=void 0===Z?{}:Z,ee=q.customerId,te=z.cartData,ne=void 0===te?{}:te,ae=function(e,t){var n;return[].concat(Object(vo.a)(null===e||void 0===e||null===(n=e.slice())||void 0===n?void 0:n.filter((function(e){return void 0===t.find((function(t){return t.id===e.id}))}))),Object(vo.a)(t))}(t,o).sort((function(e,t){return t.fulfillmentDateTime-e.fulfillmentDateTime})),ie={dots:!1,infinite:!1,speed:D,slidesToShow:R,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Cr,{clickNextCard:function(){if(d<ae.length-1){var e=0;e=d+w>ae.length-R-1?ae.length-R:d+w,l(e),_.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:function(){d>0&&(l(d-w),_.current.slickGoTo(d-w))}}),beforeChange:function(e,t){return G(t)},afterChange:function(e,t){return l(e)},variableWidth:!0,responsive:[{breakpoint:L,settings:{slidesToShow:k,arrows:!0,swipeToSlide:!0}}]},ce=(ne||{}).foodLines,oe=void 0===ce?[]:ce,re=function(){oe.length>0?H(!0):(K(Object(_t.o)()),g(!0))},se=function(e){y(e);var t=e||{},n=t.store,a=void 0===n?{}:n,i=t.service,c=void 0===i?"":i,o=t.id,r=void 0===o?"":o,s=(a||{}).storeId,d=[{storeId:void 0===s?"":s,channel:wa.b.channel,service:c}];K(Object(pl.a)(d,X,(function(e){return function(e,t){var n=Xu()(fl()(e,"response",{}),{});I(n),K(Object(on.a)({tenantId:X,orderId:t,customerId:ee},re))}(e,r)}))),sessionStorage.setItem("reorderClick",!0)},de={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:O,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return m(!1)},modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},le=Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},de),{},{children:Object(u.jsx)("div",{className:"ReceiptModal",children:Object(u.jsx)($u,{orderItem:$})})}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"pastorderCard-list",children:[Object(u.jsx)(Jo,{settings:ie,carousalRef:_,children:ae&&ae.map((function(e,t){return Object(u.jsx)(jl,{"data-testid":"pastorder-list-card-test",order:e,tenantReducerData:n,menuReducer:J,reorderBtnHandler:function(){return se(e)},viewRecipetHandler:function(){return function(e){var t=(e||{}).id,n=void 0===t?"":t;K(Object(on.a)({tenantId:X,orderId:n,customerId:ee},(function(){m(!0)})))}(e)}},t)}))}),ae.length>2&&Object(u.jsx)("div",{className:"pastorder-slideContainer",children:Object(u.jsx)("input",{className:"pastorder-slider",type:"range",min:"0",max:ae.length-1,value:Y,id:"myRange","data-testid":"myRange",onChange:function(e){G(e.target.value),_.current.slickGoTo(e.target.value)}})})]}),(F||h)&&Object(u.jsx)(Qu,{storeInfo:T,currentOrderInfo:A,reorderModalOpen:F,setReorderModalOpen:H,isQuickReorderModalOpen:h,setQuickReorderModalOpen:g}),O&&le]})},tb=n.p+"static/media/CTA_Arrow.a801582c.svg",nb=function(e){var t=e.pastOrders,n=e.basic,a=e.favouriteOrders,i=e.tenantReducerData,c=e.isLoggedIn,r=Object(o.f)();return Object(u.jsxs)("div",{className:"pastorder-container",children:[c?Object(u.jsxs)("div",{className:"pastorder-left-container",children:[Object(u.jsx)("div",{"data-testid":"pastorder-strips-test",className:"pastorder-stripes"}),Object(u.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading",children:"WELCOME BACK, ".concat((null===n||void 0===n?void 0:n.firstName)||Object(Ae.e)("kfcLover"),"!")}),Object(u.jsxs)("div",{className:"pastorder-my-account-text","data-testid":"see-full-history",onClick:function(){localStorage.setItem("LoadMoreOrderHistory",!1),r.push({pathname:"/account"}),window.scrollTo(0,0)},children:[Object(Ae.e)("myAccount"),Object(u.jsx)(A.a,{srcFile:tb,className:"pastorder-my-account-arrow"})]})]}):Object(u.jsxs)("div",{className:"pastorder-left-container",children:[Object(u.jsx)("div",{"data-testid":"pastorder-strips-test",className:"pastorder-stripes"}),Object(u.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading",children:"".concat(Object(Ae.e)("welcomeTo")," ").concat(Object(Ae.e)("kfcTxt"),"!")})]}),((null===t||void 0===t?void 0:t.length)>0||(null===a||void 0===a?void 0:a.length)>0)&&Object(u.jsxs)("div",{className:"pastorder-right-container",children:[Object(u.jsxs)("div",{className:"pastorder-right-header",children:[Object(u.jsx)("div",{className:"pastorder-right-header-text",children:Object(Ae.e)("orderItAgain")}),Object(u.jsx)("div",{className:"pastorder-right-header-line"})]}),Object(u.jsx)(eb,{pastOrdersData:t,favouriteOrders:a,tenantReducerData:i}),Object(u.jsx)("p",{className:"pastorder-full-history",onClick:function(){localStorage.setItem("LoadMoreOrderHistory","GoToOrderHistory"),r.push({pathname:"/account"}),window.scrollTo(0,0)},children:Object(Ae.e)("seeFullOrderHistory")})]})]})},ab=n(370),ib=n.p+"static/media/closeButtonBanner.c7c0901f.svg",cb=function(e){var t=Object(E.c)((function(e){var t,n,a;return{smartBannerData:(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.smartBanner)||null,showBanner:(null===e||void 0===e||null===(a=e.splashLoaderReducer)||void 0===a?void 0:a.showSmartBanner)||null}})),n=t.smartBannerData,a=t.showBanner,c=(n||{}).bannerImage,o=void 0===c?{}:c,r=Object(i.useState)(Object(T.Lb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(E.b)(),v=function(){var e=Object(T.Lb)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",v)}),[d]);var O=function(){b(Object(ab.a)(!1))};return d?function(){var e,t,i;return Object(u.jsx)(u.Fragment,{children:a&&wa.b.isBrowser&&Object(T.Fb)(o)&&Object(u.jsxs)("div",{id:"kfc-banner-image",className:"kfc-banner-image","data-testid":"banner",children:[Object(u.jsx)("img",{src:ib,alt:"closeButton",className:"close-button",onClick:O,"data-testid":"close-banner"}),Object(u.jsx)("img",{src:null===o||void 0===o||null===(e=o.fields)||void 0===e||null===(t=e.file)||void 0===t?void 0:t.url,alt:null===o||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.title,className:"banner-image",useMap:"#areaClickable"}),Object(u.jsx)("map",{name:"areaClickable",children:Object(u.jsx)("area",{shape:"rect",coords:"302,0,395,63",href:null===n||void 0===n?void 0:n.url,"data-testid":"install-button"})})]})})}():null};var ob=function(e){var t=_e.a.SET_FORCERELOAD;return function(n){var c,o,r,s,d,l=Object.assign({},n),b=Object(E.c)((function(e){var t=e.menuReducer;return null!==t&&void 0!==t?t:{}})).data,v=Object(i.useContext)(I.a),j=v.userOrderState,m=(j=void 0===j?{}:j).dispositionNew,p=void 0===m?JSON.parse(localStorage.getItem("dispositionNew")):m,h=j.forceReload,g=v.userOrderStateDispatch,x=Object(T.Eb)(p)?JSON.parse(localStorage.getItem("dispositionNew")):p,N=Object(E.c)((function(e){return e.tenantReducer||{}})),C=N.tenantId,S=N.authoredContent,A=(S=void 0===S?{}:S).defaultdisposition,y=N.genericMenuName,_=f.a.SERVICE_CHANNEL,D=Object(i.useMemo)((function(){var e,t,n=null!==(e=null===x||void 0===x?void 0:x.type)&&void 0!==e?e:A;return{storeInfo:null!==(t=null===x||void 0===x?void 0:x.store)&&void 0!==t?t:{},dispositionType:Object(T.L)(n)}}),[x,A]),R=D.storeInfo,w=D.dispositionType,L=null!==(c=null!==(o=null===R||void 0===R||null===(r=R.summary)||void 0===r||null===(s=r.menu)||void 0===s||null===(d=s.catalogs)||void 0===d?void 0:d[0])&&void 0!==o?o:y)&&void 0!==c?c:"",k=w,P=null===R||void 0===R?void 0:R.id,M=Object(E.b)();return Object(i.useEffect)((function(){var e=function(e,n,a,i,c){var o=Object(O.isEmpty)(e)||i;if(i&&c({type:t,value:{forceReload:!1}}),!o&&n){var r=localStorage.getItem("storeId");r&&n===r||(localStorage.setItem("storeId",n),o=!0)}if(!o&&a){var s=localStorage.getItem("serviceType");s&&a===s||(localStorage.setItem("serviceType",a),o=!0)}return o}(b,P,k,h,g);e&&M(Object(Oi.d)({tenantId:C,catalogName:L},{storeId:P,channel:_,service:k}))}),[_,L,M,b,k,P,C,h]),Object(O.isEmpty)(b)?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(e,Object(a.a)({},l))}},rb=ob((function(e){var t,n,a,o,r,s,d,l,b=f.a.DISPOSITION,v=f.a.BROWSER_CATEGORIES,O=f.a.OFFERS_DEALS,A=f.a.CAROUSAL,y=f.a.ORDERSERV,_=f.a.ROUTING,D=f.a.CRM,R=f.a.WELCOME_MESSAGE,w=f.a.RECOMMENDATION,L=mi.a.CROSSELL,k=null,P=null,M=null,F=null,H=null,U=Object(E.b)(),B=e.location,Y=e.history,G=Object(i.useContext)(I.a),K=G.userOrderState,V=G.userOrderStateDispatch,W=Object(E.c)((function(e){return e.appStateReducer.userStatus})),q=Object(i.useState)([]),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(E.c)((function(e){return e.tenantReducer})),Z=Object(E.c)((function(e){return e.cartReducer})),$=Object(T.wb)(Z).showProductListingModal,ee=void 0!==$&&$,te=Vr,ne=Object(T.Eb)(K.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):K.dispositionNew;Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(X)?X:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:ne?ne.store:{},dispositionType:ne&&ne.type?Object(T.L)(ne.type):Object(T.L)(null===(e=X.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[ne,X]);Object(i.useEffect)((function(){var e,t,n=ii.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;if(null===Y||void 0===Y||null===(e=Y.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("qrhome")){var a,i=null===Y||void 0===Y||null===(a=Y.location)||void 0===a?void 0:a.search,c=new URLSearchParams(i).get("restaurantid"),o=_e.a.DISPOSITION_DATA;V({type:n,value:{deepLinkStoreMode:!0,deeplinkSelectedStoreId:c}}),V({type:o,value:{showDisposition:!0}}),U(Object(_t.j)())}}),[Y,V]),Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){U(Object(g.a)("in"))}),[U]),Object(i.useEffect)((function(){K.cmsInitialized&&(U(Object(N.a)({object:Object(C.a)(),syncObj:{initial:!0}})),U(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===X||void 0===X?void 0:X.country,"fields.channel":wa.b.channel,include:5}}))),U(Object(h.e)({userParams:{mode:"Web",disposition:""}}))}),[U,null===X||void 0===X?void 0:X.country,K.cmsInitialized]);Object(i.useEffect)((function(){ee&&U(Object(_t.s)({showProductListingModal:!1,categorySelected:""}))}),[B]),Object(i.useEffect)((function(){K.cmsInitialized&&U(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:W}))}),[U,W,K.cmsInitialized]);var ae=Object(E.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),orderServePageContent:m.a.get(e,"orderServReducer.offerAndDeals",null),pastOrdersData:m.a.get(e,"profileReducer.pastOrders",null),basicData:m.a.get(e,"profileReducer.basic",null),favouriteOrders:m.a.get(e,"profileReducer.favouriteOrders",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),appStateReducerContent:m.a.get(e,"appStateReducer",null),cartReducerContent:m.a.get(e,"cartReducer",null),recommendedProducts:m.a.get(e,"profileReducer.recommendedProducts",null)}}));if(ae.homePageContent&&ae.marketPageContent&&ae.tenantReducerContent&&ae.appStateReducerContent){k=Object(T.zb)(Object(T.Y)(ae.homePageContent));var ie=ae.marketPageContent.headerData||{},ce=ie.header,oe=void 0===ce?{}:ce,re=ie.tenant,se=void 0===re?[]:re,de=ie.footer,le=void 0===de?{}:de;M=Object(T.wb)(ae.orderServePageContent),P=Object(T.Z)(oe),F=Object(T.R)(le),Object(T.nb)(se),H=Object(T.vb)(ae.homePageContent&&ae.homePageContent.homeContentfulResp)}var ue=(null===(t=k)||void 0===t?void 0:t[A])&&Object(u.jsx)(rr,{contentData:null!==(n=null===(a=k)||void 0===a?void 0:a[A])&&void 0!==n?n:{},location:B,history:Y})||null,be=Object(u.jsx)(nb,{pastOrders:ae.pastOrdersData,basic:ae.basicData,favouriteOrders:ae.favouriteOrders,tenantReducerData:ae.tenantReducerContent,isLoggedIn:W.loggedIn}),ve=Object(T.Fb)(M)&&M.categories&&Object(u.jsx)(vr,{contentData:M})||null,je=Object(u.jsx)(kr,{history:Y,refreshOffers:function(){U(Object(h.e)({userParams:{mode:"Web",disposition:""}}))}}),Oe=Object(T.Fb)(k)&&k[_]&&Object(u.jsx)(Wo,{contentData:Object(T.wb)(k[_])})||null,me=Object(T.Fb)(k)&&k[D]&&Object(u.jsx)(Hr,{contentData:Object(T.wb)(k[D])})||null,fe=ae.recommendedProducts;Object(i.useEffect)((function(){(null===fe||void 0===fe?void 0:fe.length)&&J(fe)}),[fe]);var pe=Object(T.u)(Boolean(Q.length),W.loggedIn)&&Object(u.jsx)(qd,{products:Q,country:null===X||void 0===X?void 0:X.country,header:te,recommendedRule:L});return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("a",{"data-ajax":"false",className:"skiptocontent",href:"#startorder-container",children:"Skip to main content"}),Object(u.jsx)(Kr,{page:S.H}),Object(u.jsx)(cb,{}),Object(T.Fb)(P)&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)($a,{contentData:P,tenantReducerData:ae.tenantReducerContent,userParams:W})})||null,Object(u.jsxs)("div",{role:"main",children:[Object(u.jsx)("h1",{className:"sr-only",children:Object(Ae.e)(_e.a.HIDDEN_TEXT)}),Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(o=null===(r=k)||void 0===r?void 0:r[b])&&void 0!==o?o:{},contentDispositionData:null!==(s=null===(d=k)||void 0===d?void 0:d[b])&&void 0!==s?s:{}},userParams:W}),null===(l=H)||void 0===l?void 0:l.map((function(e){var t,n=e.fields.name,a=void 0===n?"":n,i=(e.sys&&e.sys.contentType&&e.sys.contentType.sys).id,c=void 0===i?"":i;return c===A?t=ue:c===y?a===R?t=be:a===v?t=ve:a===w?t=pe:a===O&&(t=je):t=c===_?Oe:c===D?me:null,t}))]}),Object(T.Fb)(F)&&Object(u.jsx)(ma,{history:Y,contentData:F,tenantReducerData:ae.tenantReducerContent})||null,K.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})})),sb={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},db=(n(253),n(711)),lb=n(712),ub=n.p+"static/media/searchIcon.0e00b33c.svg",bb=n.p+"static/media/searchIconGrey.7acb5585.svg",vb=n.p+"static/media/Darkclosebutton.b4eeaeca.svg",jb=function(e){var t=_e.a.DISPOSITION_DATA,n=void 0===t?"":t,a=Object(i.useContext)(I.a)||{},o=a.userOrderState,r=a.userOrderStateDispatch;Object(i.useEffect)((function(){r({type:n,value:{showDisposition:!0}})}),[]);var s=function(e,t){e.stopPropagation(),e.preventDefault(),bi(t)};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(u.jsx)(Di,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(u.jsx)(No,{onStoreSelectFinish:s}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrder)&&Object(u.jsx)(Yo,{onStoreSelectFinish:s})]})})},Ob={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},mb=function(e){var t,n,a,c,o=Ob.DISPOSITION,r=null,s=null,d=Object(E.c)((function(e){return e.appStateReducer.userStatus})),l=Object(E.c)((function(e){return e.tenantReducer})),b=Object(E.b)();Object(i.useEffect)((function(){b(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.location":null===l||void 0===l?void 0:l.country,"fields.channel":wa.b.channel,include:"5"},userParams:d}))}),[b,null===l||void 0===l?void 0:l.country,d]),Object(i.useEffect)((function(){b(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===l||void 0===l?void 0:l.country,"fields.channel":wa.b.channel,include:5}}))}),[b,null===l||void 0===l?void 0:l.country]);var v=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null}}));if(v.marketPageContent&&v.tenantReducerContent&&v.homePageContent){var j=(v.marketPageContent.headerData||{}).tenant,O=void 0===j?[]:j;r=Object(T.Y)(v.homePageContent)||null,s=Object(T.nb)(O)}return Object(u.jsx)(jb,{contentData:{segmentedHomePageData:null!==(t=null===(n=r)||void 0===n?void 0:n[o])&&void 0!==t?t:{},dispositionData:s,contentDispositionData:null!==(a=null===(c=r)||void 0===c?void 0:c[o])&&void 0!==a?a:{}},userParams:d,tenantReducerData:v.tenantReducerContent})},fb={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:S.e},pb=function(e,t){return!!e.length&&e.map((function(e){return t(e)}))},hb=function(e,t,n){var a;return{foodName:null===t||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:n}},gb=Object(o.i)((function(e){var t,n=e.productList,c=void 0===n?[]:n,o=e.cardType,r=void 0===o?"":o,s=e.tenantData,d=void 0===s?{}:s,l=e.categoryId,b=e.catalogs,v=e.storeClosedData,O=e.setShowTopScrollBtn,m=kn.a.QUANTITY_ACTION,f=_e.a.ADD_TO_CART_CLICK,p=_e.a.PLP_PDP_DETAILS,h=_e.a.MINI_PDP_DATA,g=_e.a.FROMFLAGPLP,x=((null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{}).PlpProductCard,N=void 0===x?{}:x,C=mi.a.RESET_MODGROUP_IDS_UPDATE,S=Object(i.useState)(1),A=Object(j.a)(S,2),y=A[0],_=A[1],D=Object(E.b)(),R=Object(E.c)((function(e){return e.cartReducer})),w=(Object(E.c)((function(e){var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}}))||{}).categories,L=void 0===w?[]:w,k=Object(T.wb)(R).cartData,P=void 0===k?{}:k,M=Object(E.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),F=Object(i.useState)(e.selectedCat),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=Object(i.useState)(!1),G=Object(j.a)(Y,2),K=G[0],V=G[1],W=Object(i.useContext)(I.a),q=W.userOrderState,z=W.userOrderStateDispatch,Q=Object(i.useState)(null),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Ii(void 0,void 0,void 0,void 0,z,D,void 0).showCartAlert;Object(i.useEffect)((function(){V(!1)}));var ee=Ii({cartId:null===P||void 0===P?void 0:P.id},null===d||void 0===d?void 0:d.tenantId,void 0,L,void 0,D,void 0).addToCartAnalyticsOnly,te=function(e,t,n,a,i,c,o){if(e&&e.stopPropagation(),Z(t),M.localized){if(n)B(a),z({type:h,value:{id:t,flag:g,foodLineId:""}}),z({type:C}),D(Object(Oi.c)({tenantId:d.tenantId,catalogName:b,itemId:t}));else if(0===i){var r;D(Object(_t.a)({params:{basketId:null===R||void 0===R||null===(r=R.cartData)||void 0===r?void 0:r.id},tenantId:d.tenantId},[{Id:t,categoryId:l,quantity:i+1,modGrps:[]}])),D(Object(_t.r)(new Date)),ee(hb(t,c,o),m.Increase)}else if(i>0){var s;D(Object(_t.u)({params:{basketId:null===R||void 0===R||null===(s=R.cartData)||void 0===s?void 0:s.id,basketLineItemId:o},tenantId:d.tenantId},{quantity:i+1})),D(Object(_t.r)(new Date)),ee(hb(t,c,o),m.Increase)}}else V(!0),z({type:f,value:{addToCart:!0,productItemId:t,categoryId:l,oldProduct:c,customizable:n,catalogs:b,fromPdpPage:!1}})},ne=Object(E.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){ne&&U&&q.minipdpData.itemId===ne.id&&D(Object(_t.s)({showProductListingModal:!0,categorySelected:U}))}),[ne]);var ae=function(){$(!0)},ie=Object(a.a)(Object(a.a)({},fb),{},{beforeChange:function(e,t){_(Math.round(t+1))},variableWidth:!1}),ce=function(t,n,a,i,c){t.preventDefault(),t.stopPropagation();var o={productId:n,customizable:a,categoryId:i,catalogName:b,productInfo:c,isFromPlp:!0};z({type:p,value:o}),localStorage.setItem("ProductDetails",JSON.stringify(o)),e.history.push({pathname:"/pdp/".concat(i,"/").concat(n)})},oe=function(e,t,n){D(Object(Oi.a)({tenantId:e,customerId:n},t))},re=function(e,t,n){D(Object(Oi.b)({tenantId:e,customerId:t,itemId:n}))},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(e.items,1),n=t[0],i=Object(T.Rb)(n.additionalProperties);return Object(u.jsx)($s,Object(a.a)(Object(a.a)({item:n,activeId:X,cardId:n.id,cardType:r,configureOptions:N,tenantData:d,servingCount:i.servings,button:e.button,categoryId:l,clickHandler:te,customizable:n.customizable,onCardClickHandler:ce,userParams:M,openAlertModal:ae,storeClosedData:v,addFavourite:oe,removeFavourite:re,setShowTopScrollBtn:O,"data-testid":"menu-card-component"},i),n),n.id)};return Object(u.jsxs)("div",{className:"product-container",children:[K&&Object(u.jsx)(mb,{}),"carousal"===r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"individual-card-counter",children:[y,"/",c.length]}),Object(u.jsx)(Jo,{settings:ie,children:pb(c,se)})]}):pb(c,se)]})})),xb=function(e){return Object(T.p)(e.subCategory).map((function(t,n){var a=t.categories,i=void 0===a?"":a,c=t.products,o=void 0===c?[]:c,r=t.id,s=void 0===r?"":r,d=t.dname;return Object(u.jsxs)("div",{id:s,children:[Object(u.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":"medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType?"carousal-subcategory-name":"small"===e.cardType?"small-subcategory-name":null,children:[Object(u.jsx)("div",{children:d[0].value}),i]}),Object(u.jsx)(gb,{productList:o,cardType:e.cardType,tenantData:e.tenantData,categoryId:s,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},n)}))},Nb=function(e){var t,n=e.data,a=(e.selectedTile,e.tenantData),r=e.filterList,s=e.dietaryList,d=e.sortByList,l=(e.filterOptions,e.dietaryOptions,e.sortByOptions,e.handleClearItems),b=(e.handleCheckbox,e.handleRadio,e.handleFilteredData),v=e.handleSearchdata,O=e.tempData,m=e.recommendations,f=e.catalogs,p=e.selectedCat,h=e.storeClosedData,g=e.triggerGetRecommends,x=e.setProductId,N=e.setShowTopScrollBtn,C=n||{},S=C.menu,y=C.categories,_=C.products;if(Object.keys(O).length){var D=O||{};S=D.menu,y=D.categories,_=D.products}var R=Object(i.useContext)(I.a).userOrderState,w=Object(o.f)(),L=Object(i.useState)([]),k=Object(j.a)(L,2),P=k[0],M=k[1],F=Object(i.useState)(!1),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=Object(i.useState)(!1),G=Object(j.a)(Y,2),K=G[0],V=G[1],W=Object(i.useState)(""),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(""),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)({isSearchedMode:!1,searchedData:""}),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useRef)(null),fe=Object(E.c)((function(e){return e.tenantReducer})),pe=Ob.SEARCHOURMENU,he=Object(o.h)(),ge=he.category_name,xe=void 0===ge?"":ge,Ne=he.product_name,Ee=void 0===Ne?"":Ne,Te=Object(T.Eb)(R.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):R.dispositionNew,Ie=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(fe)?fe:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:Te?Te.store:{},dispositionType:Te&&Te.type?Object(T.L)(Te.type):Object(T.L)(null===fe||void 0===fe||null===(e=fe.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[Te,fe]).dispositionType,Ce=function(e){me.current&&!me.current.contains(e.target)&&ae(!1)};Object(i.useEffect)((function(){var e;if((null===n||void 0===n||null===(e=n.products)||void 0===e?void 0:e.length)&&je.isSearchedMode&&(null===m||void 0===m?void 0:m.length)){var t=us(null===n||void 0===n?void 0:n.products,m);M(t)}}),[n,je.searchedData,m]),Object(i.useEffect)((function(){je.searchedData&&g(je.searchedData)}),[je.searchedData]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",Ce),function(){document.removeEventListener("mousedown",Ce)}})),Object(i.useEffect)((function(){ms(y,xe,Ee,x,V,B)}),[JSON.stringify(n)]);var Se=function(e){Q((function(){return e}))};Object(i.useEffect)((function(){var e=setTimeout((function(){if(Z!==z){var e=Os(S,z),t=e.selectedCategory,n=e.selectedSubcategory,i=bs(t,n,null===t||void 0===t?void 0:t.name,null===t||void 0===t?void 0:t.id,null===a||void 0===a?void 0:a.currencyConversionFactor);js(i),$((function(){return z}))}}),300);return function(){clearTimeout(e)}}),[z]);var ye=function(e){if("Enter"===e.key){if(""===e.target.value)return;ae(!1),v(e.target.value.toLowerCase().toString()),Oe({isSearchedMode:!0,searchedData:le}),function(e,t){0===e.length&&Object(T.M)(document.title,Object(Ae.e)(Qe)+" \u201c".concat(t,"\u201d ")+Object(Ae.e)(Je))}(oe,le)}},_e=function(e){var t=(n||{}).products;t&&re(t.filter((function(t){return!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e.toLowerCase().toString())})).slice(0,5))},De=function(){ue(""),ae(!1),_e(""),v(),Oe({isSearchedMode:!1,searchedData:""})};var Re,we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0},Le=function e(t){return t&&t.map((function(t,n){var a=t.id,i=void 0===a?"":a,c=t.isHidden,o=void 0!==c&&c,r=t.dname,s=void 0===r?"":r,d=t.url,l=t.categories,b=void 0===l?[]:l;return Object(u.jsx)("ul",{className:"inner-ul nested",children:!o&&Object(u.jsxs)("li",{children:[Object(u.jsx)(cs.Link,{"data-testid":"subcategory-click-test",className:"".concat(we(b)?"caret":""),onClick:function(e){return function(e,t,n,a){rs(t,a+1),Q((function(){return t}));var i=null===e||void 0===e?void 0:e.target.parentElement.querySelector(".nested");i&&(i.classList.toggle("active-tree"),e.target.classList&&e.target.classList.toggle("caret-down")),w.push({pathname:"/menu/".concat(n)})}(e,s[0].value,d,n)},to:i,spy:!0,smooth:!0,onSetActive:Se,activeClass:"".concat(0===n?"active":""),children:s[0].value}),b&&b.length>0&&e(b)]})})}))},ke=function(e,t,n,i){return t&&t.length?Object(u.jsx)(xb,{subCategory:t,cardType:i,tenantData:a,catalogs:f,storeClosedData:h}):Object(u.jsx)(gb,{productList:e,cardType:i,tenantData:a,categoryId:n,catalogs:f,selectedCat:p,storeClosedData:h,setShowTopScrollBtn:N})};return Object(u.jsxs)(c.a.Fragment,{children:[Eb(K,Te,Ie,U,h,(function(){B(!1),w.push({pathname:"/menu"})})),Object(u.jsxs)(db.a,{className:"plp-menu-row","data-testid":"menus-container",children:[Object(u.jsxs)(lb.a,{md:"3",className:"plp-left-nav",children:[Object(u.jsx)(db.a,{className:"plp-stripes-section",children:Object(u.jsx)(A.a,{srcFile:Ra,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"kfc-menu-title",children:[].concat(Object(vo.a)(r),Object(vo.a)(s)).length||je.isSearchedMode?"".concat(Object(T.q)(_)," Results"):Object(Ae.e)(Fe)}),[].concat(Object(vo.a)(r),Object(vo.a)(s),Object(vo.a)(d)).length>0||je.isSearchedMode?Object(u.jsxs)("div",{children:[0!==Object(T.q)(_)&&Object(u.jsx)(Qa.a,{className:"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:je.isSearchedMode?De:l,children:je.isSearchedMode?Object(Ae.e)(ze):Object(Ae.e)(qe)}),[].concat(Object(vo.a)(r),Object(vo.a)(s),Object(vo.a)(d)).map((function(e,t){return Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"selectedFilterButtons",children:[Object(u.jsx)("span",{className:"textFiltered",children:e}),Object(u.jsx)("img",{className:"mlcross","data-testid":"clear-single-handle-".concat(e),onClick:function(){return l(e)},src:vb})]})},t)}))]}):Object(u.jsx)("ul",{className:"outer-ul",children:S&&S.length&&Object(T.p)(S).length&&Object(T.p)(S).map((function(e,t){var n=e.id,a=e.isHidden,i=e.name,c=e.url,o=e.dname,r=e.categories,s=void 0===r?[]:r;return!a&&Object(u.jsxs)("li",{children:[Object(u.jsx)(cs.Link,{"data-testid":"category-click-test",to:i.trim(),spy:!0,smooth:!0,onSetActive:Se,onClick:function(e){return function(e,t,n,a){if(0===t){var i=Object(T.p)(y);i.length&&cs.scroller.scrollTo(i[0].name.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:-100})}rs(n,0),Q((function(){return n})),w.push({pathname:"/menu/".concat(a)})}(0,t,i.trim(),c)},className:"".concat(we(s)?"caret":""),offset:-100,children:o[0].value}),Le(s||[])]},n)}))})]}),Object(u.jsxs)(lb.a,{md:"9",className:"plp-right-nav",children:[Object(u.jsx)(lb.a,{sm:12,className:"plp-filters",children:Object(u.jsxs)("div",{"data-testid":"menu-search-testid",className:"search-menu",children:[Object(u.jsx)(Pt,{name:"searchInput",className:"search-menu-input",onKeyPress:function(e){return ye(e)},onChange:function(e){return function(e){ue(e.target.value),(r.length||s.length||d.length)&&l(),e.target.value.toString().length>2?ne||(ae(!0),_e(e.target.value.toString())):ne&&(ae(!1),_e(""),v(),Oe({isSearchedMode:!1,searchedData:""}))}(e)},value:le,placeholder:Object(Ae.e)(pe),"data-testid":"search-our-menu","aria-label":"Search our menu",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(Object(Ae.e)(pe))}}),Object(u.jsx)("span",{className:"search-icon",children:Object(u.jsx)(A.a,{srcFile:ub,className:"search-icon-img"})}),le.length>2&&!je.isSearchedMode||le.length>2&&je.isSearchedMode&&Object(T.q)(_)>0?Object(u.jsx)("img",{className:"input-dark-cross","data-testid":"clear-all-input",onClick:function(){return De()},src:vb}):null,ne&&Object(u.jsx)("div",{ref:me,className:"inputAutoCompletePLP",children:(null===oe||void 0===oe?void 0:oe.length)>0&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"SuggestionHeader",children:"Suggested Search Terms"}),Object(u.jsx)("ul",{className:"autoCompleteListPLP",children:oe.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return function(e){ss({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),b(e.mdmId),ae(!1),ue(e.name),Oe({isSearchedMode:!0,searchedData:e.name})}(e)},"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(A.a,{srcFile:bb})}),Object(u.jsx)("span",{children:e.name})]},e.mdmId+t)}))})]})})]})}),je.isSearchedMode&&Object(T.q)(_)>0&&Object(u.jsx)(db.a,{className:"pt-5",children:Object(u.jsxs)("h2",{className:"found-text",children:[Object(Ae.e)(Ze)," ",Object(T.q)(_),' "'.concat(je.searchedData.toUpperCase(),'"')]})}),[].concat(Object(vo.a)(r),Object(vo.a)(s)).length>0&&0===Object(T.q)(_)?Object(u.jsx)(db.a,{className:"pt-5 no-data-found-plp",children:Object(u.jsxs)("h2",{className:"found-text",children:[Object(Ae.e)(Ze)," ",Object(T.q)(_)," '",Object(Ae.e)(tt.toUpperCase()),"'"]})}):[].concat(Object(vo.a)(r),Object(vo.a)(s)).length>0&&Object(T.q)(_)>0&&Object(u.jsx)(db.a,{className:"pt-5 ".concat((Re=s,Re.find((function(e){return"all"===e.toLowerCase()}))?"all-data-found-plp":"data-found-plp")),children:Object(u.jsxs)("h2",{className:"found-text",children:[Ze," ",Object(T.q)(_)," '",Object(Ae.e)(tt.toUpperCase()),"'"]})}),Object(u.jsx)(db.a,{className:je.isSearchedMode||r.length>0||s.length>0?"":"plp-sections",children:Object(u.jsx)(lb.a,{children:!je.isSearchedMode&&y&&y.length?y.filter((function(e){return!e.isHidden})).map((function(e,t){var n=e.id,a=e.name,i=e.dname,c=(e.imageName,e.products),o=e.categories,r=e.isHidden,s=(e.displayOrder,e.specials),d=e.exclusive,l=e.timer,b=e.discount;return!r&&Object(u.jsxs)("div",{id:a.trim(),className:0===t?"large-menu-container":"medium-menu-container",children:[Object(u.jsx)("div",{className:0===t?"large-category-name":"medium-category-name",children:Object(u.jsx)("h2",{children:i[0].value})}),Object(u.jsx)(Da.a,{src:s?Ss:b||d?As:"",className:s?"specials-product-ribbon":d?"exclusive-product-ribbon":"discount-product-ribbon"}),Object(u.jsx)("span",{className:s?"specials-ribbon-text":"discount-ribbon-text",children:l?Object(u.jsxs)("div",{children:[Object(u.jsx)(Da.a,{src:Ut,className:"product-timer"}),Object(u.jsx)("span",{className:"product-timer-text",children:"timer"})]}):s||(b||(d||null))}),ke(c,o,n,0===t?"large":"medium")]},t)})):(je.isSearchedMode||[].concat(Object(vo.a)(r),Object(vo.a)(s)).length)&&(null===(t=_)||void 0===t?void 0:t.length)?Object(u.jsx)("div",{className:"medium-menu-container",children:Object(u.jsx)(gb,{productList:_,cardType:"medium",tenantData:a,categoryId:"CAT86",catalogs:f,storeClosedData:h,setShowTopScrollBtn:N})}):je.isSearchedMode&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"no-search-found-plp",children:[Object(u.jsx)("span",{children:Object(Ae.e)(Qe)}),Object(u.jsx)("span",{className:"no-search-found-text-highlighted",children:" '".concat(je.searchedData,"' ")}),Object(u.jsx)("p",{children:Object(Ae.e)(Je)}),Object(u.jsx)(Qa.a,{onClick:De,className:"back-to-menu-plpsearch",children:Object(Ae.e)(Xe)})]}),Object(u.jsx)("div",{className:"horizontalLineBorder-noData"}),!!P.length&&Object(u.jsx)("div",{className:"mob-plp-sections  mb-5",children:Object(u.jsx)("div",{className:"mob-plp-col mb-4",children:Object(u.jsxs)("div",{className:"recommended-menu-container medium-menu-container",children:[Object(u.jsx)("div",{className:"d-flex position-relative",children:Object(u.jsx)("div",{className:"carousal-header",children:Object(Ae.e)(Pe)})}),Object(u.jsx)(gb,{productList:P,cardType:"medium",tenantData:a,categoryId:"CAT86",catalogs:f,storeClosedData:h,setShowTopScrollBtn:N})]})})})]})})})]})]})]})};function Eb(e,t,n,a,i,c){var o={CLEAR_ALL_MSG:{MSGTXT1:"Sorry, this food ".concat(e," is"),MSGTXT2:" not available ",MSGTXT3:Object(T.pb)(null===t||void 0===t?void 0:t.type,"for ".concat(n),"")},CONTINUE:"continue"};return Object(T.u)(a,!(null===i||void 0===i?void 0:i.isStoreClosed))&&Object(u.jsx)(yi,{handleClose:c,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(Ci,{splitTitle:o.CLEAR_ALL_MSG,imageSrc:Xd,altText:"cart-error",confirmButtonText:Object(Ae.e)(null===o||void 0===o?void 0:o.CONTINUE),confirmHandler:c})})}var Tb=n.p+"static/media/mobileSearch.bc6748fd.svg",Ib=n.p+"static/media/View_1UP_Icon.29815a0e.svg",Cb=n.p+"static/media/View_1UP_Icon_Inactive.b46c36ea.svg",Sb=n.p+"static/media/View_carousal_Icon.63f70456.svg",Ab=n.p+"static/media/View_carousal_Icon_Inactive.b52e1132.svg",yb=n.p+"static/media/crossCloseIcon.574b7c73.svg",_b=n.p+"static/media/clearIconDark.6cb8880e.svg",Db=c.a.forwardRef((function(e,t){var n=e.className,a=e.filterList,c=e.dietaryList,o=e.sortByListMob,r=e.handleClearItems,s=e.closeSearchFilterMenu,d=e.handleFilteredData,l=e.handleSearchdata,b=e.setSearchModeData,v=e.data,O=e.inputSearchData,m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)([]),x=Object(j.a)(g,2),N=x[0],E=x[1],T=Object(i.useState)(""),I=Object(j.a)(T,2),C=I[0],S=I[1],y=Object(i.useRef)(null),_=Ob.SEARCHOURMENU,D=function(e){y.current&&!y.current.contains(e.target)&&h(!1)};Object(i.useEffect)((function(){return document.addEventListener("mousedown",D),function(){document.removeEventListener("mousedown",D)}})),Object(i.useEffect)((function(){S(""),h(!1)}),[O]);var R=function(e){var t=(v||{}).products;E(t.filter((function(t){return!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e)})).slice(0,5))};return Object(u.jsxs)("div",{ref:t,"data-testid":"mob-search-filter-testid",className:n,children:[Object(u.jsxs)("div",{className:"refineItemsPartMobPLP",children:[Object(u.jsx)("span",{className:"refineItemsText",children:Object(Ae.e)("refineItems")}),Object(u.jsx)("img",{className:"crossCloseIconFilterMobPlp","data-testid":"cross-close-filter-mob",onClick:function(){return s("Close")},src:yb})]}),Object(u.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(u.jsxs)("div",{className:"plp-search-container",children:[Object(u.jsx)(Pt,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:function(e){return function(e){S(e.target.value),(a.length||c.length||o.length)&&r(),e.target.value.toString().length>2?p||(h(!0),R(e.target.value.toLowerCase().toString())):p&&(h(!1),l(),R(""),b(!1,C))}(e)},onKeyPress:function(e){var t;"Enter"===(t=e).key&&(s(""),l(t.target.value.toLowerCase().toString()),b(!0,C))},value:C,placeholder:Object(Ae.e)(_)}),Object(u.jsx)("div",{className:"search-iconMob",children:Object(u.jsx)(A.a,{srcFile:bb,className:"search-icon-img"})}),C.length>2&&Object(u.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:function(){return S(""),l(),void b(!1,"")},src:_b})]}),p&&Object(u.jsx)("div",{ref:y,"data-testid":"mob-search-dropdown",className:"inputAutoCompletePLP",children:Object(u.jsx)("ul",{className:"autoCompleteListPLP",children:(null===N||void 0===N?void 0:N.length)>0&&N.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return function(e){ss({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),d(e.mdmId),s(""),S(e.name),b(!0,e.name)}(e)},"data-testid":"fiter-data-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(A.a,{srcFile:bb})}),Object(u.jsx)("span",{children:e.name})]},e.mdmId+t)}))})})]})]})})),Rb=function(e){var t=e.data,n=e.tenantData,a=e.selectedTile,r=e.filterList,s=e.dietaryList,d=e.sortByListMob,l=e.filterOptions,b=e.dietaryOptions,v=e.sortByOptions,O=e.handleClearItems,m=e.handleCheckbox,f=e.handleRadio,p=e.handleFilteredData,h=e.handleSearchdata,g=e.tempData,x=e.recommendations,N=e.catalogs,C=e.selectedCat,S=e.storeClosedData,y=e.triggerGetRecommends,_=e.setProductId,D=e.setShowTopScrollBtn,R=Object(o.f)(),w=Object(i.useRef)(),L=Object(i.useContext)(I.a).userOrderState,k=Object(i.useState)({isSearchedMode:!1,searchedData:""}),P=Object(j.a)(k,2),M=P[0],F=P[1],H=Object(i.useState)(!1),U=Object(j.a)(H,2),B=U[0],Y=U[1],G=Object(i.useState)(!1),K=Object(j.a)(G,2),V=K[0],W=K[1],q=Object(i.useState)(""),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(""),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=t||{},ne=te.menu,ae=te.categories,ie=te.products;if(Object.keys(g).length){var ce=g||{};ne=ce.menu,ae=ce.categories,ie=ce.products}var oe=Object(i.useState)([]),re=Object(j.a)(oe,2),se=re[0],de=re[1],le=Object(i.useState)(!0),ue=Object(j.a)(le,2),be=ue[0],ve=ue[1],je=Object(i.useState)(!1),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(1),he=Object(j.a)(pe,2),ge=he[0],xe=he[1],Ne=Object(i.useState)(!1),Ee=Object(j.a)(Ne,2),Te=Ee[0],Ie=Ee[1],Ce=Object(i.useState)(!1),Se=Object(j.a)(Ce,2),ye=Se[0],_e=Se[1],De=Object(E.c)((function(e){return e.tenantReducer})),Re=Object(o.h)(),we=Re.category_name,Le=void 0===we?"":we,ke=Re.product_name,Fe=void 0===ke?"":ke,He=Object(T.Eb)(L.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):L.dispositionNew,Ue=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(De)?De:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:He?He.store:{},dispositionType:He&&He.type?Object(T.L)(He.type):Object(T.L)(null===De||void 0===De||null===(e=De.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[He,De]).dispositionType,Be=function(){Ie(!1),R.push({pathname:"/menu"})};Object(i.useEffect)((function(){ms(ae,Le,Fe,_,_e,Ie,!0)}),[JSON.stringify(t)]),Object(i.useEffect)((function(){var e;if((null===t||void 0===t||null===(e=t.products)||void 0===e?void 0:e.length)&&M.isSearchedMode&&(null===x||void 0===x?void 0:x.length)){var n=us(null===t||void 0===t?void 0:t.products,x);de(n)}}),[t,M.searchedData,x]),Object(i.useEffect)((function(){M.searchedData&&y(M.searchedData)}),[M.searchedData]);var Ye=function(){ve(!0),fe(!1)},Ge=function(){fe(!0),ve(!1)},Ke=function(e){xe(e)},Ve=function(e,t){F({isSearchedMode:e,searchedData:t})},We=function(){W(""),h(),F({isSearchedMode:!1,searchedData:""})},$e=function(e){var t;ls({eventType:"filterItems",selectedData:{filterSelected:r.length>0?r.join():"none",dietarySelected:s.length>0?s.join():"none",sortSelected:(null===(t=v.find((function(e){return e.selected})))||void 0===t?void 0:t.name)?v.find((function(e){return e.selected})).name:"none"}},"filterSelected","dietarySelected","sortSelected"),w.current.style.width="0",Y(!1)};Object(i.useEffect)((function(){var e=function(){var e,t=null===(e=document.getElementById("mob-searchinput-id"))||void 0===e?void 0:e.style;document.getElementById("root").getBoundingClientRect().top<-50?(t.position="fixed",t.top="45px"):(t.position="relative",t.top="0px")};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);var et=function(e){document.querySelector("li > a.active")&&document.querySelector("li > a.active").scrollIntoView({inline:"center"}),J((function(){return e}))};Object(i.useEffect)((function(){var e=setTimeout((function(){if($!==Q){var e=Os(ne,Q),t=e.selectedCategory,a=e.selectedSubcategory,i=bs(t,a,null===t||void 0===t?void 0:t.name,null===t||void 0===t?void 0:t.id,null===n||void 0===n?void 0:n.currencyConversionFactor);js(i),ee((function(){return Q}))}}),300);return function(){clearTimeout(e)}}),[Q]);var tt=function(e,t,a,i){return"viewup"===i&&(i=be?"small":"carousal"),t&&t.length?Object(u.jsx)(xb,{subCategory:t,cardType:i,tenantData:n,catalogs:N,storeClosedData:S}):Object(u.jsx)(gb,{productList:e,cardType:i,tenantData:n,cardCount:Ke,categoryId:a,catalogs:N,selectedCat:C,storeClosedData:S,setShowTopScrollBtn:D})},nt=function(){var e;return(M.isSearchedMode||[].concat(Object(vo.a)(r),Object(vo.a)(s)).length)&&(null===(e=ie)||void 0===e?void 0:e.length)?Object(u.jsx)("div",{className:"small-menu-container",children:Object(u.jsx)(gb,{productList:ie,cardType:be?"small":"carousal",tenantData:n,cardCount:Ke,categoryId:"CAT86",catalogs:N,storeClosedData:S,setShowTopScrollBtn:D})}):M.isSearchedMode&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"no-mob-search-found-plp",children:[Object(u.jsx)("span",{children:Object(Ae.e)(Qe)}),Object(u.jsx)("span",{className:"no-search-found-text-highlighted",children:" '".concat(M.searchedData,"' ")}),Object(u.jsx)("p",{children:Object(Ae.e)(Je)}),Object(u.jsx)(Qa.a,{className:"back-to-menu-plpsearch","data-testid":"back-to-menu",onClick:We,children:Object(Ae.e)(Xe)})]}),!!se.length&&Object(u.jsxs)("div",{className:"carousal-menu-container",children:[Object(u.jsxs)("div",{className:"d-flex position-relative",children:[Object(u.jsx)("div",{className:"carousal-header",children:Object(Ae.e)(Pe)}),Object(u.jsxs)("div",{className:"card-counter",children:[ge,"/",se.length]})]}),Object(u.jsx)(gb,{productList:se,cardType:"carousal",tenantData:n,cardCount:Ke,categoryId:"CAT86",catalogs:N,storeClosedData:S,setShowTopScrollBtn:D})]}),Object(u.jsx)("div",{className:"horizontalLineBorder-noData"})]})};return Object(u.jsxs)(c.a.Fragment,{children:[wb(ye,He,Ue,Te,S,Be),Object(u.jsxs)(db.a,{id:"mob-searchinput-id","data-testid":"mob-searchinput-id",className:"mob-nav-row ".concat(B?"hide-mob-nav-row":""),children:[Object(u.jsxs)("div",{onClick:function(){return w.current.style.width="100%",void Y(!0)},"data-testid":"open-search-menu",className:"mob-search-input",children:[Object(u.jsx)(A.a,{srcFile:Tb,className:"mob-search-img"}),([].concat(Object(vo.a)(r),Object(vo.a)(s)).length||M.isSearchedMode)&&Object(u.jsx)("div",{className:"totalFilterAppliedCount",children:Object(T.q)(ie)})]}),[].concat(Object(vo.a)(r),Object(vo.a)(s),Object(vo.a)(d)).length||M.isSearchedMode?Object(u.jsxs)("div",{className:"filterListRowMobView",children:[Object(u.jsx)(Qa.a,{className:"clearAllFilterButtonMob","data-testid":"clear-all-handle",onClickHandler:M.isSearchedMode?We:O,children:M.isSearchedMode?Object(Ae.e)(ze):Object(Ae.e)(qe)}),[].concat(Object(vo.a)(r),Object(vo.a)(s),Object(vo.a)(d)).map((function(e){return Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"selectedFilterButtonsMob",children:[Object(u.jsx)("span",{className:"textFilteredMob",children:e}),Object(u.jsx)("img",{className:"mlcrossMob","data-testid":"clear-all-items-".concat(e),onClick:function(){return O(e)},src:vb})]})})}))]}):Object(u.jsx)("div",{children:Object(u.jsx)("ul",{className:"mob-outer-ul",children:ne&&ne.length&&Object(T.p)(ne).length&&Object(T.p)(ne).map((function(e,t){var n=e.id,a=e.isHidden,i=e.url,c=e.name,o=e.dname;return e.subcategory,!a&&Object(u.jsx)("li",{children:Object(u.jsx)(cs.Link,{"data-testid":"category-click-test-mob",to:c.trim(),onClick:function(){return function(e,t){R.push({pathname:"/menu/".concat(t)}),rs(e,0)}(c.trim(),i)},spy:!0,offset:-100,smooth:!0,activeClass:"active",onSetActive:et,children:o[0].value})},n)}))})})]}),M.isSearchedMode&&Object(T.q)(ie)>0?Object(u.jsx)(db.a,{className:"pt-4 pl-5",children:Object(u.jsxs)("h3",{className:"found-text",children:[Object(Ae.e)(Ze)," ",Object(T.q)(ie),' "'.concat(M.searchedData.toUpperCase(),'"')]})}):([].concat(Object(vo.a)(r),Object(vo.a)(s)).length>0&&0===Object(T.q)(ie)||[].concat(Object(vo.a)(r),Object(vo.a)(s)).length>0&&Object(T.q)(ie)>0)&&Object(u.jsx)(db.a,{className:"pt-4 pl-5",children:Object(u.jsxs)("h2",{className:"found-text",children:[Ze," ",Object(T.q)(ie)," ","results".toUpperCase()]})}),Object(u.jsx)(db.a,{"data-testid":"mob-search-testid",className:"mob-plp-sections",children:Object(u.jsx)(lb.a,{className:"mob-plp-col",children:!M.isSearchedMode&&ae&&ae.length?ae.filter((function(e){return!e.isHidden})).map((function(e,t){var n=e.id,a=e.name,i=e.dname,c=(e.imageName,e.products),o=e.categories,r=e.isHidden;return e.displayOrder,e.specials,e.exclusive,e.timer,e.discount,!r&&Object(u.jsxs)("div",{id:a.trim(),className:0===t||me?"carousal-menu-container":"small-menu-container",children:[Object(T.q)(c)>1&&1===t&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"product-view-section",children:[Object(u.jsxs)("span",{className:"product-view",children:[Object(Ae.e)(Me),":"]}),Object(u.jsx)(Da.a,{src:be?Ib:Cb,className:"product-view-up-icon",onClick:Ye,"data-testid":"change-view-to-up"}),Object(u.jsx)(Da.a,{src:me?Sb:Ab,className:"product-view-carousal-icon",onClick:Ge,"data-testid":"change-view-to-carousal"})]}),Object(u.jsx)("hr",{className:"product-view-divider"})]}),Object(u.jsxs)("div",{className:"d-flex position-relative",children:[Object(u.jsx)("div",{className:"small-category-name",children:i[0].value}),!be&&Object(u.jsxs)("div",{className:"card-counter",children:[ge,"/",Object(T.q)(c)]})]}),tt(c,o,n,0===t?"carousal":"viewup")]})})):nt()})}),Object(u.jsx)(Db,{ref:w,className:"sidenav-filter",selectedTile:a,filterList:r,dietaryList:s,sortByListMob:d,filterOptions:l,dietaryOptions:b,sortByOptions:v,handleCheckbox:m,handleClearItems:O,handleRadio:f,closeSearchFilterMenu:$e,tempData:g,data:t,inputSearchData:V,handleFilteredData:p,handleSearchdata:h,setSearchModeData:Ve})]})};function wb(e,t,n,a,i,c){var o={CLEAR_ALL_MSG:{MSGTXT1:"Sorry, this food ".concat(e," is"),MSGTXT2:" not available ",MSGTXT3:Object(T.pb)(null===t||void 0===t?void 0:t.type,"for ".concat(n),"")},CONTINUE:"continue"};return Object(T.u)(a,!(null===i||void 0===i?void 0:i.isStoreClosed))&&Object(u.jsx)(yi,{handleClose:c,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(Ci,{splitTitle:o.CLEAR_ALL_MSG,imageSrc:Xd,altText:"cart-error",confirmButtonText:Object(Ae.e)(null===o||void 0===o?void 0:o.CONTINUE),confirmHandler:c})})}var Lb={contentData:{modalContent:{unavailableText:{contentText:"unavailableCartText",contentMain:"unavailableCartMain",cartQuery:"unavailableCartQuery"},priceChangeText:{contentText:"priceChangedCartText",contentMain:"priceChangedCartMain",cartQuery:"priceChangedCartQuery"},bothChangeText:{contentText:"bothChangeCartText",contentMain:"bothChangeCartMain",cartQuery:"bothChangeCartQuery"},infoObject:{type:"info",infoText:"cartInfoText"},discardbuttonTypes:{buttonText:"discardChanges",selectDefault:!1,type:"discardChanges"},confirmButtonTypes:{buttonText:"confirmChanges",selectDefault:!1,type:"confirmChanges"}}}},kb=function(e){var t,n,a,o,r=e.modalContent,s=e.onCartStatesMethodSubmit,d=e.setRef,l=void 0===d?null:d,b=e.unavailableItems,v=e.priceChangedItems,O=r.unavailableText,m=void 0===O?{}:O,f=r.priceChangeText,p=void 0===f?{}:f,h=r.bothChangeText,g=void 0===h?{}:h,x=r.infoObject,N=void 0===x?null:x,I=r.discardbuttonTypes,C=r.confirmButtonTypes,S=Object(i.useState)(Object(T.Lb)(window.innerWidth)),y=Object(j.a)(S,2),_=y[0],D=y[1],R=Object(E.c)((function(e){return e.tenantReducer})),w=function(){var e=Object(T.Lb)(window.innerWidth);D(e)};Object(i.useEffect)((function(){window.addEventListener("resize",w)}),[_]);var L=function(e,t,n){var a=e.newFoodLineItem,i=e.cartPrice,c=e.menuPrice,o=a.item,r=o.dname,s=o.imageName,d="unavailables"===n?"unavailable-items":"priceChanged-items";return Object(u.jsx)("div",{className:"cart-card-row","data-testid":d,children:Object(u.jsxs)("div",{className:"cart-card d-flex",children:[Object(u.jsx)(A.a,{className:"cart-card-image",defaultPath:Object(T.V)(null,R,!0),srcFile:Object(T.V)(s,R)}),Object(u.jsxs)("div",{className:"cart-card-name",id:t,tabIndex:"0",children:[Object(u.jsx)("div",{className:"cart-item-dname",children:r[0].value}),Object(u.jsxs)("div",{className:"cart-item-price",children:[R.currencySymbol,"unavailables"===n?i:c]}),"priceChanges"===n&&Object(u.jsxs)("span",{className:"old-price",children:[R.currencySymbol,i]})]})]})},t)},k=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Qa.a,(t={"data-testid":"cartstate-button-comp",className:"".concat(I.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,I.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Le.a)(t,"className","button whiteButton order-type-button"),Object(Le.a)(t,"aria-label","order type ".concat(I.buttonText)),Object(Le.a)(t,"children",Object(Ae.e)(I.buttonText)),t),I.type),Object(u.jsx)(Qa.a,(n={"data-testid":"cartstate-button-comp",className:"".concat(C.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,C.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Le.a)(n,"className","button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),Object(Le.a)(n,"aria-label","order type ".concat(Object(Ae.e)(C.buttonText))),Object(Le.a)(n,"children",Object(Ae.e)(C.buttonText)),n),C.type)]}),P=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Qa.a,(a={"data-testid":"cartstate-button-comp",className:"".concat(C.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,C.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Le.a)(a,"className","button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),Object(Le.a)(a,"aria-label","order type ".concat(Object(Ae.e)(C.buttonText))),Object(Le.a)(a,"children",Object(Ae.e)(C.buttonText)),a),C.type),Object(u.jsx)(Qa.a,(o={"data-testid":"cartstate-button-comp",className:"".concat(I.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,I.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Le.a)(o,"className","button whiteButton order-type-button"),Object(Le.a)(o,"aria-label","order type ".concat(Object(Ae.e)(I.buttonText))),Object(Le.a)(o,"children",Object(Ae.e)(I.buttonText)),o),I.type)]});return Object(i.useEffect)((function(){b.length&&!v.length?st({popupTitle:[Object(Ae.e)(m.contentText),Object(Ae.e)(m.contentMain),Object(Ae.e)(m.cartQuery)].join(" ")}):!b.length&&v.length?st({popupTitle:[Object(Ae.e)(p.contentText),Object(Ae.e)(p.contentMain),Object(Ae.e)(p.cartQuery)].join(" ")}):b.length&&v.length&&st({popupTitle:[Object(Ae.e)(g.contentText),Object(Ae.e)(g.contentMain),Object(Ae.e)(g.cartQuery)].join(" ")})}),[b,v]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{ref:l,className:"cart-module-form","data-testid":"cart-modal-component",children:[b.length&&!v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Ae.e)(m.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Ae.e)(m.contentMain)})," ",Object(Ae.e)(m.cartQuery)]}):null,!b.length&&v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Ae.e)(p.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Ae.e)(p.contentMain)})," ",Object(Ae.e)(p.cartQuery)]}):null,b.length&&v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Ae.e)(g.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Ae.e)(g.contentMain)})," ",Object(Ae.e)(g.cartQuery)]}):null,v.length&&N?Object(u.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(u.jsx)("span",{children:Object(Ae.e)(N.infoText)})}):null,b&&b.length?Object(u.jsx)(c.a.Fragment,{children:b.map((function(e,t){return L(e,t,"unavailables")}))}):null,v&&v.length?Object(u.jsx)(c.a.Fragment,{children:v.map((function(e,t){return L(e,t,"priceChanges")}))}):null,Object(u.jsx)("form",{className:"form",onSubmit:s,"data-testid":"form-component",children:Object(u.jsxs)("section",{className:"form__section",children:[Object(u.jsx)("div",{className:"order-button-section",children:_?P:k}),Object(u.jsx)("div",{className:"clearfix"})]})})]})})},Pb=function(e){var t=e.handleClose,n=e.CartStatesModuleForm,a=e.modalTitleId,i=void 0===a?"":a;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{id:"CartStatesModulePopup",role:"dialog",modalTitleId:i,show:!0,classNames:"cart-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,autoFocus:!0,children:n})})},Mb=function(e){var t=e.unavailableItems,n=e.priceChangedItems,a=e.confirmChangesHandler,c=e.discardChangesHandler,o=Lb.contentData,r=(void 0===o?{}:o).modalContent,s=void 0===r?{}:r,d=Object(i.useContext)(I.a).userOrderStateDispatch,l=_e.a.CART_STATES_DATA,b=void 0===l?"":l,v=_e.a.ADD_TO_CART_CLICK,j=void 0===v?"":v,O=Object(u.jsx)(kb,{modalContent:s,onCartStatesMethodSubmit:function(e,t){e.stopPropagation(),e.preventDefault(),"discardChanges"===t?c():a()},unavailableItems:t,priceChangedItems:n});return Object(u.jsx)(Pb,{handleClose:function(e){e.stopPropagation(),e.preventDefault(),d({type:b,value:{showCartModal:!1}}),d({type:j,value:{addToCart:!1}})},CartStatesModuleForm:O})},Fb=Object(o.i)((function(e){var t=e.flatResponse,n=void 0===t?{}:t,a=e.tenantReducer,o=void 0===a?{}:a,r=Object(i.useContext)(I.a),s=r.userOrderState,d=r.userOrderStateDispatch,l=_e.a.CART_STATES_DATA,b=_e.a.ADD_TO_CART_CLICK,v=_e.a.MENU_URL,O=o.currencyConversionFactor,m=o.tenantId,f=s.productItemId,p=s.oldProduct,h=s.categoryId,g=(Object(T.Eb)(s.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):s.dispositionNew)||{},x=g.date,N=void 0===x?"":x,C=g.time,S=void 0===C?"":C,A=Object(i.useState)([]),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)([]),w=Object(j.a)(R,2),L=w[0],k=w[1],P=Object(E.c)((function(e){return e.menuReducer.isLoading})),M=Object(E.c)((function(e){return e.cartReducer})),F=Object(E.c)((function(e){return e.menuReducer.currentItemDetails})),H=Object(E.b)();console.log("flatresponse",Object(T.Fb)(n)),console.log("curr",O),console.log("loading",P),Object(i.useEffect)((function(){if(d({type:l,value:{showCartModal:!0}}),Object(T.Fb)(n)&&O&&!P){var e=n.items.filter((function(e){return U(e)}));if(console.log("selected",f),f){var t=function(e,t,n,a,i){for(var c={toRemove:!0,requireModification:!1,findings:["Item not available"],menuPrice:void 0,newFoodLineItem:{item:{dname:null===a||void 0===a?void 0:a.productName,imageName:null===a||void 0===a?void 0:a.productImage,id:i}},cartPrice:null===a||void 0===a?void 0:a.productPrice},o=0;o<(null===t||void 0===t?void 0:t.length);o++){var r=t[o];if(r.id===e){console.log("flatItem >>>",r),c.findings=[],c.toRemove=!1;var s=Object(T.jb)(r.availability[0],n),d=a.productPrice;s!==d?(c.findings.push("Item Price has changed Cart Price(".concat(d,"), Menu price(").concat(s,")")),c.requireModification=!0,c.menuPrice=s,c.cartPrice=d):(c.menuPrice=s,c.cartPrice=d);break}}return c}(f,e,O,p,f);console.log("validationSummaryResult >>>>",t);var a=[];t.toRemove&&a.push(t),D(a);var i=[];t.requireModification&&i.push(t),k(i)}else D([]),k([])}}),[O,f,JSON.stringify(n),P]),Object(i.useEffect)((function(){F&&h&&H(Object(_t.s)({showProductListingModal:!0,categorySelected:h}))}),[F]);var U=function(e){return!!Object(T.kb)(e.availability,N,S)},B=function(){e.history.push({pathname:"".concat(v)})};return console.log(L),Object(u.jsx)(c.a.Fragment,{children:s.cartStateData.showCartState&&(_.length||L.length)&&Object(u.jsx)(Mb,{"data-testid":"productStatesModule",unavailableItems:_,priceChangedItems:L,confirmChangesHandler:function(){console.log("test"),_.length?s.fromPdpPage&&B():s.customizable?H(Object(Oi.c)({tenantId:m,catalogName:s.catalogs,itemId:f})):(H(Object(_t.a)({params:{basketId:M&&M.cartData&&M.cartData.id},tenantId:m},[{Id:f,categoryId:h,quantity:1,modGrps:[]}])),H(Object(_t.r)(new Date))),d({type:l,value:{showCartModal:!1}}),d({type:b,value:{addToCart:!1}})},discardChangesHandler:function(){d({type:l,value:{showCartModal:!1}}),d({type:b,value:{addToCart:!1}}),s.fromPdpPage&&B()}})})})),Hb=function(){var e=Object(i.useContext)(I.a).userOrderStateDispatch,t=Object(o.f)(),n=Ii(void 0,void 0,void 0,void 0,e,Object(E.b)(),void 0).showCartAlert,a=Object(u.jsx)(yi,{handleClose:function(){return n(!1)},classNames:"",CartAlertForm:Object(u.jsx)(Ci,{title:Object(Ae.e)("multipleCustomizationText"),confirmButtonText:Object(Ae.e)("Yes"),cancelButtonText:Object(Ae.e)("No"),cancelHandler:function(){return n(!1)},confirmHandler:function(){return n(!1),t.push({pathname:"/cart"}),void window.scrollTo(0,0)}})});return Ai.a.createPortal(a,document.getElementById("modal-popups"))},Ub=[{filterBy:["exclusive","topseller","newitem"],dietry:["all","veg"]}],Bb=[{name:"New",selected:!1},{name:"Bestsellers",selected:!1},{name:"Best Value",selected:!1}],Yb=function(e,t){return"true"===e===t},Gb=function(e,t){var n=[];return e.forEach((function(e){e[t].forEach((function(e){var t={name:e,checked:!1};n.push(t)}))})),n},Kb=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"equals",i=[],c=e.categories.filter((function(e){return!e.isHidden})).map((function(e){var c,o=e.products.filter((function(e){return!e.isHidden&&e[t]===n}));return"exists"===a&&(o=e.products.filter((function(e){return!e.isHidden&&-1!==e[t].toLowerCase().indexOf(n)}))),!!(null===(c=o)||void 0===c?void 0:c.length)&&(e.products=o,i.push(o),e)})).filter(Boolean);return{productArr:i,filteredObj:c}},Vb=function(e,t){return e.filter((function(e){return e.items.find((function(e){return e.additionalProperties.find((function(e){return e.key===t.name&&Yb(e.value.toLowerCase(),t.checked)}))}))}))},Wb=function(e,t){return e.flat().filter((function(e){return e.items.find((function(e){return e.additionalProperties.find((function(e){return e.key===t.name&&Yb(e.value.toLowerCase(),t.checked)}))}))}))},qb=function(e){var t,n,r,s=Object(i.useState)(Object(T.Lb)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=e.contentData,O=e.selectedCat,m=Object(i.useContext)(I.a),f=m.userOrderState,p=m.userOrderStateDispatch,h=v.selectedTile,g=v.storeInfo,x=v.dispositionType,N=v.tenantReducer,C=Be,S=_e.a.DISPOSITION_DATA,A=Object(E.b)(),y=g&&g.summary&&g.summary.menu&&g.summary.menu.catalogs&&g.summary.menu.catalogs.length&&g.summary.menu.catalogs[0]||(null===N||void 0===N?void 0:N.genericMenuName)||"",_=null===g||void 0===g?void 0:g.id,D=x,R=Object(o.g)(),w=Object(E.c)((function(e){return e.cartReducer})),L=Object(E.c)((function(e){return e.menuReducer})),k=Object(T.wb)(L.data),P=Object(T.wb)(L.flatResponse),M=Object(T.wb)(L.recommendedProducts),F=Object(i.useState)([]),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=Object(i.useState)([]),G=Object(j.a)(Y,2),K=G[0],V=G[1],W=Object(i.useState)([]),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)([]),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(Gb(Ub,"filterBy")),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)(Gb(Ub,"dietry")),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(Bb),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)(!1),xe=Object(j.a)(ge,2),Ne=xe[0],Ee=xe[1],Te=Object(i.useState)(!1),Ie=Object(j.a)(Te,2),Ce=Ie[0],Se=Ie[1],Ae=Object(i.useState)("STORE"),ye=Object(j.a)(Ae,2),De=ye[0],Re=ye[1],we=Object(i.useState)(!1),Le=Object(j.a)(we,2),ke=Le[0],Pe=Le[1],Me=Object(i.useState)(""),Fe=Object(j.a)(Me,2),He=Fe[0],Ue=Fe[1],Ye=Object(i.useState)(""),Ge=Object(j.a)(Ye,2),Ke=Ge[0],qe=Ge[1],ze=Object(i.useMemo)((function(){return Object(T.Eb)(f.currentStoreInfo)?Object(T.b)(localStorage.getItem("currentStoreInfo")):f.currentStoreInfo}),[f.currentStoreInfo]),Qe=Object(T.wb)(null===ze||void 0===ze||null===(t=ze.summary)||void 0===t?void 0:t.timings),Je=Qe.futureDates,Xe=Qe.scheduled,Ze=Qe.asap,tt=Object(T.wb)(Xe).unavailibilities,at=Object(T.wb)((null===Xe||void 0===Xe||null===(n=Xe.periods)||void 0===n?void 0:n.length)&&(null===Xe||void 0===Xe?void 0:Xe.periods[0])),it=at.interval,ct=void 0===it?0:it,ot=at.startEndTime,rt=void 0===ot?{}:ot,st=rt.from,dt=rt.to,lt=Object(i.useCallback)((function(){if(Object(T.Fb)(ze)){var e,t,n,a,i,c,o,r=null===(e=ze.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,s=null===(n=ze.summary)||void 0===n?void 0:n.name,d=0===(null===(a=ze.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length),l=function(){var e;return $i(st,dt,ct,null===Ze||void 0===Ze?void 0:Ze.isAvailable,1===(null===Je||void 0===Je?void 0:Je.length)&&(null===N||void 0===N||null===(e=N.country)||void 0===e?void 0:e.toUpperCase())===nt,tt)}();Re(s),function(e,t,n,a){var i=a.setIsStoreClosed,c=a.setIsStoreNone,o=a.setIsModalOpen;"CLOSED"!==n&&!e||t.length?(i(!1),c(!1),o(!1)):(i(!0),c(!1),o(!0))}(d,l,r,{setIsStoreClosed:Ee,setIsStoreNone:Se,setIsModalOpen:Pe})}else Ee(!1),Se(!1),Pe(!1)}),[ze]);Object(i.useEffect)((function(){lt()}),[lt]),Object(i.useEffect)((function(){var e=((null===N||void 0===N?void 0:N.componentOptions)||{}).coupons,t=void 0===e?{}:e,n=t.showCouponCopied,a=void 0!==n&&n,i=t.couponCopiedMessage,c=void 0===i?"Coupon Copied":i;a&&(null===f||void 0===f?void 0:f.showCouponCopied)&&(Jt.b.dark(Object(u.jsx)("div",{className:"img-text-div","data-testid":"toast-msg",children:Object(u.jsx)("span",{className:"text",children:c})}),{className:"copied-toast-position",bodyClassName:"success-copied-toast",hideProgressBar:!0,position:Jt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Jt.b.dismiss(),p({type:Dr.f})}),4e3))}),[]);var ut=function(e){var t,n=JSON.parse(JSON.stringify(k)),i=Object(vo.a)(n.products),c=[];if(e.find((function(e){return"all"===e.name})))c.push(n.products);else{var o=e.filter((function(e){return e.flag===Ve})),r=e.filter((function(e){return e.flag===We})),s=function(e,t,n){return e.length>0?(e.forEach((function(e,a){if(0===t.length){var i=Vb(n,e);i.length>0&&t.push(i)}else{var c,o=Wb(n,e);(c=t[0]).push.apply(c,Object(vo.a)(o))}})),t):[]}(o,c,i);c=function(e,t,n,a){return e&&e.forEach((function(e,i){if(0===t.length)if("all"===e.name)t.push(a.products);else{var c=Vb(n,e);c.length>0&&t.push(c)}else{if("all"===e.name)return null;t=Wb(t,e)}})),t}(r,s,i,n)}t=0===e.length?Object(a.a)({},n):Object(a.a)(Object(a.a)({},n),{},{menu:[],categories:[],products:c.flat()}),B(t)},bt=function(e,t){if(Object(T.Lb)(window.innerWidth)||ls({eventType:"filterItems",selectedData:{filterSelected:t===Ve?e.target.value:"",dietarySelected:t===We?e.target.value:"",sortSelected:""}},"filterSelected","dietarySelected","sortSelected"),t===Ve){var n=Object(vo.a)(le).map((function(t){if(t.name===e.target.value){if(t.checked){var n=Object(vo.a)(K);n.splice(K.indexOf(e.target.value),1),V(n)}else{var i=Object(vo.a)(K);i.push(e.target.value),V(i)}return Object(a.a)(Object(a.a)({},t),{},{checked:!t.checked,flag:Ve})}return Object(a.a)({},t)})),i=n.filter((function(e){return e.checked}));ut([].concat(Object(vo.a)(oe),Object(vo.a)(i))),ae(i),ue(n)}else if(t===We){var c=Object(vo.a)(je).map((function(t){if(t.name===e.target.value){if(t.checked){var n=Object(vo.a)(z);n.splice(z.indexOf(e.target.value),1),Q(n)}else{var i=Object(vo.a)(z);i.push(e.target.value),Q(i)}return Object(a.a)(Object(a.a)({},t),{},{checked:!t.checked,flag:We})}return Object(a.a)({},t)})),o=c.filter((function(e){return e.checked}));ut([].concat(Object(vo.a)(ne),Object(vo.a)(o))),re(o),Oe(c)}},vt=function(e){Object(T.Lb)(window.innerWidth)||ls({eventType:"filterItems",selectedData:{filterSelected:"",dietarySelected:"",sortSelected:e.target.value}},"filterSelected","dietarySelected","sortSelected");var t=Object(vo.a)(pe).map((function(t){return t.name===e.target.value?Object(a.a)(Object(a.a)({},t),{},{selected:!t.selected}):Object(a.a)(Object(a.a)({},t),{},{selected:!1})}));$([t.find((function(e){return e.selected})).name]),he(t)},jt=function(e){var t=JSON.parse(JSON.stringify(k)),n=Kb(t,"mdmId",e,"equals"),a=n.productArr,i=n.filteredObj,c=Object.assign(t,{menu:[],categories:i,products:a.flat()});B(c)},Ot=function(e){if(e){var t=JSON.parse(JSON.stringify(k)),n=Kb(t,"name",e,"exists"),a=n.productArr,i=n.filteredObj,c=Object.assign(t,{menu:[],categories:i,products:a.flat()});B(c),ds({eventType:"userSearch",selectedData:{searchTerm:e,resultsFound:a.flat().length}},"searchTerm","resultsFound")}else B({})},mt=function(e){var t="";if("string"===typeof e){var n=Object(vo.a)(je).map((function(n){return e===n.name?(t="dietary",Object(a.a)(Object(a.a)({},n),{},{checked:!1})):Object(a.a)({},n)}));if("dietary"===t){var i=n.filter((function(e){return e.checked}));console.log([].concat(Object(vo.a)(ne),Object(vo.a)(i))),ut([].concat(Object(vo.a)(ne),Object(vo.a)(i))),re(i),Oe(n);var c=Object(vo.a)(z);c.splice(z.indexOf(e),1),Q(c)}var o=Object(vo.a)(le).map((function(n){return e===n.name?(t="filter",Object(a.a)(Object(a.a)({},n),{},{checked:!1})):Object(a.a)({},n)}));if("filter"===t){var r=o.filter((function(e){return e.checked}));ut([].concat(Object(vo.a)(oe),Object(vo.a)(r))),ae(r),ue(o);var s=Object(vo.a)(K);s.splice(K.indexOf(e),1),V(s)}""===t&&(he(pe.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))),$([]))}else{var d=Object(vo.a)(je).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{checked:!1})}));Oe(d);var l=Object(vo.a)(le).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{checked:!1})}));ue(l),he(pe.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))),ut([]),V([]),Q([]),$([]),ae([]),re([])}},ft=function(e){Ue(e)};Object(i.useEffect)((function(){w.showProductListingModal&&A(Object(_t.s)({showProductListingModal:!1,categorySelected:""}))}),[R]),Object(i.useEffect)((function(){y&&D&&(null===N||void 0===N?void 0:N.tenantId)&&A(Object(Oi.e)({channel:C,service:D,tenantId:N.tenantId}))}),[_,D,null===N||void 0===N?void 0:N.tenantId,He]);var ht=function(){var e=Object(T.Lb)(window.innerWidth);b(e)},gt=function(){var e=document.getElementById(Ke);e&&(e.style.border="none")};Object(i.useEffect)((function(){window.addEventListener("resize",ht)}),[l]);var xt=function(){Pe(!1)},Nt=ke&&function(e,t,n,a){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h1",{children:[$e,", ",e," ",et]}),Object(u.jsx)("p",{children:"Please select a different store or order during working hours."}),Object(u.jsxs)("div",{className:"d-flex justify-content-center action-buttons",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-light mr-3","data-dismiss":"modal","data-testid":"close-modal-id",onClick:function(){return a()},children:"Keep Browsing"}),Object(u.jsx)("button",{type:"button",className:"btn btn-dark ml-3","data-dismiss":"modal","data-testid":"schedule-order-btn",onClick:function(e){return n(e,t)},children:"Find Open KFC"})]})]})}(De,g,(function(e,t){e.preventDefault(),e.stopPropagation(),p({type:S,value:{showDisposition:!0}}),xt()}),xt);return Object(u.jsxs)(c.a.Fragment,{children:[ke?Object(u.jsx)(pt,{show:!0,autoFocus:!0,classNames:"storeclosedmodal",children:Nt,showCloseBtn:!0,closeButtonHandler:function(){return xt()},modalTitleRequired:!0,backBtnClassName:"custom-modal-back",backBtnAlt:"back",closeDataTestId:"",backDataTestId:""}):null,l?Object(u.jsx)("div",{"data-testid":"mobile-plp-container",onClick:gt,children:Object(u.jsx)(Rb,Object(a.a)(Object(a.a)({},e),{},{tenantData:N,data:k,selectedTile:h,filterList:K,dietaryList:z,sortByListMob:Z,filterOptions:le,dietaryOptions:je,sortByOptions:pe,handleCheckbox:bt,handleClearItems:mt,handleRadio:vt,handleFilteredData:jt,handleSearchdata:Ot,tempData:U,recommendations:M,catalogs:y,selectedCat:O,triggerGetRecommends:ft,storeClosedData:{isStoreClosed:Ne,isStoreNone:Ce,storeName:De,isModalOpen:ke},setProductId:qe}))}):Object(u.jsx)("div",{"data-testid":"desktop-plp-container",className:"plp-container",onClick:gt,children:Object(u.jsx)(Nb,Object(a.a)(Object(a.a)({},e),{},{tenantData:N,data:k,selectedTile:h,filterList:K,dietaryList:z,sortByList:Z,filterOptions:le,dietaryOptions:je,sortByOptions:pe,handleCheckbox:bt,handleClearItems:mt,handleRadio:vt,handleFilteredData:jt,handleSearchdata:Ot,tempData:U,recommendations:M,catalogs:y,selectedCat:O,triggerGetRecommends:ft,storeClosedData:{isStoreClosed:Ne,isStoreNone:Ce,storeName:De,isModalOpen:ke},setProductId:qe}))}),f.addToCart&&f.isLocalized&&!f.fromPdpPage?Object(u.jsx)(Fb,{flatResponse:P,tenantReducer:N}):null,w.showProductListingModal&&Object(u.jsx)(Ed,{}),(null===(r=f.cartAlertData)||void 0===r?void 0:r.showCartAlert)&&Object(u.jsx)(Hb,{})]})},zb=n.p+"static/media/GoTop.c21e2377.svg",Qb=function(e){var t=e.showThreshold,n=void 0===t?300:t,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useState)(0),d=Object(j.a)(s,2),l=d[0],b=d[1];return Object(i.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop;r(!(e<n)),b(e<=0?0:e)};return cs.scroller.scrollTo("root",{duration:1500,delay:100,smooth:!0,containerId:"root"}),window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[l]),o&&Object(u.jsx)(cs.Link,{className:"backToTop show",to:"root",spy:!0,smooth:!0,activeClass:"active",children:Object(u.jsx)(A.a,{srcFile:zb,className:"back-to-top-icon",alt:"back-to-top"})})},Jb=function(e,t,n,a){var i=S.R,c={};if((e||{}).tenantId&&t)if(Object(O.isEmpty)(n)||Object(O.isEmpty)(a)){if(!Object(O.isEmpty)(n)){var o=null===t||void 0===t?void 0:t.find((function(e){return e.url===n}));if(o||null===t||void 0===t||t.find((function(e){var t,a=null===(t=e.categories)||void 0===t?void 0:t.find((function(e){return e.url===n}));return o=a,!!a})),o){var r,s,d,l,u=null!==(l=o)&&void 0!==l?l:{},b=u.dname;b=void 0===b?[]:b;var v=Object(j.a)(b,1)[0],m=(v=void 0===v?{}:v).value,f=u.shortDescription;f=void 0===f?[]:f;var p=Object(j.a)(f,1)[0],h=(p=void 0===p?{}:p).value,g=u.longDescription;g=void 0===g?[]:g;var x=Object(j.a)(g,1)[0],N=(x=void 0===x?{}:x).value,E=u.imageName,I=void 0===E?[]:E;c={Category:m,CategoryURL:null===(r=window)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.href,CategoryDescription:null!==(d=null!==N&&void 0!==N?N:h)&&void 0!==d?d:m,CategoryImage:Object(T.V)(I,e)},i=S.Q}}}else{var C,A=null!==(C=null===t||void 0===t?void 0:t.find((function(e){return e.url===n})))&&void 0!==C?C:{},y=A.dname;y=void 0===y?[]:y;var _=Object(j.a)(y,1)[0],D=(_=void 0===_?{}:_).value,R=A.products,w=void 0===R?[]:R,L=null===w||void 0===w?void 0:w.find((function(e){return Object(j.a)(e.items,1)[0].url===a}));if(L){var k,P,M,F=L.items;F=void 0===F?[{}]:F;var H=Object(j.a)(F,1)[0],U=H.dname;U=void 0===U?[]:U;var B=Object(j.a)(U,1)[0],Y=(B=void 0===B?{}:B).value,G=H.shortDescription;G=void 0===G?[]:G;var K=Object(j.a)(G,1)[0],V=(K=void 0===K?{}:K).value,W=H.longDescription;W=void 0===W?[]:W;var q=Object(j.a)(W,1)[0],z=(q=void 0===q?{}:q).value,Q=H.imageName,J=void 0===Q?[]:Q;c={Category:D,Product:Y,ProductURL:null===(k=window)||void 0===k||null===(P=k.location)||void 0===P?void 0:P.href,ProductDescription:null!==(M=null!==z&&void 0!==z?z:V)&&void 0!==M?M:Y,ProductImage:Object(T.V)(J,e)},i=S.cb}}return{seoPage:i,seoObject:c}},Xb=ob((function(e){var t,n,a,r,s,d=sb.DISPOSITION,l=Object(i.useState)(S.R),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(),f=Object(j.a)(m,2),h=f[0],g=f[1],N=Object(i.useContext)(I.a).userOrderState,A=Object(E.c)((function(e){return e.tenantReducer})),y=Object(E.c)((function(e){return e.menuReducer})).data,_=(y=void 0===y?{}:y).categories,D=void 0===_?[]:_,R=(null!==A&&void 0!==A?A:{}).tenantId,w=Object(o.h)(),L=w.category_name,k=w.product_name,P=Object(i.useState)(!0),M=Object(j.a)(P,2),F=M[0],H=M[1],U=Object(T.Eb)(N.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):N.dispositionNew,B=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(A)?A:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:U?U.store:{},dispositionType:U&&U.type?Object(T.L)(U.type):Object(T.L)(null===(e=A.authoredContent)||void 0===e?void 0:e.defaultdisposition),selectedTile:N&&Object(T.Fb)(N.selectedTile)?N.selectedTile:JSON.parse(localStorage.getItem("selectedTile"))}}),[U,A,N]),Y=null,G=null,K=null,V=Object(E.b)(),W=Object(E.c)((function(e){return e.appStateReducer.userStatus})),q=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantData:e.tenantReducer}}));if(q.marketPageContent&&q.tenantData&&q.homePageContent){G=Object(T.Y)(q.homePageContent)||null;var z=q.marketPageContent.headerData||{},Q=z.header,J=void 0===Q?{}:Q,X=z.footer,Z=void 0===X?{}:X;Y=Object(T.Z)(J),K=Object(T.R)(Z)}return Object(i.useEffect)((function(){N.cmsInitialized&&V(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===A||void 0===A?void 0:A.country,"fields.channel":wa.b.channel,include:5}}))}),[V,null===A||void 0===A?void 0:A.country,N.cmsInitialized]),Object(i.useEffect)((function(){N.cmsInitialized&&V(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:W}))}),[V,W,R,N.cmsInitialized]),Object(i.useEffect)((function(){if(R){var e=Jb(A,D,L,k),t=e.seoPage,n=e.seoObject;O(t),g(n)}}),[R,L,k]),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(cb,{}),Object(T.Fb)(Y)&&Object(u.jsx)($a,{contentData:Y,tenantReducerData:q.tenantData,userParams:W}),Object(u.jsx)(Kr,{page:v,seoObj:h}),Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=G)||void 0===n?void 0:n[d])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=G)||void 0===r?void 0:r[d])&&void 0!==a?a:{}},userParams:W}),Object(u.jsx)(qb,{setShowTopScrollBtn:H,contentData:B,selectedCat:null===e||void 0===e||null===(s=e.location)||void 0===s?void 0:s.selectedCat,history:e.history}),Object(T.Fb)(K)&&Object(u.jsx)(ma,{history:e.history,contentData:K,tenantReducerData:q.tenantData}),N.showCartClearAlert&&Object(u.jsx)(Zd,{}),F&&Object(u.jsx)(Qb,{showThreshold:500})]})})),Zb=n.p+"static/media/Native_select a kfc_grey image.6e97ff02.svg",$b=function(e){var t=e.couponApplyHandler,n=e.data,a=void 0===n?{}:n,o=e.tenantId,r=void 0===o?"":o,s=e.id,d=void 0===s?"":s,l=e.onStartOrderClick,b=e.showViewDetailsButton,v=void 0!==b&&b,O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(T.B)(window.innerWidth),g=function(){p(!0)},x=function(e){if((null===e||void 0===e?void 0:e.showTimer)&&Object(Mt.g)(null===e||void 0===e?void 0:e.endTime)){var t=Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:Ut}),Object(u.jsx)(Yt,{endTime:null===e||void 0===e?void 0:e.endTime})]});return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Da.a,{src:Ar,className:"offers-ribbon timer"}),Object(u.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null===e||void 0===e?void 0:e.header){var n=null===e||void 0===e?void 0:e.header;return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Da.a,{src:yr,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"ribbon-text text-white",children:n})]})}};return Object(u.jsxs)(c.a.Fragment,{children:[function(){switch(a.cardType){case"image-text":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[x(e),Object(u.jsx)(A.a,{"data-testid":"offers-deals-card-image",className:"offers-menu-product-image",srcFile:"".concat(Object(Ht.a)(Gt.K)).concat(r,"/images/offers/").concat(h,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Ht.a)(Gt.K)).concat(r).concat(Dr.a)}),Object(u.jsxs)("div",{className:"offers-card-content","data-testid":"offers-deals-card-header",children:[Object(u.jsx)("h4",{className:"offers-deals-product-title",children:null===e||void 0===e?void 0:e.heading}),Object(u.jsx)("h5",{className:"offers-deals-product-desc",children:null===e||void 0===e?void 0:e.description})]}),Object(u.jsxs)("div",{"data-testid":"offers-deals-card-footer",className:"offer-button-container",children:[Object(u.jsx)(ht.a,{disabled:!v,"data-testid":"details-button",className:"view-details-btn",onClick:function(){return g()},children:Object(Ae.e)(Dr.v)}),Object(u.jsx)(ht.a,{onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"redeem-btn","data-testid":"redeem-button",children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ae.e)(Dr.p):Object(Ae.e)(Dr.q)})})]})]},n)}(a,d);case"image":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[x(e),Object(u.jsx)(A.a,{"data-testid":"offers-deals-card-image",className:"offers-menu-product-full-image",srcFile:"".concat(Object(Ht.a)(Gt.K)).concat(r,"/images/offers/").concat(h,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Ht.a)(Gt.K)).concat(r).concat(Dr.a)}),Object(u.jsxs)("div",{"data-testid":"offers-deals-card-footer",className:"offer-button-container",children:[Object(u.jsx)("button",{className:"view-details-btn image-full-text-btn",onClick:function(){return g()},"data-testid":"details-button",disabled:!v,children:Object(Ae.e)(Dr.v)}),Object(u.jsx)("button",{className:"redeem-btn redeem-button-full-image-text",onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,"data-testid":"redeem-button",children:Object(u.jsx)("span",{"data-testid":"btn-txt",className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ae.e)(Dr.p):Object(Ae.e)(Dr.q)})})]})]},n)}(a,d);case"text":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[x(e),Object(u.jsxs)("div",{className:"offers-card-content-text",children:[Object(u.jsxs)("div",{className:"offers-card-title-desc","data-testid":"offers-deals-card-header",children:[Object(u.jsx)("h4",{className:"offers-deals-product-title",children:null===e||void 0===e?void 0:e.heading}),Object(u.jsx)("h5",{className:"offers-deals-product-desc",children:null===e||void 0===e?void 0:e.description}),(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("h5",{className:"offers-deals-product-valid",children:"".concat(Object(Ae.e)(Dr.t)," ").concat(Object(Mt.e)(null===e||void 0===e?void 0:e.endTime))})]}),Object(u.jsxs)("div",{className:"offer-button-container","data-testid":"offers-deals-card-footer",children:[Object(u.jsx)(ht.a,{"data-testid":"details-button",disabled:!v,onClick:function(){return g()},className:"view-details-btn",children:Object(Ae.e)(Dr.v)}),Object(u.jsx)(ht.a,{"data-testid":"redeem-button",onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"redeem-btn",children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Ae.e)(Dr.p):Object(Ae.e)(Dr.q)})})]})]})]},n)}(a,d);case"store":return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals store-card",children:[Object(u.jsx)("img",{src:Zb,className:"offers-store-image",alt:""}),Object(u.jsx)("h3",{className:"offer-store-text",children:Object(Ae.e)(Dr.g)}),Object(u.jsx)("div",{className:"offer-store-btn-container",children:Object(u.jsx)(ht.a,{className:"store-btn",onClick:l,ariaLable:Object(Ae.e)(Dr.d),children:Object(Ae.e)(Dr.d)})})]});case"login":return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals login-card",children:[Object(u.jsx)("h3",{className:"offer-login-text",children:Object(Ae.e)(Dr.s)}),Object(u.jsx)("div",{className:"offer-login-btn-container",children:Object(u.jsx)(ht.a,{className:"login-btn","data-testid":"login-btn",onClick:function(){return Object(T.h)()},ariaLable:Object(Ae.e)(Dr.j),children:Object(Ae.e)(Dr.j)})})]})}}(),f&&Object(u.jsx)(Rr,{"data-testid":"deals-modal",data:a,isDealModalOpen:f,handleClose:function(){p(!1)},couponApplyHandler:t})]})},ev=function(e){var t,n,a,c=e.isLocalized,o=void 0!==c&&c,r=e.onStartOrderClick,s=e.isLoggedIn,d=void 0!==s&&s,l=e.copyCoupon,b=Object(E.c)((function(e){return e.tenantReducer})),v=Object(i.useState)(Dr.c),O=Object(j.a)(v,2),m=O[0],f=O[1],p=b.tenantId,h=void 0===p?"":p,g=b.componentOptions,x=((null===g||void 0===g||null===(t=g.routes)||void 0===t||null===(n=t.Home)||void 0===n?void 0:n.offersAndDeals)||{}).showViewDetailsButton,N=Object(E.c)((function(e){return e.cartReducer})),I=Object(E.c)((function(e){return e.profileReducer})),C=N.applicableCoupons,S=void 0===C?[]:C,A=N.cartData,y=void 0===A?{}:A,_=Object(E.b)(),D=function(e,t,n){var a=Object(vo.a)(n);return!t&&!wa.b.isGoogle&&a.unshift({cardType:"login"}),!e&&a.unshift({cardType:"store"}),a}(o,d,(a=S,Object(Mt.i)(a))),R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Math.ceil(n.length/t);if(e<=a&&Array.isArray(n)&&n.length){var i=0,c=e*t>n.length-1?n.length:e*t;return n.slice(i,c)}return n}(m,Dr.b,D),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Math.ceil(t.length/e)}(Dr.b,D),L=function(t){o?(l(t),Object(T.Ab)(e.history)):(l(t),r())};Object(i.useEffect)((function(){((null===y||void 0===y?void 0:y.id)||d||o)&&h&&k()}),[y,o,d,I,h]);var k=function(){_(o?Object(_t.g)({basketId:null===y||void 0===y?void 0:y.id,tenantId:h}):d?Object(_t.h)({tenantId:h,userId:I.customerId}):Object(_t.i)({tenantId:h}))};return Object(u.jsxs)("div",{className:"offer-deals-container",children:[Object(u.jsx)("div",{className:"offer-card-container",children:R.map((function(e,t){return Object(u.jsx)($b,{couponApplyHandler:L,onStartOrderClick:r,data:e,id:t,tenantId:h,showViewDetailsButton:x},t)}))}),m!==w&&w>1&&Object(u.jsxs)("div",{className:"load-more-container",children:[Object(u.jsx)(ht.a,{"data-testid":"load-more-btn",className:"button whiteButton blackBorder load-btn",onClick:function(){return f(m+1)},disabled:m===w,children:Object(Ae.e)(Dr.h)}),Object(u.jsx)("span",{className:"page-desc",children:"".concat(Object(Ae.e)(Dr.u)," ").concat(Dr.b*m," ").concat(Object(Ae.e)(Dr.o)," ").concat(D.length)})]})]})},tv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAeCAYAAAB5c901AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABNSURBVHgB7c9BDQAgAMPAgQ4c4F8KDvABFuBHSe+9LGmZ6SsXWkY52b3yW/M5A+kMpDOQzkA6A+kMpDOQzkA6A+kMpDOQzkA6A+kMpNu9MQhKmC+cDgAAAABJRU5ErkJggg==",nv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAUCAYAAAAOTSQ2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABDSURBVHgB7c4xDQAgEATBf3TgAP9ScIAPcPAkS0Ox014u2VwxdhR6zKz2l//t2+JjxlHGUcZRxlHGUcZRxlHGUcZRB8JSCDYbp9G6AAAAAElFTkSuQmCC",av=function(e){var t=e.isLoggedIn,n=void 0!==t&&t,a=e.isMobile,i=e.isLocalized,c=void 0!==i&&i;return Object(u.jsxs)("div",{className:"deals-offers-header","data-testid":"offers-deals-header",children:[Object(u.jsx)("div",{className:"deals-offers-header-icon",children:Object(u.jsx)("img",{className:"deals-stripe-icon",src:a?nv:tv,alt:""})}),Object(u.jsxs)("div",{className:"deals-header-text-container",children:[Object(u.jsx)("h2",{className:"header-text","data-testid":"header-text",children:n||c?Object(Ae.e)(Dr.i):Object(Ae.e)(Dr.n)}),!n&&Object(u.jsx)("p",{"data-id":S.l.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"offers-deals-signin-text",className:"login-text",onClick:function(){return Object(T.h)()},children:Object(Ae.e)(Dr.k)})]})]})},iv=n.p+"static/media/offer_deals_banner.777f20e1.svg",cv=function(e){var t=e.onStartOrderClick,n=e.copyCoupon,c=Object(i.useState)(Object(T.Lb)(window.innerWidth)),o=Object(j.a)(c,2),r=o[0],s=o[1],d=Object(E.c)((function(e){return e.appStateReducer})).userStatus,l=void 0===d?{}:d,b=l.localized,v=void 0!==b&&b,O=l.loggedIn,m=void 0!==O&&O,f=Object(i.useContext)(I.a).userOrderState;Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){return window.addEventListener("resize",p),function(){window.removeEventListener("resize",p)}}));var p=function(){s(Object(T.Lb)(window.innerWidth))};return Object(u.jsxs)("div",{className:"deals-offer-container-section",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(iv,")")},className:"deals-header-image",children:Object(u.jsx)("h2",{className:"deals-image-text",children:Object(Ae.e)(Dr.e)})}),Object(u.jsxs)("div",{className:"deals-offers-container",children:[Object(u.jsx)(av,{isLoggedIn:m,isMobile:r,isLocalized:v}),Object(u.jsx)(ev,Object(a.a)({onStartOrderClick:t,copyCoupon:n,isLoggedIn:m,isLocalized:v},e))]}),f.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},ov=function(e){var t,n,o,r,s=Object(E.c)((function(e){return e.appStateReducer.userStatus})),d=_e.a.DISPOSITION_DATA,l=Object(i.useContext)(I.a),b=l.userOrderState,v=l.userOrderStateDispatch,j=Object(E.c)((function(e){return e.tenantReducer})),O=Object(T.Eb)(b.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):b.dispositionNew,m=(Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(j)?j:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:O?null===O||void 0===O?void 0:O.store:{},dispositionType:O&&O.type?Object(T.L)(O.type):Object(T.L)(null===j||void 0===j||null===(e=j.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[O,j]),null),h=null,g=null,N=f.a.DISPOSITION,S=Object(E.b)();Object(i.useEffect)((function(){S(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===j||void 0===j?void 0:j.country,"fields.channel":wa.b.channel,include:5}})),S(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:s}))}),[S,null===j||void 0===j?void 0:j.country,s]);var A=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null}}));if(A.marketPageContent&&A.tenantReducerContent&&A.homePageContent){m=Object(T.Y)(A.homePageContent);var y=A.marketPageContent.headerData||{},_=y.header,D=void 0===_?{}:_,R=y.tenant,w=void 0===R?[]:R,L=y.footer,k=void 0===L?{}:L;h=Object(T.Z)(D),g=Object(T.R)(k),Object(T.nb)(w)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(h)&&Object(u.jsx)($a,{contentData:h,tenantReducerData:A.tenantReducerContent,userParams:s})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=m)||void 0===n?void 0:n[N])&&void 0!==t?t:{},contentDispositionData:null!==(o=null===(r=m)||void 0===r?void 0:r[N])&&void 0!==o?o:{}},userParams:s}),Object(u.jsx)(cv,Object(a.a)({"data-testid":"deals-offers-container",copyCoupon:function(e){navigator&&navigator.clipboard&&navigator.clipboard.writeText(e),v({type:Dr.r})},onStartOrderClick:function(){v({type:d,value:{showDisposition:!0}})}},e)),Object(T.Fb)(g)&&Object(u.jsx)(ma,{history:e.history,contentData:g,tenantReducerData:A.tenantReducerContent})||null]})},rv=n(140),sv=n(217),dv=function(e){var t=e.isMobile,n=kn.a.CART_HEADER;return Object(u.jsxs)("div",{className:"cart-header","data-testid":"cart-header-test",children:[Object(u.jsx)("img",{src:t?nv:tv,alt:" "}),Object(u.jsx)("h1",{className:"cart-header-text",children:Object(Ae.e)(n)})]})},lv=function(e,t,n){Object(T.Fb)(e)?(t(e.id),n(e.price)):(t(""),n(0))},uv=function(e,t){Object(T.Fb)(e)?t(e.id):t("")},bv=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.currencySymbol,c=void 0===a?"":a,o=e.currencyConversionFactor,r=void 0===o?"":o,s=e.addHope,d=void 0===s?"":s,l=e.carryBag,b=void 0===l?"":l,v=e.bucketId,O=void 0===v?"":v,m=e.isMobile,f=e.tenantId,p=void 0===f?"":f,h=e.confirmChangesHandler,g=e.dispositionData,x=void 0===g?{}:g,N=n.totalAmount,C=void 0===N?"":N,S=n.quantity,A=void 0===S?"":S,y=n.additionalCharges,_=void 0===y?[]:y,D=n.discountAmounts,R=void 0===D?[]:D,w=n.subTotal,L=void 0===w?"":w,k=n.taxAmounts,P=void 0===k?"":k,M=Object(E.b)(),F=Ii({cartId:O},p,void 0,void 0,void 0,M,void 0).itemRemoveHandler,H=kn.a.CART_SUMMARY_CARD,U=void 0===H?{}:H,B=kn.a.FROMCHECKOUT,Y=void 0===B?"":B,G=U.QUANTITY_TEXT,K=U.QUANTITYS_TEXT,V=U.SUBTOTAL,W=U.ADD_HOPE_HEADER,q=U.ADD_HOPE_TEXT,z=U.CHECKOUT,Q=U.CARRY_BAG,J=U.TAKEAWAY,X=U.RESTAURANT_HANDLING_CHARGE,Z=U.GST,$=U.DONATE,ee=U.addHopeText,te=U.largeCarryBagText,ne=U.SEARCH_IN_MENU,ae=U.SEARCH_IN_CART,ie=Object(i.useState)(!1),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(E.c)((function(e){return e.menuReducer.flatResponse})),de=(Object(E.c)((function(e){return e.cartReducer}))||{}).cartData,le=void 0===de?{}:de,ue=Object(i.useState)(),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=Object(i.useState)(0),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=Object(i.useState)(),ge=Object(j.a)(he,2),xe=ge[0],Ne=ge[1],Ee=Object(i.useState)(0),Te=Object(j.a)(Ee,2),Ie=Te[0],Ce=Te[1],Se=Object(i.useState)(),ye=Object(j.a)(Se,2),_e=ye[0],De=ye[1],Re=Object(i.useState)(),we=Object(j.a)(Re,2),Le=we[0],ke=we[1],Pe=Object(i.useContext)(I.a).userOrderState,Me=localStorage.getItem("expiryMessage");Object(i.useEffect)((function(){if(Object(T.Fb)(se)){var e=se.items.length>0?Object(T.s)(se.items,d,r,ne):{};lv(e,je,pe);var t=se.items.length>0?Object(T.y)(se.items,b,r,ne):{};lv(t,Ne,Ce)}}),[se]),Object(i.useEffect)((function(){if(Object(T.Fb)(le)&&!(null===le||void 0===le?void 0:le.errorCode)){var e=le.foodLines.length>0?Object(T.s)(le.foodLines,d,r,ae):{};uv(e,De);var t=le.foodLines.length>0?Object(T.y)(le.foodLines,b,r,ae):{};uv(t,ke)}}),[le]);var Fe=function(e,t){e.stopPropagation(),e.preventDefault();var n=e.target.checked,a=e.target.id;n?M(Object(_t.a)({params:{basketId:O},tenantId:p},[{Id:a,categoryId:"",quantity:1,modGrps:[]}])):F({foodLineId:t,flag:"specialItems"});M(Object(_t.r)(new Date))},He=function(){var e=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||t.top<0&&t.bottom<0||t.top<=0&&t.bottom>0}(document.getElementById("summary-card"));re(e)};Object(i.useEffect)((function(){return m&&document.addEventListener("scroll",He),function(){document.removeEventListener("scroll",He)}}),[]);var Ue=function(e){e.stopPropagation(),e.preventDefault(),h(Y),tn()};return Object(u.jsxs)("div",{className:"cart-summary-card",id:"summary-card","data-testid":"cart-summary-card-test",children:[Object(u.jsxs)("h2",{className:"cart-summary-item-count",children:[A," ",Object(T.pb)(1===A,Object(Ae.e)(G),Object(Ae.e)(K))]}),Object(u.jsx)("div",{className:"cart-summary-coupons",children:Object(u.jsx)(Pn,{bucketId:O})}),Object(u.jsxs)("div",{className:"cart-summary-content",children:[Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ae.e)(V)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[c,L]})]}),Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ae.e)(Z)}),Object(u.jsx)("div",{className:"cart-summary-content-item-value",children:P})]}),_.length>0&&_.map((function(e,t){return Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ae.e)(X)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[c,e.amount]})]},t)})),R.length>0&&R.map((function(e,t){return Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsxs)("div",{className:"cart-summary-content-item-name d-flex",children:[Object(u.jsxs)("span",{className:"cart-discount-code",children:[Object(Ae.e)("DiscountText")," (",e.couponCode,")"]}),Object(u.jsx)("span",{className:"cart-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:function(){return t=null===e||void 0===e?void 0:e.couponCode,localStorage.removeItem("expiryMessage"),void M(Object(_t.m)({basketId:O,tenantId:p,couponCode:t}));var t},children:Object(u.jsx)("img",{src:Mn})})]}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:["- ",c,e.amount]})]},t)})})),(null===Pe||void 0===Pe?void 0:Pe.couponErrorMessage)&&Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:Rt,alt:"close"}),Object(u.jsx)("span",{children:null===Pe||void 0===Pe?void 0:Pe.couponErrorMessage})]})})}),vv(Me),x.type===J&&Le?Object(u.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-carry-bag-text",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ae.e)(te)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[c,null===Ie||void 0===Ie?void 0:Ie.toFixed(2)]})]}):null,_e?Object(u.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-add-hope-text",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Ae.e)(ee)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[c,null===fe||void 0===fe?void 0:fe.toFixed(2)]})]}):null]}),x.type===J&&xe?Object(u.jsxs)("div",{className:"cart-carry-bag-container",children:[Object(u.jsx)("input",{type:"checkbox",className:"cart-carry-bag-checkbox","data-testid":"cart-carry-bag-checkbox",checked:!!Le,id:xe,onChange:function(e){return Fe(e,Le)}}),Object(u.jsxs)("label",{className:"cart-carry-bag-header",htmlFor:xe,children:[Object(u.jsx)("span",{children:"".concat(c).concat(Ie.toFixed(2)," ")}),Object(u.jsx)("span",{children:Object(Ae.e)(Q)})]})]}):null,ve?Object(u.jsxs)("div",{className:"cart-add-hope-container",children:[Object(u.jsx)("input",{type:"checkbox",className:"cart-add-hope-checkbox","data-testid":"cart-add-hope-checkbox",checked:!!_e,id:ve,onChange:function(e){return Fe(e,_e)}}),Object(u.jsxs)("label",{htmlFor:ve,className:"cart-add-hope-content",children:[Object(u.jsxs)("div",{className:"cart-add-hope-header",children:[Object(u.jsx)("span",{children:"".concat(Object(Ae.e)($)," ")}),Object(u.jsx)("span",{children:"".concat(c).concat(fe.toFixed(2)," ")}),Object(u.jsx)("span",{children:Object(Ae.e)(W)})]}),Object(u.jsx)("div",{className:"cart-add-hope-text",children:Object(Ae.e)(q)})]}),Object(u.jsx)("img",{className:"cart-add-hope-image",alt:"Add hope logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAkCAYAAAApbHJOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAy+SURBVHgB7RlpdBRF+qvunpnuCYFck5AQEhKTzEzkWARFRBdcRReVfagc+xBXhFV0UUHB97zQGBf2eOKKIF64bxGVQ9RVEFFxQS65BJFrEoPkDklmckySubtqv+o5ck0CZt9j//i91+maqq+++q76jg7AL9A3qDNYF9iN1j/B/wDnZXNWvWJ+uaJ/fsKFcAW4BEAI+y0w9qpDsTwGfQSRCGMIkAWKn25hSLI33EsilEDgJH8zBs86Yy2J0AcgauB4aHiNQzE/3BvuJRGKMva9NiAwwOWDO6EPICny+fZfZEJvuJdEKGSiMjySCAyBPkBc84lGRsDJxwzI8N5wL4lQARqoD48JAQP0EQiDH7U3sP694Uk9LTj05qlMglsYhYGiQF5rcbn2xhhjliLFj5PaznwFPwMkSXcnv1AcKIMY6AM06C8bqgJJRoH4zwSm6Sf4oyt0iyJ2g3UiI2w57hjWZYn79EAk03zeIyQPhdM+uAA4FOvVDNhfcTi+fZatS3IX/QEuEpoGZMQzn/FplcF85FYOz4sGT3x8U2lTtD0RS1XJ2RkGYngZD71dk5QRFwrXguOUEMpA7S9edpNetYAPfuiJkQY5P0Ml7FEUaKFGisE5VFJWcJVkwEUCRrnH/T6yiPOAJinF95Dwms8t8SgaVSjtTjkNljyZ6HdrAjGm4tQqySClo1Wi5hURSA70AHbZerdK1OOEC8RgB6hSviDCA+F1ZO7qIzBKB72AXZ9nQSvvwYDwdxQkwAS4S68XRmGeqg3jEBDMPe0XGmXLEK8AX+Bhmfi7WgU2Iclte1iLNiBURNuEUSip2xyeUy+b1+BtfgcPb0ZGZiZ5bBOJCK14L99sZwYMeXrfZT0xZDdY5oMo7qfArkXrFrjdrbmmNtv7AT99HS2fEkEkwnU90RAogU9CZi0jIF2d7Cneyxdq5CFDCKGLNRkENsfPuPtoVuT27RR9avrlmBxG61FCyFw8eJNHglHIyPoqGGVkJLAN3S8ZQ8QdKPmXHN8j+O+IKpBsfgZpr0IaXnSY8Yku2/ODodLdIJufRqVNowCvkJBLiwRugR41o1gYfyoM1tzwHJr+UZzz1uM8PovC81h77Q7hr+pEAwXi8w7ZXNhxHvE38flG2bqE/3bG5llC+2sY5Bg6C2R5gq/VGy2na9B7wvO1hrz5OE/tivXYJpgmhng+zHFrlPyroskUzlNMz6hSFZuXhEK8j5p6CbVLqUBnm9y25RFsyj4OjSay0L2oU8x4d9hIdJeNiZ6iZ/lcC1oOmdyFbjgNNbwl3nPmBT7fv6XYhpreg8OBDkUqiAhvNKehXy5DXIyo7MZUj610J0yQ6mTLk5hOViI/zX7Gbp8OH2iegnjr+VsHdJ1DyUnvKhRBDTQiWlynWQYn/TTw+1RfyamO03WQ348orBwZi8eAssYHZCmGzyfR9+9HFz6OanwB3XQo/n4E0Xk1/RFRAvcmNpQ4I5pXzOMEIDsQn4fn3V538yRBH5OlEyVeHzIsqeZKTFBUgc1DnOH4lDJVNynJd8IWplGAxnhIsfDfubh+XmV0Ol6bPRGhGo3m36mMvIrjdLROiwBshVP2Ls/qIQfUGi3zRAavB2Wny1GT76iUHOIBoAOanRHybJJrxht412lXGuhik3HzTKCw0+S1vcmjYabSehgtOyKiVwYe3LiOSf5nBraeretKg7uoHuAptGIdFcVVyW2nI7VhMCWhqcuMtaZMl9FO4Ds/XAAwyhViUJhHqX9csvdsiXYAIVNQy/EYhr82eVL2E9gVgJ8B3J3tcts0LekzdkqUvVt7Sq4XAgJ9hEpsIdJbbI6Oc4wxnsxj8fGg0O4L0XAk5PQnbnKrCmKaxNjRJo/32ywo9UTDteuHWo2iz2l0F1ddiC5xyNa5lNDJksE7O5pmeNlEBTWhze37JNqBKEjsypUrZ+VelnOfMcY4NMFPdTkVDhBTk+rEK3+1Q0iMW4ECHuq6r8lovUJl7CsWvHth8GLR+jcP8a8Z5D4byZH1smU8WnAXntaEFd8n6Jr1Al4VfDdgUqqSKP3hmDe9bLhSOdDpDrTy8OjRwqxsuafrwbyhsytmVVvXW6d0XV+yZMnl48aOPfrh5s2MUnQ+hNbWVvb5itWsKm4Ya7TeyNoKX0He2epuylLM79qDKaOszmj5J55fEU4vOHcuHNYLMCjUK9aS8FoPj9baYCRegHRXCIwRTSOosWu6CdXSwo2phX0mMqWLha7MHJxxDNvskdu3boVlBU+BvcIGRuaEmx64G47fOBrU0kpw/2W10HzdjAcDxed24p4IDRKqO4kqPJLsss3B6mOwSuFmrU7EYkAnwLYqSDU+B6Mwz4aSfpDPDbi+GIPKQhwvx4m1OM2LZmhL8b6R6C5aiNJZPwomTsvnEAXqZWsrX6+Tzfd2ECjd9fW+srsm3cp2/mcn2//Ze4w6KyKPo/wUW/bY46y+X35Em03jZ2CRoL4YplGnWNaHrFJfp8sZGZ4vw6oc3a04lMzn8LkmGBaPlizS6BhyeiyxwiCgbx4NaWBwNAQCtFxD7FjEulzPeR56LiOnwQ3b0ErWvCwIBILKPHWmGM6dK4PiqlLo2JsEDh0Hz1sbHkGFZGv0GHiDdHnvJ0TCvq9Z78L7EwwGTA12zAOaeb3JAxD4QcrnSmiIzx4APYDEQK3FipcLpUQXmxzERSsepJVRyFSMd/O22RRdC9KNKJ8L7n+0EFq9frjt5uv5RxakKsOfC5+A8ztmQ6arPU25X3xTJ8+byS2+BF0qwEBr+RqYSJzILdQbzGZ09tdwfQKubUzylmi1ot+rLMPzUzUlC/ApESSgHq0Mw24AtvtFdXlqa0l9u1CENBLNIhA1P6GP2/k6dqzhpnFMYM8h7T7kN3vhpSNHYP4fZ8LlVjOIqH5ZNkBiYiLYzpwFi1ftRItW1ULAVqJV1xQEf6iLzZUI+Qldrg0ZjwHe+hC2uswdszCiVwGTOQsmZMQ5ge843mNhVOXJeoRelWYxSM0jUOPShMLeqEojTcCETdl0PCcWL6EJ2cnC73XJSGAiBKU2hc7ID/xQpA2udTPYXNMImz74FHLy8sAydBjo9AaoOrcdcuxtYFW7FRNAfywdrQ0I9YbSJIZNXr2TZhyW+1X2Qaq/+HDHPQmufoUOpe0ZHB7EtmhCeJ7XjOgZw5kq+sMCaUJhiWPnFwu0vp9shFDjH8zKRPsQEBxBYgWkcxfVh783GAIUHvfIUMiDk78N9u/dBzOmTYastDFgf/vfEA0IC3sApl2ineDU69S7sdi1Qw9QCg4xFktFvCQ/dpw3uYqq8VXdFV9gkojFJolIyU2MUn2Bw1fx/sxijBaE12RjLC98j4vW9piR7QqAqawB+xsGmdnZcMvkKZrMFWNHwup8E3yRFgvfxkpQoiBL6EfEmnNaOxiLee08LKZ9AciGXqC/IoWa0vZPbb2B5GzzNCUoUgPyYQSJWk+2pJVc36Fuqzdabw1bBjM3r6yP6kaPCHjXfqjdqybMInSQCdJSU+HET+Ww78BR2LH7CEydNg3KmxqhX1wK3LDoIXA2N0Pd9ychKXfIwaD28BteyAsoI5fj61BPTKqCOJTHR0qIEy4ChFwo8fJCQPvlZeT6LoVogIbWODIT8E6TRsPsO9/1piTCmhQ9LE4hYB5/FYy+7gY4fPgwLHp4PtRWV0LGkExQRpih+u310IpJfEBcHOROuJaTWaERI9DakY/emMTPAaEgRSW4GKG0TYRopT0Vu3/51JPA2fDYR2kwN4jCUv+u95pn7dgAgzAwXDHmGshOS4B/vbUS+g2Ih7n3zQFnYyO4G50QFx8HOz/dGiaxCpVSEtJQYzvTQgP0yiQJfptgpLDBaOFd9jf47MJ/OBzAhyflGrshd2IYXwpugmruYAIVun1QSXSXVOImzkA8IeIgfB/hjKF1H/zu2z1rs1yqbt0778Ov45Ohde9hmGtvgbgpCyDpnhlwUyoGzMm3wWfbvwGYNfMI7n0+wiiGcRoKGqJIqnsTCgNKAgS/Xsq4J1h9MMB+lJRjhMZIyb73CtTWSShEbNY+dxL+gaQ7YKQ6gJsnYTU/uP0gsh4F06e89o+l4wpeHJSz5XinPkaMiwUioo4zB8HU2VM349R9uCfSBVS3CUWpCpbBwFaa3KcP9iaUQH0FAaLbhrHIgDx6kaHzWFmUp3lOV0T7SisFhYZyjSEC/aIRDVD/Yp0gbDB56UbopEGyFgXbkj7pN8v8X+4d6z90bDhrwHSjE8Fw2w1O0ZS4j2SkrkW8jV1p8i+8Fbp802Dn6V5dj0OC5ydeqpXDRYImCy/zDYRN94G6e6C75AD0AUINIi82eX/Uhk8VCuOA/wP8F2QYnk+6whGRAAAAAElFTkSuQmCC"})]}):null,m?Object(u.jsx)("div",{className:oe?"cart-summary-checkout-button-mobile":"cart-summary-checkout-button-mobile fixed","data-testid":"navigation-checkout-mobile",onClick:function(e){return Ue(e)},children:Object(u.jsxs)(ht.a,{className:"button redButton cart-summary-checkout-button",ariaLable:"checkout",children:[Object(u.jsx)("span",{children:Object(Ae.e)(z)}),Object(u.jsxs)("span",{children:[c,C]})]})}):Object(u.jsxs)(ht.a,{className:"button redButton cart-summary-checkout-button","data-testid":"navigation-checkout-desktop",onClick:function(e){return Ue(e)},children:[Object(u.jsx)("span",{children:Object(Ae.e)(z)}),Object(u.jsxs)("span",{children:[c,C]})]})]})};function vv(e){return Object(u.jsx)(u.Fragment,{children:e&&Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:Rt,alt:"close"}),Object(u.jsx)("span",{children:e})]})})})})}var jv=function(e){var t=e.contentData,n=void 0===t?[]:t,a=e.isModalOpen,c=kn.a.PRICECHANGENOTIFICATION,o=kn.a.OUTOFSTOCKNOTIFICATION,r=Object(i.useState)(!1),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1];return Object(i.useEffect)((function(){var e=n.filter((function(e){return e.toRemove}));e&&e.length>0?l(!0):l(!1);var t=n.filter((function(e){return e.requireModification}));t&&t.length>0?m(t.length):m(0)}),[n]),Object(u.jsxs)("div",{"data-testid":"cart-notification",children:[d&&!a?Object(u.jsxs)("div",{className:"notify-alert","data-testid":"out-of-stock-notify",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),Object(Ae.e)(o)]}):null,O&&!a?Object(u.jsxs)("div",{className:"notify-alert","data-testid":"price-update-notify",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),"".concat(O," ").concat(Object(Ae.e)(c))]}):null]})},Ov=function(e){var t=e.contentData,n=void 0===t?[]:t,a=e.cartSummary,r=e.addHope,s=e.carryBag,d=e.maxItemCountPerLineItem,l=e.isMobile,b=e.currencySymbol,v=e.isModalOpen,j=e.bucketId,O=kn.a.CART_FOOD_LIST_ITEM,m=kn.a.QUANTITY_ACTION,f=kn.a.ALERT,p=O.EDIT,h=O.REMOVE,g=O.REMOVE_ALL,x=O.ITEM_QUANTITY,N=O.MODIFIER_QUANTITY,C=O.ADD_MORE_MENU,S=Object(E.c)((function(e){return e.menuReducer.data||{}})).categories,y=void 0===S?[]:S,_=Object(E.c)((function(e){return e.tenantReducer||{}})),D=_.tenantId,R=Object(i.useContext)(I.a),w=R.userOrderState,L=R.userOrderStateDispatch,k=w.cartAlertData,P=Ii(a,D,w.cartItems,y,L,Object(E.b)(),Object(o.f)()),M=P.itemAllRemoveAction,F=P.itemQuantityHandler,H=P.itemRemoveHandler,U=P.itemEditHandler,B=P.itemAllRemoveHandler,Y=P.addMoreMenuHandler,G=P.showCartAlert,K=function(e){var t;return e&&(null===(t=Number(e))||void 0===t?void 0:t.toFixed(2))},V=function(e){var t;return Object(u.jsx)(se,{header:e.foodName,children:Object(u.jsx)("div",{className:"cart-food-modifier",children:Object(u.jsx)("ul",{children:(null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.length)?e.modifiers.map((function(e){return Object(u.jsx)("li",{children:e})})):null})})})},W=function(e){var t;return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"cart-food-name",children:e.foodName}),Object(u.jsx)("div",{className:"cart-food-modifier",children:Object(u.jsx)("ul",{children:(null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.length)?e.modifiers.map((function(e){return Object(u.jsx)("li",{children:e})})):null})})]})},q=function(e){return e?"unavailable-image cart-food-image":"cart-food-image"},z=function(e){return e?"outofstock cart-highlight cart-food-item-container":"cart-food-item-container"},Q=function(e,t){var n;return Object(u.jsxs)("div",{className:"cart-food-quantity-price ".concat(Object(T.pb)(0===(null===(n=e.modifiers)||void 0===n?void 0:n.length),"empty-mods-quantity-price","")," \n      ").concat(t&&"coupon-item-quantity-price"),children:[Object(T.pb)(!t&&!e.toRemove,Object(u.jsx)(is,{itemCount:e.quantity,itemQuantity:x,updateItemQuantity:F,quantityAction:m,item:e,itemName:e.foodName,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0}),null),e.toRemove||e.requireModification?null:Object(u.jsxs)("div",{className:"cart-food-price",children:[b,K(e.cartPrice)]}),!e.toRemove&&e.requireModification?Object(u.jsxs)("div",{className:"cart-food-price",children:[Object(u.jsxs)("span",{className:"old-price",children:[b,K(e.cartPrice)]}),Object(u.jsxs)("span",{className:"modified-price",children:[b,K(e.menuPrice)]})]}):null]})};return Object(u.jsxs)(c.a.Fragment,{children:[l?null:Object(u.jsx)("div",{className:"cart-notification",children:Object(u.jsx)(jv,{contentData:n,isModalOpen:v})}),Object(u.jsxs)("div",{className:"cart-food-container","data-testid":"cart-food-item-test",children:[Object(u.jsx)("div",{className:"cart-discount-errors",children:Object(u.jsx)("div",{className:"cart-food-discount-lines",children:(null===w||void 0===w?void 0:w.couponErrorMessage)&&Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:Rt,alt:"close"}),Object(u.jsx)("span",{children:null===w||void 0===w?void 0:w.couponErrorMessage})]})})}),l&&Object(u.jsx)("div",{className:"cart-offers-mobile",children:Object(u.jsx)(Pn,{bucketId:j})}),n&&n.filter((function(e){var t=e.name;return t!==r&&t!==s})).map((function(e){var t=e.discountComponents,n=(null===t||void 0===t?void 0:t.length)>0;return console.log("Food List",e),l?Object(u.jsxs)("div",{className:z(e.toRemove),children:[Object(u.jsx)("div",{className:"cart-food-edit-container",children:e.toRemove?Object(u.jsxs)("div",{"data-testid":"outofstock-text",className:"outofstock-text",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),Object(u.jsx)("span",{children:Object(Ae.e)("unavailable")})]}):null}),Object(u.jsxs)("div",{className:"image-cart-content",children:[Object(u.jsx)(A.a,{defaultPath:Object(T.V)(null,_,!0),srcFile:e.imageData.src,altText:" ",className:q(e.toRemove)}),Object(u.jsxs)("div",{className:"cart-food-content",children:[e.modifiers.length>N?V(e):W(e),!n&&e.customizable&&Object(u.jsx)("span",{className:"cart-food-edit","data-testid":"cart-food-edit",onClick:function(){return U(e)},children:Object(Ae.e)(p)}),!n&&Object(u.jsx)("span",{className:"cart-food-remove","data-testid":"cart-food-remove",onClick:function(){return H(e)},children:Object(Ae.e)(h)})]})]}),Q(e,n)]},e.foodItemId):Object(u.jsxs)("div",{className:z(e.toRemove),children:[Object(u.jsx)(A.a,{defaultPath:Object(T.V)(null,_,!0),srcFile:e.imageData.src,altText:e.imageData.altText,className:q(e.toRemove)}),Object(u.jsxs)("div",{className:"cart-food-content-parent",children:[Object(u.jsxs)("div",{className:"cart-food-content row",children:[e.modifiers.length>N?V(e):W(e),e.toRemove&&Object(u.jsxs)("div",{"data-testid":"outofstock-text",className:"outofstock-text",children:[Object(u.jsx)(A.a,{srcFile:an,className:"location-alert-icon"}),Object(u.jsx)("span",{className:"outoftext-span",children:Object(Ae.e)("unavailable")})]})]}),Object(u.jsxs)("div",{className:"cart-action-price-quantity row",children:[Object(u.jsxs)("div",{children:[Object(T.pb)(!n&&!e.toRemove&&e.customizable,Object(u.jsx)("span",{className:"cart-food-edit","data-testid":"cart-food-edit",onClick:function(){return U(e)},children:Object(Ae.e)(p)}),null),!n&&Object(u.jsx)("span",{tabindex:"0","aria-label":"do you want to remove the above itams",className:"cart-food-remove","data-testid":"cart-food-remove",onClick:function(){return H(e)},children:Object(Ae.e)(h)})]}),Q(e,n)]})]})]},e.foodItemId)})),Object(u.jsxs)("div",{className:"cart-food-remove-container",children:[Object(u.jsx)("span",{tabindex:"0","aria-label":"Remove all products",className:"cart-food-remove-all","data-testid":"remove-all-btn",onClick:B,children:Object(Ae.e)(g)}),Object(u.jsx)(ht.a,{className:"button  whiteButton blackBorder add-more-menu",ariaLable:"add more menu",onClickHandler:Y,"data-testid":"add-more-menu",children:Object(Ae.e)(C)})]}),(null===k||void 0===k?void 0:k.showCartAlert)&&Object(u.jsx)(yi,{classNames:"",handleClose:function(){return G(!1)},CartAlertForm:Object(u.jsx)(Ci,{title:Object(Ae.e)(f.REMOVE_ALL_MSG),confirmButtonText:Object(Ae.e)(f.REMOVE_ALL),cancelButtonText:Object(Ae.e)(f.CANCEL),cancelHandler:function(){return G(!1)},confirmHandler:function(){return M(n)}})})]})]})},mv=n.p+"static/media/Call_Icon.95900156.svg",fv=n.p+"static/media/Mail_Icon.3eaa02d7.svg",pv=function(e){var t=e.faqAndContactData,n=void 0===t?{}:t,a=e.isMobile,i=n.faqData,c=void 0===i?{}:i,o=n.contactData,r=void 0===o?{}:o,s=kn.a.CART_FAQ_HEADER;return Object(u.jsxs)("div",{className:"cart-faq-container","data-testid":"cart-faq-test",children:[(null===c||void 0===c?void 0:c.faqButtonText)&&Object(u.jsxs)("div",{className:"cart-faq-header-container",children:[Object(u.jsx)("h2",{className:"cart-faq-header",children:Object(Ae.e)(s)}),Object(u.jsx)("div",{className:"cart-faq-list",children:c.faqContent&&c.faqContent.map((function(e,t){return t<3?Object(u.jsx)("div",{className:"cart-accordian-container",children:Object(u.jsx)(se,{header:e.question,children:Object(u.jsx)("div",{className:"cart-accordian-content",children:e.answer})})},t):null}))}),Object(u.jsx)(ht.a,{className:"button  whiteButton blackBorder faq-view-all",onClickHandler:function(){e.history.push({pathname:"/faq"})},"data-testid":"view-all-btn","aria-label":Object(Ae.e)("viewallFaqs"),children:c.faqButtonText})]}),Object(u.jsxs)("div",{className:"cart-faq-contact-header-container",children:[Object(u.jsx)("h2",{className:"cart-faq-contact-header",children:r.headline}),Object(u.jsxs)("div",{className:"cart-faq-contact-content",children:[Object(u.jsx)("a",{href:"tel: 080-4275-4444",className:"anchorTags",tabIndex:"-1",children:Object(u.jsxs)(ht.a,{className:"button  whiteButton blackBorder call-contact-button","aria-label":Object(Ae.e)("callUs"),children:[Object(u.jsx)("img",{src:mv,alt:" "}),Object(u.jsx)("span",{className:"contact-text",children:a?"Call Us":r.callButtonText})]})}),Object(u.jsxs)(ht.a,{className:"button  whiteButton blackBorder mail-contact-button",onClickHandler:function(){e.history.push({pathname:"/contactus"})},"data-testid":"contact-us-button","aria-label":Object(Ae.e)("contactUs"),children:[Object(u.jsx)("img",{src:fv,alt:" "}),Object(u.jsx)("span",{className:"contact-text",children:r.mailButtonText})]})]})]})]})},hv=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.currencySymbol,c=void 0===a?"":a,o=e.currencyConversionFactor,r=void 0===o?"":o,s=e.addHope,d=void 0===s?"":s,l=e.carryBag,b=void 0===l?"":l,v=e.isModalOpen,O=e.confirmChangesHandler,m=e.tenantId,f=void 0===m?"":m,p=e.maxItemCountPerLineItem,h=e.faqAndContactData,g=void 0===h?{}:h,x=e.dispositionData,N=void 0===x?{}:x,E=n.cartList,I=void 0===E?[]:E,C=n.cartSummary,S=void 0===C?{}:C,A=n.bucketId,y=void 0===A?"":A,_=Object(i.useState)(Object(T.Lb)(window.innerWidth)),D=Object(j.a)(_,2),R=D[0],w=D[1],L=function(){var e=Object(T.Lb)(window.innerWidth);w(e)};Object(i.useEffect)((function(){window.addEventListener("resize",L)}),[R]);return R?Object(u.jsxs)("div",{className:"cart-page-container-mobile","data-testid":"cart-page-mobile-test",children:[Object(u.jsx)("div",{className:"cart-header-container-mobile",isMobile:!0,children:Object(u.jsx)(dv,{})}),Object(u.jsx)("div",{className:"cart-notification",children:Object(u.jsx)(jv,{contentData:I,isModalOpen:v})}),Object(u.jsx)("div",{className:"cart-content-container-mobile",children:Object(u.jsx)(Ov,{contentData:I,isMobile:!0,currencySymbol:c,addHope:d,carryBag:b,maxItemCountPerLineItem:p,cartSummary:S,bucketId:y})}),S.recommendedItems.length>0&&Object(u.jsx)("div",{className:"cart-addon-container-mobile",children:Object(u.jsx)(Cd,{isMobile:!0,IndulgentData:S.recommendedItems})}),Object(u.jsx)("div",{className:"cart-summary-card-mobile",children:Object(u.jsx)(bv,{contentData:S,currencySymbol:c,currencyConversionFactor:r,addHope:d,carryBag:b,isMobile:!0,confirmChangesHandler:O,tenantId:f,bucketId:y,dispositionData:N})}),Object(u.jsx)("div",{className:"cart-faq-container-mobile",children:Object(u.jsx)(pv,{faqAndContactData:g,isMobile:!0,history:e.history})})]}):Object(u.jsxs)("div",{className:"cart-page-container-desktop","data-testid":"cart-page-desktop-test",children:[Object(u.jsx)("div",{className:"cart-header-container-desktop",isMobile:!1,children:Object(u.jsx)(dv,{})}),Object(u.jsxs)("div",{className:"cart-content-container-desktop",children:[Object(u.jsx)("div",{className:"cart-content-foodItemList",children:Object(u.jsx)(Ov,{contentData:I,isMobile:!1,currencySymbol:c,addHope:d,carryBag:b,maxItemCountPerLineItem:p,cartSummary:S,bucketId:y})}),Object(u.jsx)(bv,{contentData:S,currencySymbol:c,currencyConversionFactor:r,addHope:d,carryBag:b,isMobile:!1,confirmChangesHandler:O,tenantId:f,bucketId:y,dispositionData:N})]}),S.recommendedItems.length>0&&Object(u.jsx)("div",{className:"cart-addon-container-desktop",children:Object(u.jsx)(Cd,{isMobile:!1,IndulgentData:S.recommendedItems})}),Object(u.jsx)("div",{className:"cart-faq-container-desktop",children:Object(u.jsx)(pv,{faqAndContactData:g,isMobile:!1,history:e.history})})]})},gv=n.p+"static/media/empty_cart.32f17a45.png",xv=kn.a.EMPTY_CART;var Nv=function(){var e=Object(o.f)();return Object(u.jsxs)("div",{className:"cart-empty-placeholder cart-empty-root",children:[Object(u.jsxs)("div",{className:"cart-empty-placeholder-view",children:[Object(u.jsx)("span",{className:"cart-empty-placeholder-text",children:Object(Ae.e)(xv.PLACEHOLDER_TEXT)}),Object(u.jsx)(ht.a,{className:"button redButton start-order-btn cart-empty-placeholder-button","aria-label":Object(Ae.e)(xv.START_ORDER),onClickHandler:function(){e.push({pathname:"/menu"})},id:"startOrderItemButton",type:"submit","data-testid":"empty-cart-start-order-button",children:Object(u.jsx)("span",{children:Object(Ae.e)(xv.START_ORDER)})})]}),Object(u.jsx)(A.a,{className:"cart-empty-img",srcFile:gv,altText:""})]})},Ev=n.p+"static/media/heart_icon_inactive_black.6fdb2766.svg",Tv=_e.a.ADD_TO_CART_CLICK,Iv=_e.a.MINI_PDP_DATA,Cv=_e.a.FROMFLAGPLP,Sv=_e.a.EDIT_CLICKED,Av=kn.a.RECOMENDATIONS,yv=Av.SLIDES_TO_SCROLL,_v=Av.SLIDES_TO_SHOW,Dv=Av.ADD_TO_CART,Rv=Ue,wv=mi.a.RESET_MODGROUP_IDS_UPDATE,Lv=function(e){var t=Object(Ae.e)(Dv),n="",a=!0;return(null===e||void 0===e?void 0:e.isStoreNone)?(t="Store Closed",n="no-store-selected",a=!1):(null===e||void 0===e?void 0:e.isStoreClosed)&&(t="Store Closed",n="store-closed",a=!1),{btnText:t,className:n,enabled:a}},kv=function(e,t,n,a){return e?"".concat(function(e,t){var n,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case Rv.LARGE:n="menu-cart-button";break;case Rv.MEDIUM:n="medium-menu-cart-button";break;case Rv.SMALL:n="small-menu-cart-button";break;case Rv.CAROUSAL:n="carousal-menu-cart-button";break;default:n=""}return"".concat(a," ").concat(n)}(t,n)," ").concat(Lv(a).className):"button btn-black medium-menu-cart-button"},Pv=function(e){var t=e.saveProduct,n=e.favItems,a=e.item;return Object(u.jsx)(A.a,{srcFile:Object(T.u)(Array.isArray(n),null===n||void 0===n?void 0:n.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)})))?ys:Ev,alt:"add to favourite",className:"recomendation-item-save",onClick:t,"data-testid":"add-to-fav-image"})},Mv=function(e){var t=e.item,n=e.tenantData,a=e.storeClosedData,c=Object(i.useContext)(I.a),o=c.userOrderState,r=c.userOrderStateDispatch,s=Object(i.useState)(!0),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(null),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Object(i.useState)(0),C=Object(j.a)(N,1)[0],S=Object(E.b)(),y=Object(T.wb)(JSON.parse(localStorage.getItem("currentStoreInfo"))),_=Object(E.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),D=Object(E.c)((function(e){return e.cartReducer})),R=Object(T.wb)(D).isAddItemLoading,w=void 0!==R&&R,L=t.customizable,k=Object(E.c)((function(e){var t;return Object(T.zb)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),P=Object(E.c)((function(e){var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),M=null===P||void 0===P?void 0:P.id,F=Object(i.useState)(Object(T.Lb)(window.innerWidth)),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=function(){var e=Object(T.Lb)(window.innerWidth);B(e)};Object(i.useEffect)((function(){window.addEventListener("resize",Y)}),[U]);var G=function(e,t,n){S(Object(Oi.a)({tenantId:e,customerId:n},t))},K=function(){var e=Object(je.a)(ve.a.mark((function e(t,a,i,c){var o,r,s;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(T.xb)(null===(o=i[0])||void 0===o?void 0:o.price),s={mdmId:a.mdmId,id:a.id,name:a.name,imageName:a.imageName,description:a.longDescription,quantity:1,isCustomized:a.customizable,price:r/(null===n||void 0===n?void 0:n.currencyConversionFactor),additionalProperties:a.additionalProperties},e.next=4,G(t,s,c);case 4:return e.next=6,S(Object(_t.s)({showProductListingModal:!1,categorySelected:""}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),V=function(e,t,n){!function(e,t,n){S(Object(Oi.b)({tenantId:e,customerId:t,itemId:n}))}(e,t,n.id)};Object(i.useEffect)((function(){b(!0)}),[C]);var W=Object(E.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){Object(T.rb)(W,o)&&S(Object(_t.s)({showProductListingModal:!0,categorySelected:g}))}),[W]);var q=t.id,z=null,Q=w&&m===q,J=n.currencyConversionFactor,X=void 0===J?1:J,Z=n.currencySymbol,$=void 0===Z?"":Z,ee=n.tenantId,te=void 0===ee?"":ee,ne=t.name,ae=void 0===ne?"":ne,ie=t.availability,ce=t.shortDescription,oe=t.imageName,re=ce?ce[0].value:"";return Object(u.jsxs)("div",{className:"recomendation-item-container",children:[Object(u.jsx)(A.a,{"data-testid":"recomendation-item-img",className:"recomendation-item-img",defaultPath:Object(T.V)(null,n,!0),srcFile:Object(T.V)(oe,n)}),U?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"recomendation-item-header",children:Object(u.jsx)("span",{className:"recomendation-item-name",children:ae})}),Object(u.jsx)("span",{className:"recomendation-item-desc",children:re}),Object(u.jsxs)("div",{className:"recomendation-item-serving-conatiner",children:[Object(u.jsxs)("span",{className:"recomendation-item-price",children:[$,Object(T.jb)(ie[0],X)]}),Object(u.jsx)("span",{className:"recomendation-item-serving",children:"Non veg \u2022 Serves 4"})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"recomendation-item-header",children:[Object(u.jsx)("span",{className:"recomendation-item-name",children:ae}),Object(u.jsxs)("span",{className:"recomendation-item-price",children:[$,Object(T.jb)(ie[0],X)]})]}),Object(u.jsxs)("div",{className:"recomendation-item-serving-conatiner",children:[Object(u.jsx)("img",{className:"recomendation-item-serving-type",src:Is,alt:""}),Object(u.jsx)("span",{className:"recomendation-item-serving",children:"Non veg \u2022 Serves 4"})]}),Object(u.jsx)("span",{className:"recomendation-item-desc",children:re})]}),Object(u.jsxs)("div",{className:"recomendation-item-actions",children:[Object(u.jsxs)(ht.a,{tabIndex:"1",className:kv(l,"medium",Q,a),"data-testid":"add-to-cart-".concat(q),disabled:fs(a),onClickHandler:function(e){Lv(a).enabled&&function(e,t,a,i,c,o){var s,d,l,u;if(e&&e.stopPropagation(),f(t),_.localized){if(a)x(i),r({type:Iv,value:{id:t,flag:Cv,foodLineId:""}}),r({type:wv}),r({type:Sv,value:{cartEditClicked:!0}}),S(Object(Oi.c)({tenantId:n.tenantId,catalogName:null===y||void 0===y||null===(s=y.summary)||void 0===s||null===(d=s.menu)||void 0===d?void 0:d.catalogs[0],itemId:t}));else if(0===c){var b;S(Object(_t.a)({params:{basketId:null===D||void 0===D||null===(b=D.cartData)||void 0===b?void 0:b.id},tenantId:n.tenantId},[{Id:t,categoryId:z,quantity:c+1,modGrps:[]}])),S(Object(_t.r)(new Date))}}else r({type:Tv,value:{addToCart:!0,productItemId:t,categoryId:z,oldProduct:o,customizable:a,catalogs:null===y||void 0===y||null===(l=y.summary)||void 0===l||null===(u=l.menu)||void 0===u?void 0:u.catalogs[0],fromPdpPage:!1}})}(e,q,L,z,C,{productName:t.dname,productImage:oe,productPrice:Object(T.jb)(ie[0],null===n||void 0===n?void 0:n.currencyConversionFactor)}),e.preventDefault(),e.stopPropagation()},"aria-label":Lv(a).btnText,children:[Lv(a).btnText,Object(T.k)(a.isStoreClosed)]}),(null===_||void 0===_?void 0:_.loggedin)&&Object(u.jsx)(Pv,{saveProduct:function(){Object(T.u)(Array.isArray(k),null===k||void 0===k?void 0:k.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})))?V(te,M,t):K(te,t,ie,M)},favItems:k,item:t})]})]})},Fv=function(e){var t,n=e.recommendRules,a=e.storeClosedData;n=null===(t=n)||void 0===t?void 0:t.filter((function(e){return void 0!==e.name}));var o=Object(E.c)((function(e){return e.tenantReducer})),r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(Object(T.Lb)(window.innerWidth)),p=Object(j.a)(f,2),h=p[0],g=p[1],x=function(){var e=Object(T.Lb)(window.innerWidth);g(e)};Object(i.useEffect)((function(){window.addEventListener("resize",x)}),[h]);var N,I,C,A,y=c.a.useRef(null);return Object(u.jsxs)("div",{className:"cart-recomendations-list-container-root",children:[Object(u.jsx)("div",{className:"cart-recomendations-list-container",children:n.length&&Object(u.jsx)(Jo,{settings:(N=function(){if(d<n.length-1){var e=0;e=d+yv>n.length-_v-1?n.length-_v:d+yv,l(e),y.current.slickGoTo(e)}return!0},I=function(){return d>0&&(l(d-yv),y.current.slickGoTo(d-yv)),!0},C=m,A=l,{dots:!1,infinite:!1,speed:500,slidesToShow:_v,slidesToScroll:yv,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Cr,{clickNextCard:N}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:I}),beforeChange:function(e,t){return C(t)},afterChange:function(e,t){return A(e)},variableWidth:!0,responsive:S.e}),carousalRef:y,children:n.map((function(e){return Object(u.jsx)(Mv,{item:e,tenantData:o,storeClosedData:a})}))})}),!h&&Object(u.jsx)("div",{className:"cart-recomendations-slideContainer",children:Object(u.jsx)("input",{className:"cart-recomendations-slider",type:"range",min:"0",max:n.length-_v,value:O,id:"myRange",onChange:function(e){m(e.target.value),y.current.slickGoTo(e.target.value)}})})]})},Hv=function(e){var t=e.storeClosedData,n=e.recommendedProducts,a=null===n||void 0===n?void 0:n.filter((function(e){return!e.isHidden}));return Boolean(null===a||void 0===a?void 0:a.length)&&Object(u.jsxs)("div",{className:"cart-recomendations-container",children:[Object(u.jsx)("span",{className:"cart-recomendations-title",children:Object(Ae.e)(kn.a.EMPTY_CART.SUGGESTION_TEXT)}),Object(u.jsx)(Fv,{recommendRules:a,storeClosedData:t})]})},Uv=function(e,t){return"".concat(t,e?"-mobile":"-desktop")},Bv=function(e,t,n,a,i,c,o){return $i(e,t,n,null===a||void 0===a?void 0:a.isAvailable,1===(null===i||void 0===i?void 0:i.length)&&(null===c||void 0===c?void 0:c.toUpperCase())===nt,o)},Yv=function(e){var t,n,a=e.contentData,c=void 0===a?{}:a,o=e.faqAndContactData,r=void 0===o?{}:o,s=c.tenantId,d=c.country,l=Object(i.useState)(Object(T.Lb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useContext)(I.a).userOrderState,f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],x=Object(E.c)((function(e){return e.menuReducer||{}})).recommendedProducts,N=Object(i.useMemo)((function(){return Object(T.Eb)(m.currentStoreInfo)?Object(T.b)(localStorage.getItem("currentStoreInfo")):m.currentStoreInfo}),[m.currentStoreInfo]),C=Object(T.wb)(null===N||void 0===N||null===(t=N.summary)||void 0===t?void 0:t.timings),S=C.futureDates,A=C.scheduled,y=C.asap,_=Object(T.wb)(A).unavailibilities,D=Object(T.wb)((null===A||void 0===A||null===(n=A.periods)||void 0===n?void 0:n.length)&&(null===A||void 0===A?void 0:A.periods[0])),R=D.interval,w=void 0===R?0:R,L=D.startEndTime,k=void 0===L?{}:L,P=k.from,M=k.to,F=Object(i.useCallback)((function(){if(Object(T.Fb)(N)){var e,t,n=null===(e=N.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=Bv(P,M,w,y,S,d,_);"CLOSED"!==n||a.length?g(!1):g(!0)}else g(!1)}),[N]),H=function(){var e=Object(T.Lb)(window.innerWidth);O(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",H)}),[v]),Object(i.useEffect)((function(){F()}),[F]),Object(u.jsxs)("div",{className:Uv(v,"cart-page-container"),children:[Object(u.jsx)("div",{className:Uv(v,"cart-header-container"),isMobile:!1,children:Object(u.jsx)(dv,{})}),Object(u.jsx)("div",{className:Uv(v,"cart-content-container"),children:Object(u.jsx)(Nv,{tenantId:s})}),Object(u.jsx)(Hv,{contentData:c,storeClosedData:{isStoreClosed:h},recommendedProducts:x}),Object(u.jsx)("div",{className:Uv(v,"cart-faq-container"),children:Object(u.jsx)(pv,{faqAndContactData:r,isMobile:!1,history:e.history})})]})},Gv=function(e){var t,n,a,c,o,r=e||{},s=r.contentData,d=void 0===s?{}:s,l=r.cartListContent,b=r.isModalOpen,v=r.confirmChangesHandler,j=r.dispositionData,O=d.cartReducer,m=d.tenantReducer,f=d.segmentedHelpData,p=Object(T.B)(window.innerWidth),h={};O&&O.cartData&&l.length&&(h=Object(ji.c)(O.cartData,l,null===m||void 0===m?void 0:m.tenantId,null===m||void 0===m?void 0:m.currencyConversionFactor,null===m||void 0===m?void 0:m.addHope,null===m||void 0===m?void 0:m.carryBag,p,null===m||void 0===m?void 0:m.country));var g=Object(i.useContext)(I.a).userOrderStateDispatch;return Object(i.useEffect)((function(){var e,t;0===(null===O||void 0===O||null===(e=O.cartData)||void 0===e||null===(t=e.discountLines)||void 0===t?void 0:t.length)&&(g({type:Lt.n,value:{couponErrorMessage:""}}),localStorage.removeItem("expiryMessage"))}),[null===(t=h)||void 0===t||null===(n=t.cartSummary)||void 0===n?void 0:n.quantity]),Object(i.useEffect)((function(){var e,t,n,a,i,c;(null===(e=h)||void 0===e||null===(t=e.cartSummary)||void 0===t||null===(n=t.discountAmounts[0])||void 0===n?void 0:n.isError)&&(g({type:Lt.n,value:{couponErrorMessage:Lt.e+(null===(a=h)||void 0===a||null===(i=a.cartSummary)||void 0===i||null===(c=i.discountAmounts[0])||void 0===c?void 0:c.errorMessages)}}),localStorage.removeItem("expiryMessage"))}),[null===(a=h)||void 0===a||null===(c=a.cartSummary)||void 0===c?void 0:c.discountAmounts]),h.cartList?Object(u.jsx)(hv,(o={contentData:h,isModalOpen:b,currencySymbol:m.currencySymbol,currencyConversionFactor:m.currencyConversionFactor,addHope:m.addHope,carryBag:m.carryBag,confirmChangesHandler:v,faqAndContactData:f,tenantId:null===m||void 0===m?void 0:m.tenantId},Object(Le.a)(o,"currencyConversionFactor",null===m||void 0===m?void 0:m.currencyConversionFactor),Object(Le.a)(o,"maxItemCountPerLineItem",null===m||void 0===m?void 0:m.maxItemCountPerLineItem),Object(Le.a)(o,"isModalOpen",!1),Object(Le.a)(o,"dispositionData",j),Object(Le.a)(o,"history",e.history),o)):Object(u.jsx)(Yv,{contentData:h,faqAndContactData:f,history:e.history})},Kv={FROMCONFIRM:"FROMCONFIRM"},Vv=function(e){var t=e.unavailableItems,n=e.priceChangedItems,c=e.confirmChangesHandler,o=e.discardChangesHandler,r=Object(i.useContext)(I.a),s=r.userOrderState,d=r.userOrderStateDispatch,l=Lb.contentData,b=void 0===l?{}:l,v=Kv.FROMCONFIRM,j=void 0===v?"":v,O=Object(T.Eb)(s.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):s.dispositionNew,m=Object(T.Eb)(s.dispositionOld)?JSON.parse(localStorage.getItem("dispositionOld")):s.dispositionOld,f=b.modalContent,p=void 0===f?{}:f,h=_e.a.CART_STATES_DATA,g=_e.a.SET_DISPOSITION,x=_e.a.DISPOSITION_METHOD,N=_e.a.SCHEDULE_ORDER_DATA,E=_e.a.SCHEDULE_ORDER_TIME_DATA,C=function(){var e,t;d({type:g,value:{oldvalue:m,newValue:Object(a.a)({},m)}});var n=m||{},i=n.store,c=n.type,r=n.date,s=n.time,l=n.interval,u=n.deliveryAddress;o(i,c,null===i||void 0===i||null===(e=i.summary)||void 0===e||null===(t=e.menu)||void 0===t?void 0:t.catalogs[0]),d({type:x,value:{dispositionType:c}}),d({type:N,value:{showScheduleOrder:!1,selectedStoreInfo:i,deliveryAddress:u}});var b={time:s,interval:l,date:r};d({type:E,value:{selectedDateTime:b}}),localStorage.setItem("dispositionType",c),localStorage.setItem("storeInfo",i),localStorage.setItem("dateTimeOrder",JSON.stringify(b)),localStorage.setItem("dispositionOld",JSON.stringify(m)),localStorage.setItem("dispositionNew",JSON.stringify(m)),d({type:h,value:{showCartModal:!1}})},S=Object(u.jsx)(kb,{modalContent:p,onCartStatesMethodSubmit:function(e,t){e.stopPropagation(),e.preventDefault(),"discardChanges"===t?C():(d({type:g,value:{oldvalue:O,newValue:Object(a.a)({},O)}}),localStorage.setItem("dispositionOld",JSON.stringify(O)),localStorage.setItem("dispositionNew",JSON.stringify(O)),d({type:h,value:{showCartModal:!1}}),c(j))},unavailableItems:t,priceChangedItems:n});return Object(u.jsx)(Pb,{handleClose:function(e){e.stopPropagation(),e.preventDefault(),C()},CartStatesModuleForm:S})},Wv={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},qv=function(e){var t,n,a,r,s,d,l,b=Object(i.useContext)(I.a),v=b.userOrderState,O=b.userOrderStateDispatch,f=Object(o.f)(),h=Object(E.b)(),g=Object(E.c)((function(e){return e.tenantReducer})),N=Object(E.c)((function(e){return e.cartReducer})),S=Object(E.c)((function(e){return e.profileReducer})),A=N||{},y=A.cartData,_=void 0===y?{}:y,D=A.isValidated,R=void 0!==D&&D,w=A.isValidateBasketSuccess,L=void 0!==w&&w,k=A.showProductListingModal,P=void 0!==k&&k,M=A.qrCodeScanTime,F=(_||{}).validationResult,H=void 0===F?{}:F,U=Object(E.c)((function(e){return e.menuReducer.isLoading})),B=Object(E.c)((function(e){return e.menuReducer.flatResponse})),Y=g||{},G=Y.tenantId,K=Y.currencyConversionFactor,V=Y.currencySymbol,W=_e.a.CART_STATES_DATA,q=_e.a.DISPOSITION_CHANGED_FLAG,z=_e.a.STORE_CHANGED_FLAG,Q=Kv.FROMCONFIRM,J=Object(i.useState)([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)([]),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)([]),Oe=Object(j.a)(be,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(!1),he=Object(j.a)(pe,2),ge=he[0],xe=he[1],Ne=Object(i.useState)(null),Ee=Object(j.a)(Ne,2),Te=Ee[0],Ie=Ee[1],Ce=Object(E.c)((function(e){return e.appStateReducer.userStatus})),Se=Be,Ae=Object(T.Eb)(v.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):v.dispositionNew,ye=Object(T.Eb)(v.dispositionOld)?JSON.parse(localStorage.getItem("dispositionOld")):v.dispositionOld,De=Ae||{},Re=De.date,we=void 0===Re?"":Re,Le=De.time,ke=void 0===Le?"":Le,Pe=De.store,Me=Object(o.g)(),Fe=Pe&&Pe.summary&&Pe.summary.menu&&Pe.summary.menu.catalogs&&Pe.summary.menu.catalogs.length&&Pe.summary.menu.catalogs[0]||(null===g||void 0===g?void 0:g.genericMenuName)||"",He=null,Ue=null,Ye=null,Ge=null;Object(i.useEffect)((function(){var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);var Ke=Object(E.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),helpReducerContent:m.a.get(e,"helpReducer",null)}}));if(Ke.marketPageContent&&Ke.tenantReducerContent&&Ke.homePageContent&&Ke.helpReducerContent){He=Object(T.zb)(Object(T.Y)(Ke.homePageContent));var Ve=Object(T.wb)(Ke.marketPageContent.headerData),We=Ve.header,qe=void 0===We?{}:We,ze=Ve.tenant,Qe=void 0===ze?[]:ze,Je=Ve.footer,Xe=void 0===Je?{}:Je;Ue=Object(T.Z)(qe),Ye=Object(T.R)(Xe),Object(T.nb)(Qe),Ge=Object(T.zb)(Object(T.P)(Ke.helpReducerContent))}var Ze=Object(i.useMemo)((function(){var e;return{tenantReducer:g,cartReducer:N,segmentedHelpData:Ge,storeInfo:Ae&&Ae.store||{},dispositionType:Ae&&Ae.type?Object(T.L)(Ae.type):Object(T.L)(null===(e=g.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[N,Ae,Ge,g]);Object(i.useEffect)((function(){P&&h(Object(_t.s)({showProductListingModal:!1,categorySelected:""}))}),[Me]);var $e=Object(E.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){$e&&v.cartEditClicked&&v.minipdpData.itemId===$e.id&&h(Object(_t.s)({showProductListingModal:!0,categorySelected:""}))}),[$e,v.minipdpData.itemId,v.cartEditClicked]),Object(i.useEffect)((function(){var e=function(e,t,n){return!(!(null===e||void 0===e?void 0:e.id)||!t||n||!Lr.d)}(_,G,Te);if(e){var t,n={basketId:_.id};h(Object(_t.c)({tenantId:G,basketId:n.basketId})),h(Object(Oi.d)({tenantId:G,catalogName:Fe},{storeId:null===(t=Ze.storeInfo)||void 0===t?void 0:t.id,channel:Se,service:Ze.dispositionType})),Ie(!0)}}),[Lr.d,h,G,null===_||void 0===_?void 0:_.id,Fe,Ze.dispositionType,null===(t=Ze.storeInfo)||void 0===t?void 0:t.id,null===N||void 0===N||null===(n=N.cartData)||void 0===n?void 0:n.id,Se,Te]),Object(i.useEffect)((function(){h(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:Ce})),h(Object(sv.a)({object:Object(C.a)(),contentFull:{content_type:"supportContent",select:"sys.id,fields","fields.title":"CartFAQ",include:"5"}})),h(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===g||void 0===g?void 0:g.country,"fields.channel":wa.b.channel,include:5}}))}),[h,null===g||void 0===g?void 0:g.country,Ce]),Object(i.useEffect)((function(){var e;if(null===(e=v.dispositionNew)||void 0===e?void 0:e.type){var t,n={channel:"web",service:Object(T.L)(null===(t=v.dispositionNew)||void 0===t?void 0:t.type)};h(Object(Oi.e)(n))}}),[h,v.dispositionNew]);var et=JSON.stringify(Ae);Object(i.useEffect)((function(){xe(!1);var e=v.dispositionStateData.showDisposition,t=v.searchStoreData.showSearchStore,n=v.scheduleOrderData.showScheduleOrder;if(!e&&!t&&!n&&Ae&&!Object(T.Gb)(ye,Ae)){var a,i,c=Ae.type,o=Ae.store,r=Ae.date,s=Ae.time;if(Ce.localized&&""!==c&&""!==o&&""!==r&&""!==s)xe(!0),h(Object(Oi.d)({tenantId:G,catalogName:Fe},{storeId:null===Ae||void 0===Ae||null===(a=Ae.store)||void 0===a?void 0:a.id,channel:Se,service:(null===Ae||void 0===Ae?void 0:Ae.type)?Object(T.L)(Ae.type):Object(T.L)(null===(i=g.authoredContent)||void 0===i?void 0:i.defaultdisposition)})),O({type:W,value:{showCartModal:!0}});O({type:q,value:{dispositionChanged:!1}}),O({type:z,value:{storeChanged:!1}})}}),[et,Ce,W,q,Se,z,Fe,h,G,null===(a=g.authoredContent)||void 0===a?void 0:a.defaultdisposition,v.dispositionStateData,v.scheduleOrderData,v.searchStoreData,O]);Object(i.useEffect)((function(){if(Object(T.Fb)(B)&&K&&!U){var e,t=B.items.filter((function(e){return t=e,!!Object(T.kb)(t.availability,we,ke);var t}));if((null===_||void 0===_||null===(e=_.foodLines)||void 0===e?void 0:e.length)>0){var n=_.foodLines.map((function(e){return function(e,t,n){for(var a=JSON.parse(JSON.stringify(e)),i={toRemove:!0,requireModification:!1,findings:["Item not available"],newFoodLineItem:a,menuPrice:void 0,cartPrice:a.amount/n},c=0;c<(null===t||void 0===t?void 0:t.length);c++){var o=t[c];if(o.id===a.item.id){i.findings=[],i.toRemove=!1;var r=Object(T.jb)(o.availability[0],n),s=a.amount/n,d=Object(T.sb)(r,a.item.modGrps,a.quantity,n);d!==s?(i.findings.push("Item Price has changed Cart Price(".concat(s,"), Menu price(").concat(d,")")),i.requireModification=!0,i.menuPrice=d,i.cartPrice=s):(i.menuPrice=d,i.cartPrice=s,i.newFoodLineItem=a);break}}return i}(e,t,K)}));if(ge){var a=_.foodLines.map((function(e){return function(e,t){var n=JSON.parse(JSON.stringify(e));return{toRemove:!1,requireModification:!1,findings:[],newFoodLineItem:n,menuPrice:void 0,cartPrice:n.amount/t}}(e,K)}));$(a)}else $(n);re(n);var i=n.filter((function(e){return e.toRemove}));ue(i);var c=n.filter((function(e){return e.requireModification}));fe(c)}else re([]),$([]),ue([]),fe([])}}),[K,_,B,ge]);var tt=function(e){(xe(!1),e===Q)?(ae(!0),function(e){var t=e.unavailableItems,n=e.priceChangedItems,a=e.createAddValidateBasket,i=e.dispatch,c=e.cartId,o=e.tenantId;t.length||n.length?a():i(Object(_t.w)({data:{id:c},tenantId:o}))}({unavailableItems:le,priceChangedItems:me,createAddValidateBasket:nt,dispatch:h,cartId:null===_||void 0===_?void 0:_.id,tenantId:G})):(ae(!1),h(Object(_t.w)({data:{id:null===_||void 0===_?void 0:_.id},tenantId:G})))},nt=function(){var e=Object(je.a)(ve.a.mark((function e(){var t,n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],oe.forEach((function(e){if(!e.toRemove){var n,a,i,c,o,r={};r.id=null===e||void 0===e||null===(n=e.newFoodLineItem)||void 0===n||null===(a=n.item)||void 0===a?void 0:a.id,r.categoryId="",r.quantity=null===e||void 0===e||null===(i=e.newFoodLineItem)||void 0===i?void 0:i.quantity,r.modGrps=null===e||void 0===e||null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.modGrps,t.push(r)}})),h(Object(_t.o)()),n=Object(T.Mb)(M),e.next=6,Object(T.x)(h,n,M,Ze.storeInfo,Ze.dispositionType,S.customerId);case 6:a=e.sent,G&&h(Object(_t.e)({data:a,tenantId:G,shouldAddItem:!0,addItemList:t})),h(Object(_t.r)(new Date));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){L&&wa.b.BindUser(null===Ce||void 0===Ce?void 0:Ce.loggedIn).then((function(){!function(e,t,n,a,i){var c=t.fromFlag,o=t.history;e?function(e,t){e||t.push({pathname:"/checkout"})}(c,o):(Object(T.Bb)(n,a),!Object(T.Cb)(n)&&i(!1))}(R,{fromFlag:ne,history:f},H,{currencyConversionFactor:K,currencySymbol:V,store:Pe},Ie),h(Object(_t.p)())}))}),[L,H,R,h,f,ne]);var at=Wv.DISPOSITION;return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(Ue)&&Object(u.jsx)($a,{contentData:Ue,tenantReducerData:Ke.tenantReducerContent,userParams:Ce})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(r=null===(s=He)||void 0===s?void 0:s[at])&&void 0!==r?r:{},contentDispositionData:null!==(d=null===(l=He)||void 0===l?void 0:l[at])&&void 0!==d?d:{}},userParams:Ce}),Object(u.jsx)(Gv,{contentData:Ze,cartListContent:Z,isModalOpen:ge,confirmChangesHandler:tt,dispositionData:Ae,history:f}),P&&Object(u.jsx)(Ed,{}),Object(T.Fb)(Ye)&&Object(u.jsx)(ma,{contentData:Ye,history:f,tenantReducerData:Ke.tenantReducerContent})||null,v.cartStateData.showCartState&&(le.length||me.length)&&Object(u.jsx)(Vv,{unavailableItems:le,priceChangedItems:me,confirmChangesHandler:tt,discardChangesHandler:function(e,t,n){h(Object(Oi.d)({tenantId:G,catalogName:n},{storeId:null===e||void 0===e?void 0:e.id,channel:Se,service:t&&Object(T.L)(t)}))}}),v.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},zv=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.isMobile,i=void 0!==a&&a,c=e.userParams,o=void 0===c?{}:c,r=e.tenantReducerData,s=void 0===r?{}:r,d=e.paymentHeader,l=void 0!==d&&d,b=e.checkoutHeader,v=void 0!==b&&b,j=e.navigateHandler,O=void 0===j?null:j,m=e.history,f=s.basic,p=ha.LOGGEDIN_USER_SINGIN_TEXT,h=ha.BACK_TO_CART,g=ha.Go_TO_HOME_PAGE,x=Ls.ArrowIcon,N=Ls.HeaderLogo,E=Object(T.wb)(ga(n,f)),I=E.navRight,C=void 0===I?[]:I,y=E.kfcLogo,_=void 0===y?{}:y,D=function(e){e.stopPropagation(),e.preventDefault(),m.push({pathname:"/cart"})};return Object(u.jsxs)(u.Fragment,{children:[v&&Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between secondaryChekoutheader",children:[Object(u.jsx)("div",{className:"secondary-header-element",children:i?Object(u.jsx)(ht.a,{className:"btn",onClickHandler:function(e){return D(e)},children:Object(u.jsx)(A.a,{srcFile:x,alt:"Back to Cart"})}):Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder",onClickHandler:function(e){return D(e)},"data-testid":"Back-Button-checkout",ariaLable:Object(Ae.e)(h),children:Object(Ae.e)(h)})}),Object(u.jsx)(H,{className:"headerLogo secondary","data-testid":"desktop-navigate-handler",onClickHandler:O,children:Object(u.jsx)("span",{children:i?Object(u.jsx)("h3",{className:"textualLogo",children:Object(Ae.e)("cartCheckout")}):Object(u.jsx)(A.a,{srcFile:Object(T.ub)(_.src,N),alt:Object(T.ub)(_.alt,"KFC LOGO")})})}),Object(u.jsxs)("div",{className:"d-flex secondary-header-element",children:[Object(u.jsxs)(H,{className:"needHelpDesk",href:"/help",children:[Object(u.jsx)("span",{"aria-hidden":"true",className:"roundedQmark",children:"?"}),!i&&Object(u.jsx)("label",{className:"needHelp",children:"Need Help?"})]}),function(){var e=null;return C&&C.length&&(e=C.filter((function(e){if("Sign In"===e.name)return e}))[0]),e&&Object(u.jsxs)("div",{className:"signinLink ml-4","data-testid":"SignIn",tabIndex:"0",onClick:function(){return function(e,t){t.loggedIn?m.push({pathname:"/account"}):Object(T.h)()}(0,o)},children:[Object(u.jsx)(A.a,{"data-id":S.l.CHECKOUT_SIGN_IN_ATTR_DATA_ID,srcFile:e.url||e.imageUrl,className:"navRightIcons"}),!i&&Object(u.jsx)("span",{className:"notcarticon",children:e.name&&o.loggedIn?p:e.name})]})}()]})]}),l&&Object(u.jsx)("div",{className:"payment-header",children:i?Object(u.jsxs)("div",{className:"headerItems",children:[Object(u.jsx)("span",{children:Object(u.jsx)(H,{className:"needHelpDeskClose",href:S.eb.HOME_PAGE,children:Object(u.jsx)("span",{className:"backIcon",children:Object(u.jsx)("img",{src:x,alt:"back-btn"})})})}),Object(u.jsx)("span",{className:"TrackOrder",children:"Track Order"}),Object(u.jsx)("span",{children:Object(u.jsx)(H,{className:"needHelpDesk",href:S.eb.HELP,children:Object(u.jsx)("span",{className:"roundedQuesmark",children:"?"})})})]}):Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between payment-header-content",children:[Object(u.jsx)("div",{className:"secondary-header-element",children:Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder",onClickHandler:function(e){return function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("orderComplete",!0),m.push({pathname:"/"})}(e)},"data-testid":"Back-Button",ariaLable:Object(Ae.e)(g),children:Object(Ae.e)(g)})}),Object(u.jsx)("div",{children:Object(u.jsx)("span",{className:"headerLogo paymentHeader",tabIndex:"0",onClick:O,children:Object(u.jsx)(A.a,{srcFile:Object(T.ub)(_.src,N),alt:Object(T.ub)(_.alt,"KFC LOGO")})})}),Object(u.jsx)("div",{className:"d-flex secondary-header-element",children:Object(u.jsxs)(H,{className:"needHelpDesk",href:"/help",children:[Object(u.jsx)("span",{"aria-hidden":"true",className:"roundedQmark",children:"?"}),!i&&Object(u.jsx)("label",{className:"needHelp",children:"Need Help?"})]})})]})})]})},Qv=Object(o.i)((function(e){var t=e.contentData,n=void 0===t?{}:t,c=e.history,o=Object(i.useState)(Object(T.Lb)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=function(){var e=Object(T.Lb)(window.innerWidth);d(e)};Object(i.useEffect)((function(){window.addEventListener("resize",l)}),[s]);return Object(u.jsx)("div",{className:"".concat(s?"mobile header":"desktop header"),"data-testid":"HeaderItems-component",children:Object(u.jsx)(zv,Object(a.a)({contentData:n,isMobile:s,navigateHandler:function(){c.push({pathname:"/"})}},e))})})),Jv=n.p+"static/media/Lock.e846db0a.svg",Xv=n.p+"static/media/LocationOn.f57c1dfd.svg",Zv=n.p+"static/media/WatchLater.3ca73ea2.svg",$v=n(4);var ej=function(e){var t,n=e.name,a=e.cardNumber,c=e.expiryDate,o=e.cvc,r=e.userEmail,s=e.userPhone,d=e.paymentRequestMessage;return Object(i.useEffect)((function(){var e,t;d&&a&&(null===(e=document)||void 0===e?void 0:e.form10)&&(null===(t=window.ccvalidation)||void 0===t||t.process({bdCardForm:"form10",transactionInfo:{cnumber:document.form10.cnumber,cardExpMonth:document.form10.expmon,cardExpYear:document.form10.expyr,cardHolderName:document.form10.cname2,cardPasscode:document.form10.cvv2},userInfo:{userEmail:document.form10.emailAdd,userMobile:document.form10.mobileAdd},MsgSrc:d}))}),[null===(t=document)||void 0===t?void 0:t.form10,d,a]),Object(u.jsx)("div",{children:a&&Object(u.jsxs)("form",{name:"form10",id:"form10",children:[Object(u.jsx)("input",{type:"hidden",name:"cname2",id:"cname2",value:n}),Object(u.jsx)("input",{type:"hidden",name:"cnumber",id:"cnumber",value:a.replace(/\s+/g,"")}),Object(u.jsx)("input",{type:"hidden",name:"expmon",id:"expmon",value:(c.split("/")[0]||"").trim()}),Object(u.jsx)("input",{type:"hidden",name:"expyr",id:"expyr",value:"20"+(c.split("/")[1]||"").trim()}),Object(u.jsx)("input",{type:"hidden",name:"cvv2",id:"cvv2",value:o}),Object(u.jsx)("input",{type:"hidden",name:"emailAdd",id:"emailAdd",value:r}),Object(u.jsx)("input",{type:"hidden",name:"mobileAdd",id:"mobileAdd",value:s})]})})};var tj=function(e){var t,n=e.requestParameters,a=e.postUrl;return Object(i.useEffect)((function(){var e,t;a&&(null===(e=document)||void 0===e||null===(t=e.bankForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.bankForm),a]),Object(u.jsx)("div",{children:a&&Object(u.jsx)("form",{name:"bankForm",method:"POST",action:a,children:n&&function(){var e=[];for(var t in n)e.push(Object(u.jsx)("input",{type:"hidden",name:t,value:n[t]}));return e}()})})};var nj=function(e){var t,n=e.merchantId,a=e.transactionId,c=e.transactionToken;return Object(i.useEffect)((function(){var e,t;a&&(null===(e=document)||void 0===e||null===(t=e.payTmForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.payTmForm),a]),Object(u.jsx)("div",{children:a&&Object(u.jsxs)("form",{name:"payTmForm",method:"POST",action:"".concat(Object(Ht.a)(Gt.F),"mid=").concat(n,"&orderId=").concat(a),children:[Object(u.jsx)("input",{type:"hidden",name:"mid",value:n}),Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"txnToken",value:c})]})})};var aj=function(e){var t,n=e.tenderType,a=e.orderId,c=e.storeId,o=e.transactionAmount,r=e.transactionId,s=e.redirectUrl;return Object(i.useEffect)((function(){var e,t;s&&(null===(e=document)||void 0===e||null===(t=e.phonepeForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.phonepeForm),s]),Object(u.jsx)("div",{children:s&&Object(u.jsx)("form",{name:"phonepeForm",method:"POST",action:s,children:Object(u.jsx)("table",{border:"1",children:Object(u.jsxs)("tbody",{children:[Object(u.jsx)("input",{type:"hidden",name:"storeId",value:c}),Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"tenderType",value:n}),Object(u.jsx)("input",{type:"hidden",name:"transactionId",value:r}),Object(u.jsx)("input",{type:"hidden",name:"transactionAmount",value:o})]})})})})},ij=n(87),cj=n(207);function oj(e){var t,n,c,o,r,s,d,l,b,v,O,m,f,p=e.categories,h=e.cartData,g=e.isValidated,x=e.tenantId,N=e.userEmail,I=e.userPhone,C=e.createOrderRequest,A=e.subscription,y=e.checkoutProps,_=e.paymentEnabled,D=e.setIsPaymentTypeSelected,R=e.isClickContinuePayment,w=e.setIsClickContinuePayment,L=e.currencyConversionFactor,k=e.callBackValidateUserDetails,P=e.tenderInfo,M=e.paymentFormPayload,F=e.callBackPaymentErrorHandler,H=Object(E.b)(),U=Object(i.useState)(P||{name:"",payload:{}}),B=Object(j.a)(U,2),Y=B[0],G=B[1],K=Object(i.useState)(M||{}),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(!1),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(!1),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=null===h||void 0===h?void 0:h.id,re=Object(E.c)((function(e){return e})),se=re.paymentsReducer,de=re.profileReducer,le=re.paymentsGiftCardReducer,ue=re.orderReducer,be=Object(E.c)((function(e){var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),Oe=Object(E.c)((function(e){return(null===e||void 0===e?void 0:e.paymentsGoogleSpotReducer)||{}})),me=Oe.initiatePaymentStatus,fe=Oe.initiatePaymentResponse,pe=Oe.validatePaymentStatus,he=Oe.validatePaymentResponse,ge=Oe.transactionStatus,xe=Oe.transactionStatusResponse,Ne=Object(E.c)((function(e){return e.microAppPaymentReducer})),Ee=Ne.response,Te=void 0===Ee?{}:Ee,Ie=Ne.isPaymentCompleted,Ce=void 0!==Ie&&Ie,Se=Ne.phonepeStatusResponse,ye=void 0===Se?{}:Se,_e=Object(E.c)((function(e){return e.tenantReducer})).paymentStatusMaxCallCount,De=nn.c.CHECKOUT_TITLES,Re=nn.c.ADD_PAY_METHOD,we=nn.c.PHONEPE_SWITCH_CONSTANTS;Object(i.useEffect)((function(){H(Object(Wu.l)())}),[]),Object(i.useEffect)((function(){var e,t;wa.b.isGoogle&&(null===h||void 0===h||null===(e=h.allowedTenders)||void 0===e?void 0:e.includes(wa.b.channel))?(G({name:wa.b.channel}),D(!0)):wa.b.isPhonePe&&(null===h||void 0===h||null===(t=h.allowedTenders)||void 0===t?void 0:t.includes(S.Z.PHONEPE_SWITCH))&&(G({name:S.Z.PHONEPE_SWITCH}),D(!0))}),[null===h||void 0===h?void 0:h.allowedTenders,D]),Object(i.useEffect)((function(){!function(e){var t=e.isClickContinuePayment,n=e.subscription,a=e.isLoggedIn,i=e.GuestContactDetailsClick,c=e.updatePaymentAnalytics,o=e.cartData,r=e.currencyConversionFactor,s=e.tender,d=e.categories,l=e.setIsValid,u=e.dispatchCreateOrderAction,b=e.dispatch,v=e.createOrderRequest;t&&(n&&!a&&i(),c(o,r,s,d),l(!1),u(b,s,o,v))}({isClickContinuePayment:R,subscription:A,isLoggedIn:null===be||void 0===be?void 0:be.loggedIn,GuestContactDetailsClick:Xt,updatePaymentAnalytics:In,cartData:h,currencyConversionFactor:L,tender:Y,categories:p,setIsValid:te,dispatchCreateOrderAction:zu,dispatch:H,createOrderRequest:C})}),[R]);var Le=Object(i.useCallback)((function(){H(Object(Wu.l)()),Object(T.dc)(y)}),[y,H]);Object(i.useEffect)((function(){if(Ce&&(null===ye||void 0===ye?void 0:ye.status))switch(null===ye||void 0===ye?void 0:ye.status){case $v.Ad.FAILURE:Le();break;case $v.Ad.PENDING:case $v.Ad.SUCCESS:default:H(Object(Wu.l)()),Object(T.ec)(y)}}),[Ce,ye]);var ke=Object(i.useCallback)((function(e){var t;e===we.SUCCESS?H(Object(Wu.b)({tenantId:x,customerId:null===h||void 0===h||null===(t=h.customer)||void 0===t?void 0:t.id,transactionId:null===Te||void 0===Te?void 0:Te.transactionId,maxCallCount:_e})):Le()}),[we.SUCCESS,null===h||void 0===h||null===(t=h.customer)||void 0===t?void 0:t.id,H,null===Te||void 0===Te?void 0:Te.transactionId,_e,Le,x]);Object(i.useEffect)((function(){if(ie&&(null===Te||void 0===Te?void 0:Te.reservationId)&&wa.b.isPhonePe){var e="".concat(window.location.origin).concat(S.eb.CHECKOUT);Object(cj.b)(null===Te||void 0===Te?void 0:Te.reservationId,e,ke),ce(!1)}}),[Te]);var Pe=Object(i.useCallback)((function(){var e,t;!function(e,t,n,a,i,c){var o,r={tenantId:e,data:{OrderId:t,TenderType:n},customerId:(null===a||void 0===a||null===(o=a.customer)||void 0===o?void 0:o.id)||""};t&&i(Object(Wu.e)(r)),c(!0)}(x,null===ue||void 0===ue||null===(e=ue.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id,null===Y||void 0===Y?void 0:Y.name,h,H,ce),w(!1)}),[h,H,null===ue||void 0===ue||null===(n=ue.response)||void 0===n?void 0:n.order,w,x,null===Y||void 0===Y?void 0:Y.name]),Me=Object(i.useCallback)((function(){wa.b.isGoogle&&(ce(!1),H(Object(ij.j)()),wa.b.payment=null,wa.b.oloPaymentInitializer=null,w(!1),Object(T.dc)(y))}),[H,w]),Fe=Object(i.useCallback)((function(){var e,t,n,a,i={tenantId:x,body:{orderId:null===ue||void 0===ue||null===(e=ue.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id,tenderType:wa.b.channel}};wa.b.orderId=null===ue||void 0===ue||null===(n=ue.response)||void 0===n||null===(a=n.order)||void 0===a?void 0:a.id,ce(!0),H(Object(ij.d)(i))}),[H,null===ue||void 0===ue||null===(c=ue.response)||void 0===c?void 0:c.order,x]),He=Object(i.useCallback)((function(){wa.b.isGoogle&&(H(Object(ij.j)()),Object(T.ec)(y))}),[H]);return Object(i.useEffect)((function(){Object(je.a)(ve.a.mark((function e(){var t,n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wa.b.addFeedback("(initiatePaymentStatus, initiatePaymentResponse): ".concat(JSON.stringify({initiatePaymentStatus:me,initiatePaymentResponse:fe}))),!fe||!ie){e.next=10;break}return e.next=4,wa.b.BindPayment(fe);case 4:t=wa.b.payment,wa.b.addFeedback("Payment isSuccess data: "+t),1===(null===t||void 0===t?void 0:t.code)?w(!1):0===(null===t||void 0===t?void 0:t.code)||(null===t||void 0===t?void 0:t.code)&&1!==(null===t||void 0===t?void 0:t.code)?Me():t&&(n={tenantId:x,body:t},H(Object(ij.g)(n))),ce(!1),e.next=11;break;case 10:me===$v.Ad.FAILURE&&Me();case 11:case"end":return e.stop()}}),e)})))()}),[H,Me,fe,me,w,x,ie]),Object(i.useEffect)((function(){if(wa.b.addFeedback("(validatePaymentStatus, validatePaymentResponse): ".concat(JSON.stringify({validatePaymentStatus:pe,validatePaymentResponse:he}))),he)(null===he||void 0===he?void 0:he.status)===$v.Ad.SUCCESS?He():Me();else if(pe===$v.Ad.PENDING&&wa.b.transactionId){var e={tenantId:x,transactionId:wa.b.transactionId};H(Object(ij.a)(e))}}),[H,Me,He,x,he,pe]),Object(i.useEffect)((function(){wa.b.addFeedback("(transactionStatus, transactionStatusResponse): ".concat(JSON.stringify({transactionStatus:ge,transactionStatusResponse:xe}))),xe?(null===xe||void 0===xe?void 0:xe.status)===$v.Ad.SUCCESS?(wa.b.addFeedback("Great, channel manager payment status is NOT fail... ".concat(null===xe||void 0===xe?void 0:xe.status)),He()):(wa.b.addFeedback("Hmmm, channel manager payment status IS FAIL... ".concat(null===xe||void 0===xe?void 0:xe.status)),Me()):ge===$v.Ad.FAILURE&&(wa.b.shouldGoogleSpotIgnoreOloFailure?He():Me())}),[H,Me,He,ge,xe]),Object(i.useEffect)((function(){var e,t,n=null===ue||void 0===ue||null===(e=ue.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id;if(R&&n)switch(localStorage.setItem("postPaymentType",null===Y||void 0===Y?void 0:Y.name),localStorage.setItem("paymentStatus",""),null===Y||void 0===Y?void 0:Y.name){case S.Z.CREDIT_CARD:case S.Z.NET_BANKING:case S.Z.OTHER_WALLET:case S.Z.UPI:!function(e,t,n,i,c){var o={OrderId:n,TenderType:null===i||void 0===i?void 0:i.name};(null===i||void 0===i?void 0:i.name)!==S.Z.NET_BANKING&&(null===i||void 0===i?void 0:i.name)!==S.Z.OTHER_WALLET||(o=Object(a.a)(Object(a.a)({},o),{},{AdditionalAttributes:{BankId:null===c||void 0===c?void 0:c.bankId}})),n&&e(Object(Gu.e)({tenantId:t,data:o}))}(H,x,n,Y,W);break;case S.Z.PAY_BY_CASH:Object(T.ec)(y);break;case S.Z.PAYTM:!function(e,t,n,a){var i={OrderId:n,TenderType:null===a||void 0===a?void 0:a.name};e(Object(Gu.d)({tenantId:t,data:i}))}(H,x,n,Y);break;case S.Z.GIFT_CARD:!function(e,t,n,i,c,o){delete c.userEmail,delete c.userPhone;var r=o.customerId,s=Object(a.a)({OrderId:n,TenderType:null===i||void 0===i?void 0:i.name},c);e(Object(Vu.a)({tenantId:t,customerId:r,body:s}))}(H,x,n,Y,W,de);break;case S.Z.PHONEPE:!function(e,t,n,a){var i={OrderId:n,TenderType:null===a||void 0===a?void 0:a.name};e(Object(Gu.f)({tenantId:t,data:i}))}(H,x,n,Y);break;case S.Z.GOOGLE_PAY_SPOT:Fe();break;case S.Z.PHONEPE_SWITCH:Pe()}}),[null===ue||void 0===ue||null===(o=ue.response)||void 0===o?void 0:o.order]),Object(i.useEffect)((function(){var e,t,n,i,c;if(R&&se&&(null===se||void 0===se?void 0:se.response))switch(null===Y||void 0===Y?void 0:Y.name){case S.Z.CREDIT_CARD:q(Object(a.a)(Object(a.a)({},W),{},{paymentRequestMessage:null===se||void 0===se||null===(e=se.response)||void 0===e?void 0:e.requestMessage}));break;case S.Z.NET_BANKING:case S.Z.OTHER_WALLET:case S.Z.UPI:q(Object(a.a)(Object(a.a)({},W),{},{requestParameters:null===se||void 0===se||null===(t=se.response)||void 0===t?void 0:t.requestParameters,postUrl:null===se||void 0===se||null===(n=se.response)||void 0===n?void 0:n.postUrl}));break;case S.Z.PAYTM:(null===se||void 0===se||null===(i=se.response)||void 0===i?void 0:i.merchantId)&&""!==(null===se||void 0===se||null===(c=se.response)||void 0===c?void 0:c.merchantId)?q(Object(a.a)(Object(a.a)({},W),null===se||void 0===se?void 0:se.response)):F({errorCode:"payTmMerchantIdError"});break;case S.Z.GIFT_CARD:!0===le.giftCardTransactionStatus?Object(T.ec)(y):!1===le.giftCardTransactionStatus&&void 0===le.giftCardTransactionStatus&&Object(T.dc)(y);break;case S.Z.PHONEPE:q(Object(a.a)(Object(a.a)(Object(a.a)({},W),null===se||void 0===se?void 0:se.response),{},{tenderType:null===Y||void 0===Y?void 0:Y.name}))}}),[null===se||void 0===se?void 0:se.response,le]),Object(u.jsxs)(u.Fragment,{children:[R&&(null===Y||void 0===Y?void 0:Y.name)===S.Z.CREDIT_CARD&&Object(u.jsx)(ej,Object(a.a)({},W)),R&&((null===Y||void 0===Y?void 0:Y.name)===S.Z.NET_BANKING||(null===Y||void 0===Y?void 0:Y.name)===S.Z.OTHER_WALLET||(null===Y||void 0===Y?void 0:Y.name)===S.Z.UPI)&&Object(u.jsx)(tj,Object(a.a)({},W)),R&&(null===Y||void 0===Y?void 0:Y.name)===S.Z.PAYTM&&Object(u.jsx)(nj,Object(a.a)({},W)),R&&(null===Y||void 0===Y?void 0:Y.name)===S.Z.PHONEPE&&Object(u.jsx)(aj,Object(a.a)({},W)),wa.b.isBrowser&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent contact-label pl-25px col-sm-4 col-4",children:Object(u.jsx)("h2",{"aria-label":Object(Ae.e)(De.PAYMENT),children:Object(Ae.e)(De.PAYMENT)})}),""===(null===Y||void 0===Y?void 0:Y.name)&&Object(u.jsx)("div",{className:"addPaymentContent px-25px col-sm-8 col-8",children:Object(u.jsx)("div",{className:"d-flex flex-column mt-20px",children:Object(u.jsx)("button",{className:"payButton","data-testid":"pay-button",onClick:function(){return qu(_,J,X,q,N,I,G,D,w,k)},children:Object(Ae.e)(Re)})})}),""!==(null===Y||void 0===Y?void 0:Y.name)&&Object(u.jsx)("div",{className:"addPaymentContent col-sm-12 col-md-8 selectedPayment",children:Object(u.jsxs)("div",{className:"d-flex flex-column mt-20px",children:[Object(u.jsxs)(ht.a,{className:"tenderButton","data-testid":"tender-btn",onClick:function(){return qu(_,J,X,q,N,I,G,D,w,k)},children:[Y&&(null===Y||void 0===Y?void 0:Y.name)&&(null===Y||void 0===Y?void 0:Y.payload)&&(null===Y||void 0===Y||null===(r=Y.payload)||void 0===r?void 0:r.url)&&Object(u.jsx)("span",{className:"payment-image",children:Object(u.jsx)("img",{src:null===Y||void 0===Y||null===(s=Y.payload)||void 0===s?void 0:s.url,alt:"TenderImage"})}),(null===Y||void 0===Y?void 0:Y.name)===S.Z.CREDIT_CARD&&Object(u.jsx)("div",{className:"card-number-image",children:Object(u.jsx)("svg",Object(a.a)({},null===W||void 0===W?void 0:W.svgSource))}),Object(u.jsxs)("span",{className:"col-12 col-xs-10",children:[(null===Y||void 0===Y?void 0:Y.name)===S.Z.CREDIT_CARD&&"x - "+(null===W||void 0===W||null===(d=W.cardNumber)||void 0===d||null===(l=d.trim())||void 0===l?void 0:l.substr((null===W||void 0===W||null===(b=W.cardNumber.trim())||void 0===b?void 0:b.length)-4)),((null===Y||void 0===Y?void 0:Y.name)===S.Z.NET_BANKING||(null===Y||void 0===Y?void 0:Y.name)===S.Z.OTHER_WALLET)&&(null===Y||void 0===Y||null===(v=Y.payload)||void 0===v?void 0:v.displayName)+" : "+(null===W||void 0===W?void 0:W.bankName),(null===Y||void 0===Y?void 0:Y.name)===S.Z.GIFT_CARD&&(null===Y||void 0===Y||null===(O=Y.payload)||void 0===O?void 0:O.displayName)+": #"+(null===W||void 0===W||null===(m=W.AdditionalAttributes)||void 0===m?void 0:m.GiftCardNumber),((null===Y||void 0===Y?void 0:Y.name)===S.Z.PAYTM||(null===Y||void 0===Y?void 0:Y.name)===S.Z.PHONEPE||(null===Y||void 0===Y?void 0:Y.name)===S.Z.PAY_BY_CASH||(null===Y||void 0===Y?void 0:Y.name)===S.Z.UPI)&&(null===Y||void 0===Y||null===(f=Y.payload)||void 0===f?void 0:f.displayName)]}),Object(u.jsx)("span",{className:"right-arrow-icon",children:Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANCAYAAAB7AEQGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACeSURBVHgBfdC9DQIxDAVgv9wCERNYAnoYgU3YAEaACRATMMqNANRQeITQUSCFl/BTXJJ7laN8jmKLMJozX0gjjrde0PWC2LegM7MgUfasfQviV6hO1wKcWLIJK7PbpUBjEMOnaxC1j6rOtmw/fOBr6UqgygE2+RDlyMEMJeA6BJomNrvvBtPVwR+NgYy+Gz+3QEoXQnh6P3kQXWsg5Q1LA016wKLMxwAAAABJRU5ErkJggg==",alt:""})})]}),(null===Y||void 0===Y?void 0:Y.name)===S.Z.PAYTM&&Object(u.jsx)("span",{className:"paytmPaymentProcess mt-10px",children:" * Payment will process after place your order."})]})}),Object(u.jsx)(Ku,{isClickAddPayment:J,setIsClickAddPayment:X,cartData:h,isValidated:g,basketId:oe,tenantId:x,tender:Y,setTender:G,isValid:ee,checkoutProps:y,setIsValid:te,formPayload:W,setFormPayload:q,setIsPaymentTypeSelected:D,currencyConversionFactor:L})]})})]})}var rj=f.a.DISPOSITION,sj=!1,dj=function(e){var t,n,o,r,s,d,l,b,v,O,m,f,p=nn.c.CHECKOUT_TITLES,h=nn.c.DELIVERY,g=nn.c.TAKEAWAY,x=nn.c.IS_DELIVERY,N=nn.c.IS_TAKEAWAY,C=nn.c.IS_DINEIN,A=nn.c.AGREEMENT_LABEL,y=nn.c.CONTINUE_PAYMENT,_=nn.c.FORM_NAMES,D=nn.c.ADDRESS_PH,R=nn.c.DINE_IN,w=Object(E.b)(),L=Object(i.useContext)(I.a),k=L.userOrderState,P=L.userOrderStateDispatch,M=_e.a.SCHEDULE_ORDER_DATA,F=Object(i.useState)(Object(T.Lb)(window.innerWidth)),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=Object(i.useState)(""),G=Object(j.a)(Y,2),K=G[0],V=G[1],W=Object(i.useState)("leaveatmydoor"),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(Object(T.pb)(null===k||void 0===k?void 0:k.isPaymentAdded,null===k||void 0===k?void 0:k.isPaymentAdded,!1)),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(!1),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)(!1),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)({value:null!==(t=wa.b.name)&&void 0!==t?t:"",errorMessage:"",error:!1}),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)({value:null!==(n=wa.b.phone)&&void 0!==n?n:"",errorMessage:"",error:!1}),xe=Object(j.a)(ge,2),Ne=xe[0],Ee=xe[1],Te=Object(i.useState)({value:null!==(o=wa.b.email)&&void 0!==o?o:"",errorMessage:"",error:!1}),Ie=Object(j.a)(Te,2),Ce=Ie[0],Se=Ie[1],ye=Object(i.useState)({value:!0,errorMessage:"",error:!1}),De=Object(j.a)(ye,2),Re=De[0],we=De[1],Le=Object(i.useState)({value:"",errorMessage:"",error:!1}),ke=Object(j.a)(Le,2),Pe=ke[0],Me=ke[1],Fe=Object(i.useState)(""),He=Object(j.a)(Fe,2),Ue=He[0],Be=He[1],Ye=function(){var e=Object(T.Lb)(window.innerWidth);B(e)},Ge=Object(E.c)((function(e){return e})),Ke=Ge.cartReducer,Ve=Ge.tenantReducer,We=Ge.profileReducer,qe=Ge.orderReducer,ze=Ge.postOrderReducer,Qe=Object(E.c)((function(e){var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})).categories,Je=void 0===Qe?[]:Qe,Xe=Object(T.pb)(Object(T.Eb)(k.dispositionNew),JSON.parse(localStorage.getItem("dispositionNew")),k.dispositionNew),Ze=Object(T.Fb)(Xe)?Xe:{},$e=Ze.type,et=Ze.store,tt=Ze.date,nt=Ze.time,at=Ze.deliveryAddress,it=Ve.tenantId,ct=Ve.currencySymbol,ot=Ve.currencyConversionFactor,rt=Object(T.u)(Object(T.Fb)(ze),ze).orderAccepted,st=void 0===rt?{}:rt,dt=Object(T.pb)(null===k||void 0===k?void 0:k.isPaymentAdded,null===st||void 0===st?void 0:st.customer,null===We||void 0===We?void 0:We.basic),lt=Ke.cartData,ut=void 0===lt?{}:lt,bt=Ke.isValidated,vt=void 0!==bt&&bt,jt=Object(E.c)((function(e){return e.appStateReducer.userStatus})),Ot=Object(i.useState)({}),mt=Object(j.a)(Ot,2),ft=mt[0],pt=mt[1];Object(i.useEffect)((function(){var t;(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.ShowPaymentError)&&ue(!0)}),[null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.ShowPaymentError]),Object(i.useEffect)((function(){Dn(document.title,pe.error,pe.errorMessage)}),[pe.errorMessage,pe.error]),Object(i.useEffect)((function(){Dn(document.title,Ne.error,Ne.errorMessage)}),[Ne.errorMessage,Ne.error]),Object(i.useEffect)((function(){Dn(document.title,Ce.error,Ce.errorMessage)}),[Ce.errorMessage,Ce.error]),Object(i.useEffect)((function(){!function(e,t,n){var a="";n?a=Object(Ae.e)(dn):t?a=Object(Ae.e)(sn):e&&(null===e||void 0===e?void 0:e.error)&&(a=Cn(e)),""!==a&&(Object(T.M)(document.title,a),Object(T.tb)(a))}(qe,le,je)}),[qe,le,je]),Object(i.useEffect)((function(){localStorage.setItem("paymentStatus",""),localStorage.setItem("postPaymentType",""),sj=!1,En(ut,"BeginCheckoutClick",ot,Je),jt.loggedIn&&En(ut,"AddContactInfoClick",ot,Je),_n(w,qe)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",Ye)}),[U]);var ht=function(){if(wa.b.isBrowser){var e=function(e){var t=Object(a.a)({},e),n=t.firstName,i=void 0===n?"":n,c=t.middleName,o=void 0===c?"":c,r=t.lastName,s=void 0===r?"":r,d=t.email,l=void 0===d?"":d,u=t.phone,b=void 0===u?"":u,v=t.phoneNumber;return{fullName:i||(""+o?o:""+s?s:""),email:l,phone:""!==b?b:void 0===v?"":v}}(dt);he(Object(a.a)(Object(a.a)({},pe),{},{value:e.fullName})),Ee(Object(a.a)(Object(a.a)({},Ne),{},{value:e.phone})),Se(Object(a.a)(Object(a.a)({},Ce),{},{value:e.email}))}else wa.b.isPhonePe&&(he(Object(a.a)(Object(a.a)({},pe),{},{value:wa.b.name})),Ee(Object(a.a)(Object(a.a)({},Ne),{},{value:wa.b.phone})),Se(Object(a.a)(Object(a.a)({},Ce),{},{value:wa.b.email})))};Object(i.useEffect)((function(){Object(T.Fb)(dt)&&jt.loggedIn&&ht()}),[dt]),Object(i.useEffect)((function(){var e=Boolean(pe.value&&Ce.value&&Ne.value),t=Boolean(Pe.error||pe.error||Ce.error||Ne.error);ae(Object(T.u)(e,!t)),Object(T.u)(e,!t)&&(sj||jt.loggedIn||(En(ut,"AddContactInfoClick",ot,Je),sj=!0))}),[Pe,z,pe,Ce,Ne]);var gt=function(e){$(!1);var t=e.target.value,n=e.target.name,i=e.target.checked;jn(n===D,(function(){return Be(t)})),jn(n===_.VEHICAL_INFORMATION,(function(){return Me(Object(a.a)({},Tn(Pe,t,$e,z)))})),jn(n===_.DELIVERY_INSTRUCTION,(function(){return Me(Object(a.a)({},Tn(Pe,t,$e)))})),jn(n===_.SUBSCRIPTION,(function(){return we(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,n.error=!t,n}(Re,i)))})),jn(n===_.FULL_NAME,(function(){return he(Object(a.a)({},xn(pe,t)))})),jn(n===_.PHONE,(function(){return Ee(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<10||t.length>12||isNaN(t)||!/^\d*$/.test(t)?(n.error=!0,n.errorMessage=Object(Ae.e)("invalidPhoneNumberErrMsg")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)("emptyPhoneNumberErrMsg")),n}(Ne,t)))})),jn(n===_.EMAIL,(function(){return Se(Object(a.a)({},Nn(Ce,t)))}))};Object(T.Fb)(Ve)||JSON.parse(localStorage.getItem("tenantReducer")),Object(T.wb)(null===Xe||void 0===Xe?void 0:Xe.store),Xe&&Xe.type?Object(T.L)(Xe.type):Object(T.L)(null===(s=Ve.authoredContent)||void 0===s?void 0:s.defaultdisposition);Object(i.useEffect)((function(){Boolean((null===ut||void 0===ut?void 0:ut.total)&&ct&&ot)&&V(((null===ut||void 0===ut?void 0:ut.total)/ot).toFixed(2))}),[ut,ct,ot]);var xt=null,Nt=null,Et=Object(E.c)((function(e){var t,n;return{homePageContent:Object(T.zb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),marketPageContent:Object(T.zb)(null===e||void 0===e||null===(n=e.marketConfigReducer)||void 0===n?void 0:n.response),tenantReducerContent:Object(T.zb)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(Et.marketPageContent&&Et.tenantReducerContent&&Et.homePageContent){var Tt;xt=Object(T.Y)(Et.homePageContent);var It=Object(T.wb)(null===Et||void 0===Et||null===(Tt=Et.marketPageContent)||void 0===Tt?void 0:Tt.headerData),Ct=It.header,St=void 0===Ct?{}:Ct,yt=It.tenant,_t=void 0===yt?[]:yt,Dt=It.footer,wt=void 0===Dt?{}:Dt;Nt=Object(T.Z)(St),Object(T.R)(wt),Object(T.nb)(_t)}Object(i.useEffect)((function(){Object(T.u)(qe,null===qe||void 0===qe?void 0:qe.error)&&(Object(T.u)(wa.b.isBrowser,ae(!0)),$(!1))}),[qe]);return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(Nt)&&Object(u.jsx)(Qv,{contentData:Nt,tenantReducerData:Et.tenantReducerContent,userParams:jt,paymentHeader:!1,checkoutHeader:!0}),Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(d=null===(l=xt)||void 0===l?void 0:l[rj])&&void 0!==d?d:{},contentDispositionData:null!==(b=null===(v=xt)||void 0===v?void 0:v[rj])&&void 0!==b?b:{}},userParams:jt,showHeader:!1}),Object(u.jsx)("hr",{role:"presentation",className:"headerdivider"}),Object(u.jsx)("div",{className:"checkoutPagecont",children:Object(u.jsxs)("div",{className:"checkoutContainer".concat(mn(U)),"data-testid":"checkout-page",children:[Object(u.jsx)("img",{className:"px-25px",alt:"cart",src:Object(T.pb)(U,nv,tv)}),Object(u.jsx)("div",{className:"checkoutHeader col-sm-7 col-md-12 col-lg-7 col-sm-12 mt-10px px-25px".concat(fn(U)),children:Object(u.jsxs)("div",{className:"d-flex align-items-baseline justify-content-between",children:[Object(u.jsx)("h3",{className:"checkoutTitle ".concat(mn(U)),children:Object(Ae.e)(p.TITLE)}),Object(u.jsxs)("div",{className:"secure-checkout",children:[Object(u.jsx)("img",{src:Jv,alt:""}),Object(u.jsx)("span",{children:Object(Ae.e)("secureCheckout")})]})]})}),Object(u.jsxs)("div",{className:"checkoutBody".concat(mn(U)," row"),children:[Object(u.jsxs)("div",{className:"checkoutDescDetails col-sm-12 col-lg-7 col-md-12",children:[qe&&((null===qe||void 0===qe?void 0:qe.error)||le||je)&&Sn(qe,le,je),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent info-label pl-25px col-sm-4 col-12",children:Object(u.jsx)("h2",{children:Object(Ae.e)(hn($e))})}),Object(u.jsx)("div",{className:"deliveryInfoContent px-25px col-sm-8 col-12",children:Object(u.jsxs)("div",{className:"d-flex flex-column mt-20px",children:[Object(u.jsxs)("div",{className:"d-flex align-items-start mb-4",children:[Object(u.jsx)("label",{className:"checkoutIcons",children:Object(u.jsx)("img",{src:Xv,alt:""})}),Object(u.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-start",children:[Object(u.jsxs)("div",{className:"addressBox",children:[Object(u.jsx)("span",{className:"store_name d-block font-weight-bold",children:null===et||void 0===et||null===(O=et.name[0])||void 0===O?void 0:O.value}),Object(T.gc)($e)===x&&Object(u.jsx)("span",{children:at}),[N,C].includes(Object(T.gc)($e))&&Object(u.jsx)("span",{children:null===(m=et.addresses[0])||void 0===m||null===(f=m.address)||void 0===f?void 0:f.addressLines[0]}),Object(T.gc)($e)===x&&Object(u.jsxs)("div",{className:"addressField",children:[Object(u.jsx)("input",{id:D,type:"text",name:D,value:Ue,className:"form-control",placeholder:"".concat(Object(Ae.e)(D)),onChange:gt}),Object(u.jsx)("label",{className:"form-label",children:"Address 2"})]})]}),Object(u.jsx)("button",{type:"button",variant:"link dark",onClick:function(e){return function(e,t){e.preventDefault(),e.stopPropagation(),P({type:M,value:{showScheduleOrder:!0,selectedStoreInfo:t,changeFlow:!0}})}(e,et)},"data-testid":"schedule-order",children:Object(Ae.e)("change")})]})]}),Object(u.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[Object(u.jsx)("label",{className:"checkoutIcons",children:Object(u.jsx)("img",{src:Zv,alt:""})}),Object(u.jsx)("div",{className:"sceduledAt",children:pn({time:nt,date:tt})})]})]})})]}),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent-checkout-options pl-25px col-sm-4 col-12 ".concat(Object(T.pb)(Object(T.gc)($e)===C,"type-dine-in","")),children:Object(u.jsx)("h2",{children:Object(Ae.e)(gn($e))})}),Object(u.jsxs)("div",{className:"deliveryOptionsContent px-25px col-sm-8 col-12",children:[Object(u.jsxs)("div",{id:"radioButtons",className:"d-flex flex-column",value:z,onChange:function(){var e=Object(T.pb)("leaveatmydoor"===z,"handittome","leaveatmydoor");Q(e),Me(Object(a.a)(Object(a.a)({},Pe),{},{value:"",error:!1})),Object(T.u)(Object(T.gc)($e)===N,"handittome"===e)&&Me(Object(a.a)(Object(a.a)({},Pe),{},{value:"",error:!0}))},children:[Object(u.jsxs)("div",{className:"radioBtns",children:[Object(u.jsx)("input",{type:"radio",id:"leaveatmydoor",name:"checkoutoptions",value:"leaveatmydoor",defaultChecked:!0}),Object(u.jsx)("label",{for:"leaveatmydoor",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"leaveAtMyDoorTitle",tabIndex:"0",children:Object(Ae.e)(Object(T.pb)(Object(T.gc)($e)===x,h.LEAVE_AT_MY_DOOR.TITLE,Object(T.pb)(Object(T.gc)($e)===N,g.WALK_IN_THE_STORE.TITLE,R.DINEIN_WALK_IN_THE_STORE.TITLE)))}),Object(u.jsx)("div",{className:"ml-25px option-note",children:Object(Ae.e)(Object(T.pb)(Object(T.gc)($e)===x,h.LEAVE_AT_MY_DOOR.DESC,g.WALK_IN_THE_STORE.DESC))})]})})]}),lj(N,x,$e,ut,h,g)]}),uj(N,x,$e,ut,h,g,z,_,gt,Pe)]})]}),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsxs)("div",{className:"labelContent contact-label pl-25px  col-sm-4 col-12",children:[Object(u.jsx)("h2",{children:Object(Ae.e)(p.CONTACT_INFO)}),!jt.loggedIn&&Object(u.jsx)("button",{type:"button",className:"btn btn-outlined btn-margin","data-testid":"sign-in","data-id":S.l.CHECKOUT_SIGN_IN_ATTR_DATA_ID,onClick:function(){return localStorage.setItem(rn,JSON.stringify(!0)),void Object(T.h)()},children:"Sign in"})]}),Object(u.jsxs)("div",{className:"contactInfoContent  col-sm-8 col-12",children:[!U&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ae.e)(nn.c.mandatorynote)}),Object(u.jsx)(At,{className:vn(pe.error),placeholder:"Full Name*",onChange:gt,onBlur:gt,inputTestId:"form-fullname",name:_.FULL_NAME,value:pe.value,autocomplete:"off",maxlength:"26"}),Object(u.jsxs)("div",{id:"userFullName",className:On(pe.error),children:[pe.error&&Object(u.jsx)("img",{src:Rt,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:pe.errorMessage})]}),Object(u.jsx)(At,{className:vn(Ne.error),placeholder:"Phone Number*",onChange:gt,onBlur:gt,inputTestId:"form-phone",name:_.PHONE,value:Ne.value,autocomplete:"off",maxlength:"10"}),Object(u.jsxs)("div",{id:"userFullName",className:On(Ne.error),children:[Ne.error&&Object(u.jsx)("img",{src:Rt,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:Ne.errorMessage})]}),Object(u.jsx)(At,{className:vn(Ce.error),placeholder:"Email*",onChange:gt,onBlur:gt,inputTestId:"form-email",name:_.EMAIL,value:Ce.value,autocomplete:"off"}),Object(u.jsxs)("div",{id:"userEmail",className:On(Ce.error),children:[Ce.error&&Object(u.jsx)("img",{src:Rt,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:Ce.errorMessage})]}),Object(u.jsxs)("div",{className:"d-flex mt-20px mb-20px",children:[Object(u.jsx)("input",{tabIndex:"0",id:_.SUBSCRIPTION,type:"checkbox",name:_.SUBSCRIPTION,className:"common_checkbox mt-10px",value:Re.value,onChange:gt,checked:Re.value}),Object(u.jsx)("label",{for:_.SUBSCRIPTION,title:!0,className:"form-check-label",children:Object(u.jsx)("span",{className:"agreeTxt",children:Object(Ae.e)(A)})})]})]})]}),Object(u.jsx)(oj,{id:"paymentComp",categories:Je,cartData:ut,isValidated:vt,tenantId:it,userEmail:null===Ce||void 0===Ce?void 0:Ce.value,userPhone:null===Ne||void 0===Ne?void 0:Ne.value,createOrderRequest:ft,subscription:null===Re||void 0===Re?void 0:Re.value,checkoutProps:e,paymentEnabled:ne,setIsPaymentTypeSelected:re,isClickContinuePayment:Z,setIsClickContinuePayment:$,currencyConversionFactor:ot,callBackValidateUserDetails:function(){ne||(gt({target:{value:Pe.value,name:_.VEHICAL_INFORMATION,checked:!1}}),gt({target:{value:pe.value,name:_.FULL_NAME,checked:!1}}),gt({target:{value:Ne.value,name:_.PHONE,checked:!1}}),gt({target:{value:Ce.value,name:_.EMAIL,checked:!1}}))},tenderInfo:null===k||void 0===k?void 0:k.tenderInfo,paymentFormPayload:null===k||void 0===k?void 0:k.paymentFormPayload,callBackPaymentErrorHandler:function(e){e&&"payTmMerchantIdError"===e.errorCode&&($(!1),ae(!0),Oe(!0))}})]}),Object(u.jsx)("div",{className:"checkoutAmountDetails mt-10px ".concat(Object(T.pb)(U,"py-25px mobile","")," col-sm-12 col-lg-5 col-md-12"),children:Object(u.jsx)("div",{className:"col-sm-12 col-12",children:Object(u.jsxs)("div",{className:"p-3 ".concat(Object(T.pb)(U,"priceCard mobile","")," card"),children:[Object(u.jsx)(Hn,{cartReducer:Ke,tenantReducer:Ve,userParams:jt,type:$e,dispositionData:Xe}),Object(u.jsxs)("button",{id:y,variant:"outlined",className:"".concat(ne&&oe?"enabled ":"","payButton"),onClick:function(){var e,t,n,a,i;Oe(!1),ue(!1),_n(w,qe);var c={basketId:null===ut||void 0===ut?void 0:ut.id,tenders:[],customer:{id:null===ut||void 0===ut||null===(e=ut.customer)||void 0===e?void 0:e.id,firstName:(null===pe||void 0===pe?void 0:pe.value)||(null===ut||void 0===ut||null===(t=ut.customer)||void 0===t?void 0:t.firstName)||"",lastName:(null===pe||void 0===pe?void 0:pe.value)||(null===ut||void 0===ut||null===(n=ut.customer)||void 0===n?void 0:n.lastName)||"",email:(null===Ce||void 0===Ce?void 0:Ce.value)||(null===ut||void 0===ut||null===(a=ut.customer)||void 0===a?void 0:a.email),phoneNumber:(null===Ne||void 0===Ne?void 0:Ne.value)||(null===ut||void 0===ut||null===(i=ut.customer)||void 0===i?void 0:i.phone),couponCodes:[],customProperties:null}};Re.value&&(c.marketingPreferences=["email","phone"]),Object(T.gc)($e)===x&&(c.isContactless="leaveatmydoor"===z,c.instruction=Object(T.pb)("leaveatmydoor"===z,"",Pe.value),c.addressLines=[Ue],An("DELIVERY","NA")),Object(T.gc)($e)===N&&((null===ut||void 0===ut?void 0:ut.availableCollectionPoints)&&(c.collectionPoint={name:Object(T.pb)("leaveatmydoor"===z,"in-store","curbside"),bayNumber:0}),An("PICKUP",z),c.instruction=Object(T.pb)("leaveatmydoor"===z,"",Pe.value)),Object(T.gc)($e)===C&&(c.collectionPoint={name:"in-store",bayNumber:0},An("DINEIN",c.collectionPoint.name)),pt({tenantId:it,request:c}),Object(T.u)(ne,$(!0)),Object(T.u)(wa.b.isBrowser,ae(!1))},disabled:!Object(T.u)(ne,oe),children:["".concat(Object(Ae.e)(y)),Object(u.jsxs)("span",{className:"rupee-text",children:[" ",ct,K," "]})]})]})})})]})]})}),k.showCartClearAlert&&Object(u.jsx)(Zd,{})]})},lj=function(e,t,n,a,i,c){return[e,t].includes(Object(T.gc)(n))&&yn(null===a||void 0===a?void 0:a.availableCollectionPoints,Object(T.gc)(n))&&Object(u.jsxs)("div",{className:"radioBtns mt-10px pl-0px pr-0px",children:[Object(u.jsx)("input",{type:"radio",id:"handittome",name:"checkoutoptions",value:"handittome"}),Object(u.jsx)("label",{for:"handittome",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"handItToMe",tabIndex:"0",children:Object(Ae.e)(Object(T.pb)(Object(T.gc)(n)===t,i.HAND_IT_TO_ME.TITLE,c.KFC_TO_YOUR_CAR.TITLE))}),Object(u.jsx)("div",{className:"ml-25px option-note",children:Object(Ae.e)(Object(T.pb)(Object(T.gc)(n)===t,i.HAND_IT_TO_ME.DESC,c.KFC_TO_YOUR_CAR.DESC))})]})}),Object(u.jsx)("hr",{className:"handItToMe-hr"})]})},uj=function(e,t,n,a,i,c,o,r,s,d){return[e,t].includes(Object(T.gc)(n))&&yn(null===a||void 0===a?void 0:a.availableCollectionPoints,Object(T.gc)(n))&&Object(u.jsxs)("div",{className:"".concat(o,"-radiobutton"),children:[Object(u.jsx)("form",{className:"deliveryInstrs mb-3",children:Object(u.jsx)("textarea",{id:"instruction",className:"textarea",name:"".concat(Object(T.pb)(Object(T.gc)(n)===t,r.DELIVERY_INSTRUCTION,r.VEHICAL_INFORMATION)),rows:"2",placeholder:"".concat(Object(T.pb)(Object(T.gc)(n)===t,Object(Ae.e)(i.HAND_IT_TO_ME.PLACE_HOLDER),Object(Ae.e)(c.KFC_TO_YOUR_CAR.PLACE_HOLDER)),"*"),"aria-label":"".concat(Object(T.pb)(Object(T.gc)(n)===t,Object(Ae.e)(i.HAND_IT_TO_ME.PLACE_HOLDER),Object(Ae.e)(c.KFC_TO_YOUR_CAR.PLACE_HOLDER)),"*"),maxlength:"100",onChange:s,value:d.value,onBlur:s})}),Object(T.u)(d.error,Object(u.jsx)("div",{id:"deliveryInstrs",className:"deliveryInstrs-error",children:Object(u.jsx)("span",{role:"alert",className:"deliveryInstrs-error",children:d.errorMessage})}))]})},bj=n.p+"static/media/kfcCup.7ca71cd3.svg",vj=n.p+"static/media/kfc_bucket_mob.e7f992eb.svg",jj={ERROR_CODE:"404",THERE_NO_FRIED_TEXT:"THERE'S NO FRIED",CHICKEN_PAGE_TEXT:"CHICKEN ON THIS PAGE...",TAKE_ME_HOME_TEXT:"takeMeHome",SIGN_UP_TEXT:"signUpText",SIGN_IN_TEXT:"signIn",SIGN_OUT_MESSAGE1:"signOutText1",SIGN_OUT_MESSAGE2:"signOutText2",DELETE_ACCOUNT_MESSAGE:"deleteAccountText"},Oj=function(e){var t=jj.ERROR_CODE,n=jj.THERE_NO_FRIED_TEXT,a=jj.CHICKEN_PAGE_TEXT,i=jj.TAKE_ME_HOME_TEXT;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"not-found-container",children:[Object(u.jsx)("div",{className:"not-found-kfc-bucket-part",children:Object(u.jsx)(Da.a,{src:Object(T.Lb)(window.innerWidth)?vj:bj})}),Object(u.jsxs)("div",{className:"not-found-error-part",children:[Object(u.jsx)("p",{className:"not-found-error-text red-text",children:t}),Object(u.jsx)("p",{className:"not-found-error-text",children:n}),Object(u.jsx)("p",{className:"not-found-error-text",children:a}),Object(u.jsx)(ht.a,{"data-testid":"take-me-homeid",className:"take-me-home-button",onClick:function(){e.history.push({pathname:"/"})},children:Object(Ae.e)(i)})]})]})})},mj=n(371),fj=function(e){return Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===e||void 0===e?void 0:e.country,"fields.channel":wa.b.channel,include:5}})},pj=function(e){return Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:e})},hj=function(e){var t,n,a,o,r=Object(E.c)((function(e){return e.appStateReducer.userStatus})),s=Object(E.c)((function(e){return e.tenantReducer})),d=null,l=null,b=null,v=f.a.DISPOSITION,j=Object(E.b)();Object(i.useEffect)((function(){j(fj(s))}),[j,null===s||void 0===s?void 0:s.country]),Object(i.useEffect)((function(){j(pj(r))}),[j,r]);var O=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null}}));if(O.marketPageContent&&O.tenantReducerContent&&O.homePageContent){d=Object(T.Y)(O.homePageContent);var m=O.marketPageContent.headerData||{},p=m.header,h=void 0===p?{}:p,g=m.footer,x=void 0===g?{}:g;l=Object(T.Z)(h),b=Object(T.R)(x)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(l)&&Object(u.jsx)($a,{contentData:l,tenantReducerData:O.tenantReducerContent,userParams:r})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=d)||void 0===n?void 0:n[v])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=d)||void 0===o?void 0:o[v])&&void 0!==a?a:{}},userParams:r}),Object(u.jsx)(Oj,{"data-testid":"not-found-404-testid",history:e.history}),Object(T.Fb)(b)&&Object(u.jsx)(ma,{history:e.history,contentData:b,tenantReducerData:O.tenantReducerContent})||null]})},gj=n(372),xj="effectiveDate",Nj=function(e){var t=e.headerData,n=void 0===t?{}:t,a=n.title,i=void 0===a?"":a,c=n.effectiveDate,o=void 0===c?"":c,r=xj;return Object(u.jsxs)("div",{className:"privacy-header-container",children:[Object(u.jsx)("img",{src:ws,className:"privacy-icon",alt:""}),Object(u.jsx)("h1",{className:"privacy-header",children:i}),Object(u.jsxs)("div",{className:"privacy-eff-date",children:[Object(Ae.e)(r)," ",o]})]})},Ej=function(e){var t=e.description,n=void 0===t?{}:t;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(n)},className:"privacy-description"})})},Tj=function(e){var t=e.questionList,n=void 0===t?[]:t,a=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("privacy-accordian-open")?t.classList.remove("privacy-accordian-open"):t.classList.add("privacy-accordian-open")};return Object(u.jsx)("div",{children:n.map((function(e){return Object(u.jsx)("div",{className:"privacy-accordian",children:Object(u.jsx)(se,{header:e.question,onClickHandler:a,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(e.answer)},className:"privacy-accordian-answer"})})})}))})},Ij=function(e){var t=e.contentData,n=void 0===t?{}:t,a=n.headerData,c=void 0===a?{}:a,o=n.description,r=void 0===o?{}:o,s=n.questionList,d=void 0===s?[]:s,l=Object(i.useState)(Object(T.Lb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=function(){var e=Object(T.Lb)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",m)}),[v]);return v?Object(u.jsxs)("div",{className:"privacy-mobile-container",children:[Object(u.jsx)("div",{className:"privacy-mobile-header",children:Object(u.jsx)(Nj,{headerData:c})}),Object(u.jsx)("div",{className:"privacy-mobile-description",children:Object(u.jsx)(Ej,{description:r})}),Object(u.jsx)("div",{className:"privacy-mobile-questions",children:Object(u.jsx)(Tj,{questionList:d})})]}):Object(u.jsxs)("div",{className:"privacy-desktop-container",children:[Object(u.jsx)("div",{className:"privacy-section-left",children:Object(u.jsx)(Nj,{headerData:c})}),Object(u.jsxs)("div",{className:"privacy-section-right",children:[Object(u.jsx)("div",{className:"privacy-description-desktop",children:Object(u.jsx)(Ej,{description:r})}),Object(u.jsx)("div",{className:"privacy-questions-desktop",children:Object(u.jsx)(Tj,{questionList:d})})]})]})},Cj=function(e){var t,n,a,r,s,d=Object(i.useContext)(I.a).userOrderState,l=Object(E.b)(),b=Object(E.c)((function(e){return e.appStateReducer.userStatus})),v=Object(o.g)().pathname.includes("privacyPolicy/true"),j=null,O=null,h=null,g=null,N=f.a.DISPOSITION,S=Object(E.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),privacyPolicyContent:m.a.get(e,"privacyPolicyReducer.response",null)}}));if(S.marketPageContent&&S.tenantReducerContent&&S.homePageContent&&Object(T.Fb)(S.privacyPolicyContent)){j=Object(T.Y)(S.homePageContent);var A=S.marketPageContent.headerData,y=A.header,_=void 0===y?{}:y,D=A.tenant,R=void 0===D?[]:D,w=A.footer,L=void 0===w?{}:w;O=Object(T.Z)(_),g=Object(T.R)(L),Object(T.nb)(R),h=Object(T.lb)(S.privacyPolicyContent)}return Object(i.useEffect)((function(){var e;l(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===S||void 0===S||null===(e=S.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":wa.b.channel,include:5}}))}),[null===S||void 0===S||null===(t=S.tenantReducerContent)||void 0===t?void 0:t.country,l]),Object(i.useEffect)((function(){l(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:b}))}),[l,b]),Object(i.useEffect)((function(){l(Object(gj.a)({object:Object(C.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Privacy Policy",include:"5"}}))}),[l]),Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(O)&&!v&&Object(u.jsx)($a,{contentData:O,tenantReducerData:S.tenantReducerContent,userParams:b})||null,!v&&Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(n=null===(a=j)||void 0===a?void 0:a[N])&&void 0!==n?n:{},contentDispositionData:null!==(r=null===(s=j)||void 0===s?void 0:s[N])&&void 0!==r?r:{}},userParams:b}),Object(T.Fb)(h)&&Object(u.jsx)(Ij,{contentData:h}),Object(T.Fb)(g)&&!v&&Object(u.jsx)(ma,{history:e.history,contentData:g,tenantReducerData:S.tenantReducerContent})||null,d.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},Sj=n(373),Aj="effectiveDate",yj=function(e){var t=e.headerData,n=void 0===t?{}:t,a=n.title,i=void 0===a?"":a,c=n.effectiveDate,o=void 0===c?"":c,r=Aj;return Object(u.jsxs)("div",{className:"ourAds-header-container",children:[Object(u.jsx)("img",{src:ws,className:"ourAds-icon",alt:" "}),Object(u.jsx)("h1",{className:"ourAds-header",children:i}),Object(u.jsxs)("div",{className:"ourAds-eff-date",children:[Object(Ae.e)(r)," ",o]})]})},_j=function(e){var t=e.description,n=void 0===t?{}:t;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(n)},className:"ourAds-description"})})},Dj=function(e){var t=e.questionList,n=void 0===t?[]:t,a=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("ourAds-accordian-open")?t.classList.remove("ourAds-accordian-open"):t.classList.add("ourAds-accordian-open")};return Object(u.jsx)("section",{children:n.map((function(e){return Object(u.jsx)("section",{className:"ourAds-accordian",children:Object(u.jsx)(se,{header:e.question,onClickHandler:a,children:Object(u.jsx)("section",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))})},Rj=function(e){var t=e.contentData,n=void 0===t?{}:t,a=n.headerData,c=void 0===a?{}:a,o=n.description,r=void 0===o?{}:o,s=n.questionList,d=void 0===s?[]:s,l=Object(i.useState)(Object(T.Lb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useContext)(I.a).userOrderState,f=function(){var e=Object(T.Lb)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",f)}),[v]);return v?Object(u.jsxs)("div",{className:"ourAds-mobile-container",children:[Object(u.jsx)("div",{className:"ourAds-mobile-header",children:Object(u.jsx)(yj,{headerData:c})}),Object(u.jsx)("div",{className:"ourAds-mobile-description",children:Object(u.jsx)(_j,{description:r})}),Object(u.jsx)("div",{className:"ourAds-mobile-questions",children:Object(u.jsx)(Dj,{questionList:d})}),m.showCartClearAlert?Object(u.jsx)(Zd,{}):null]}):Object(u.jsxs)("div",{className:"ourAds-desktop-container",children:[Object(u.jsx)("div",{className:"ourAds-section-left",children:Object(u.jsx)(yj,{headerData:c})}),Object(u.jsxs)("div",{className:"ourAds-section-right",children:[Object(u.jsx)("div",{className:"ourAds-description-desktop",children:Object(u.jsx)(_j,{description:r})}),Object(u.jsx)("div",{className:"ourAds-questions-desktop",children:Object(u.jsx)(Dj,{questionList:d})})]}),m.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},wj=function(e){var t,n,a,r,s=Object(i.useContext)(I.a).userOrderState,d=Object(E.c)((function(e){return e.tenantReducer})),l=Object(E.b)(),b=Object(T.Eb)(s.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):s.dispositionNew,v=(Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(d)?d:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:b?null===b||void 0===b?void 0:b.store:{},dispositionType:b&&(null===b||void 0===b?void 0:b.type)?Object(T.L)(null===b||void 0===b?void 0:b.type):Object(T.L)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[b,d]),Object(E.c)((function(e){return e.appStateReducer.userStatus})));Object(i.useEffect)((function(){l(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===d||void 0===d?void 0:d.country,"fields.channel":wa.b.channel,include:5}}))}),[l]),Object(i.useEffect)((function(){l(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:v}))}),[l,v]);var j=Object(o.g)().pathname.includes("ourAds/true");Object(i.useEffect)((function(){l(Object(Sj.a)({object:Object(C.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"About Our Ads",include:"5"}}))}),[l]);var O=null,h=null,g=null,N=null,S=f.a.DISPOSITION,A=Object(E.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),ourAdsContent:m.a.get(e,"ourAdsReducer.response",null)}}));if(A.marketPageContent&&A.tenantReducerContent&&A.homePageContent&&Object(T.Fb)(A.ourAdsContent)){O=Object(T.Y)(A.homePageContent);var y=A.marketPageContent.headerData,_=y.header,D=void 0===_?{}:_,R=y.tenant,w=void 0===R?[]:R,L=y.footer,k=void 0===L?{}:L;h=Object(T.Z)(D),N=Object(T.R)(k),Object(T.nb)(w),g=Object(T.ib)(A.ourAdsContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(h)&&!j&&Object(u.jsx)($a,{contentData:h,tenantReducerData:A.tenantReducerContent,userParams:v})||null,!j&&Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=O)||void 0===n?void 0:n[S])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=O)||void 0===r?void 0:r[S])&&void 0!==a?a:{}},userParams:v}),Object(T.Fb)(g)&&Object(u.jsx)(Rj,{contentData:g}),Object(T.Fb)(N)&&!j&&Object(u.jsx)(ma,{history:e.history,contentData:N,tenantReducerData:A.tenantReducerContent})||null]})},Lj=n(218),kj=n(100),Pj=function(e){var t=Yn.CURRENT_ORDER,n=void 0===t?"":t,a=Yn.PROCESSING,c=void 0===a?"":a,o=Yn.PROCESSING_YOUR,r=void 0===o?"":o,s=Yn.ORDER_READY_IN_JUST,d=void 0===s?"":s,l=Yn.SECOND,b=void 0===l?"":l,v=Yn.CONFIRMING_YOUR_ORDER,O=void 0===v?"":v,m=Yn.READY_IN_JUST_A_SECOND,f=void 0===m?"":m,p=Object(i.useState)(Object(T.Lb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],x=h[1],N=function(){var e=Object(T.Lb)(window.innerWidth);x(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",N)}),[g]),Object(i.useEffect)((function(){if(e.retryCount>=0&&e.retryCount<=kj.a){var t=document.getElementById("progressBarContainer"),n=document.getElementById("progressBar");console.log(t.offsetWidth);var a=t.offsetWidth/kj.a*(e.retryCount+1);console.log(a),n.style.width=a+"px"}}),[e.retryCount]),Object(u.jsx)("div",{children:g?Object(u.jsx)("div",{className:"orderConfirmScreenMob","data-testid":"orderConfirmItems-component",children:Object(u.jsxs)("div",{className:"statusBar",children:[Object(u.jsx)("div",{className:"currentStatusMob",children:Object(Ae.e)(n)}),Object(u.jsx)("div",{id:"progressBarContainer",className:"ProgressMob",children:Object(u.jsx)("div",{id:"progressBar",className:"barMob","data-testid":"load-component"})}),Object(u.jsx)("div",{className:"progressBarMob",children:Object(Ae.e)(c)}),Object(u.jsx)("div",{className:"confirmOrderMobile",children:Object(Ae.e)(r)}),Object(u.jsxs)("div",{className:"confirmOrderMobile",children:[" ",Object(Ae.e)(d)]}),Object(u.jsxs)("div",{className:"confirmOrderMobile",children:[" ",Object(Ae.e)(b)]})]})}):Object(u.jsx)("div",{className:"orderConfirmScreen","data-testid":"orderConfirmItems-component",children:Object(u.jsxs)("div",{className:"statusBar",children:[Object(u.jsx)("div",{className:"currentStatus",children:Object(Ae.e)(n)}),Object(u.jsx)("div",{id:"progressBarContainer",className:"Progress",children:Object(u.jsx)("div",{id:"progressBar",className:"bar"})}),Object(u.jsx)("div",{className:"progressBar",children:Object(Ae.e)(c)}),Object(u.jsx)("div",{className:"confirmOrder",children:Object(Ae.e)(O)}),Object(u.jsxs)("div",{className:"confirmOrder",children:[" ",Object(Ae.e)(f)," "]})]})})})},Mj=n(121),Fj=function(e){var t=e.isOpen,n=void 0!==t&&t,c=e.handleClose,o=e.onSave,r=e.tenantReducer,s=void 0===r?{}:r,d=e.OrderReducerData,l=void 0===d?{}:d,b=s.tenantId,v=void 0===b?"":b,O=l.id,m=void 0===O?"":O,f=l.customer,p=(f=void 0===f?{}:f).id,h=void 0===p?"":p,g=f.phoneNumber,x=void 0===g?"":g,N=Object(i.useState)(Object(T.Lb)(window.innerWidth)),I=Object(j.a)(N,2),C=I[0],S=I[1],A=Object(i.useState)(!0),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)({value:"",errorMessage:"",error:!1}),w=Object(j.a)(R,2),L=w[0],k=w[1],P=Yn.THANKYOU,M=void 0===P?"":P,F=Yn.WE_SAVED,H=void 0===F?"":F,U=Yn.GIVE_A_NAME,B=void 0===U?"":U,Y=function(e){var t=e.target.value;(function(){k(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<3?(n.error=!0,n.errorMessage=Object(Ae.e)(Yn.SAVE_ORDER_NAME_ERROR),D(!0)):(n.error=!1,n.errorMessage="",D(!1)):(n.error=!0,n.errorMessage=Object(Ae.e)(Yn.SAVE_ORDER_NAME_ERROR),D(!0)),n}(L,t)))})()},G=Object(E.b)();Object(i.useEffect)((function(){return window.addEventListener("resize",K),function(){window.removeEventListener("resize",K)}}));var K=function(){S(Object(T.Lb)(window.innerWidth))},V=C?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:n,classNames:"save-order-modal",showCloseBtn:!0,closeButtonHandler:c,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:n,classNames:"save-order-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:c,autoFocus:!0};return Object(u.jsx)("div",{children:n&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},V),{},{children:Object(u.jsxs)("div",{className:"modalContants",children:[Object(u.jsx)("div",{className:"fontstyle",children:Object(Ae.e)(M)}),Object(u.jsx)("div",{className:"fontstyle",children:Object(Ae.e)(H)}),Object(u.jsx)("div",{className:"fontstyle",children:Object(Ae.e)(B)}),C?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"inputbox",children:Object(u.jsx)(Pt,{value:L.value,className:"inputfield",placeholder:"Name This Order","data-testid":"modal-coupon-input-field",onChange:Y})}),Object(u.jsxs)("div",{id:"saveTrackOrderScreen",className:"error-text",children:[L.error,Object(u.jsx)("span",{role:"alert",children:L.errorMessage})]})]}):Object(u.jsxs)("div",{className:"inputbox trackOrderScreen",children:[Object(u.jsx)(Pt,{value:L.value,className:"inputfield",placeholder:"Name This Order","data-testid":"modal-coupon-input-field",onChange:Y}),Object(u.jsxs)("div",{id:"saveTrackOrderScreen",className:"error-text",children:[L.error,Object(u.jsx)("span",{role:"alert",children:L.errorMessage})]})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(ht.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return console.log("close"),void c()},children:"Cancel"}),Object(u.jsx)(ht.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:function(e){return function(e){var t=Object(a.a)({},L);e.stopPropagation(),console.log("saved"),""!==L.value?(G(Object(Mj.a)({customerId:h,tenantId:v,phoneNumber:x},{orderId:m,name:L.value})),o(!0),c()):(t.error=!0,t.errorMessage=Object(Ae.e)(Yn.SAVE_ORDER_NAME_ERROR),D(!0),k(t))}(e)},disabled:_,children:"Save"})]})]})}))})};Fj.defaultProps={isOpen:!1,closeModal:null};var Hj=Fj,Uj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgBtctBDQAgCAVQIxjBCEaxgRE0ghFsZgQjGAE5wObcQC6y/Qv/fed+HABkzMB4K+arLxwxi3A7i4IJVlzpOXkkYioDYR4lEQsjULEw0vE16prZA0KiodJlD34AAAAASUVORK5CYII=",Bj=Ls.phoneImg,Yj=Ls.Direction,Gj=Yn.GST,Kj=Yn.YOUR_ORDER,Vj=Yn.ORDER,Wj=Yn.ORDER_FROM_CAPS,qj=Yn.GET_DIRECTION,zj=Yn.SUB_TOTAL,Qj=Yn.TOTAL,Jj=Yn.largeCarryBagText,Xj=Yn.addHopeText,Zj=Yn.SEARCH_IN_CART,$j=Yn.DELIVERY,eO=Yn.PICKUP,tO=Yn.ONLY_IMAGE,nO=Yn.DELIVERY_FEE,aO=Yn.DISCOUNT_TEXT,iO=Yn.HH_MM,cO=Yn.HH_MM_A,oO=Yn.TOTAL_GST_INCLUDED,rO=function(e,t,n){return null===e||void 0===e?void 0:e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name)!==n}))},sO=function(e){null===e||void 0===e||e.substr(0,null===e||void 0===e?void 0:e.indexOf(" "));var t=null===e||void 0===e?void 0:e.substr((null===e||void 0===e?void 0:e.indexOf(" "))+1);return(null===t||void 0===t?void 0:t.slice(0,3))+"-"+(null===t||void 0===t?void 0:t.slice(3,6))+"-"+(null===t||void 0===t?void 0:t.slice(6))},dO=function(e,t,n){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ae.e)(Gj)}),Object(u.jsxs)("span",{className:"amount",children:[e,sa(null===t||void 0===t?void 0:t.inclusiveTaxTotal,n)," "]})]})},lO=function(e){return(null===e||void 0===e?void 0:e.toUpperCase())===$j?Object(Ae.e)(nO):Object(Ae.e)(Yn.RESTAURANT_HANDLING_CHARGE)},uO=function(e,t,n,a){return e&&e.map((function(e,i){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:lO(a)}),Object(u.jsxs)("span",{className:"amount",children:[t,sa(null===e||void 0===e?void 0:e.amount,n)," "]})]},i)}))},bO=function(e){var t,n,a,i,c,o;return"".concat(null===e||void 0===e||null===(t=e.deliveryAddress)||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.join(" ")," ").concat(null===e||void 0===e||null===(a=e.deliveryAddress)||void 0===a?void 0:a.city," ").concat(null===e||void 0===e||null===(i=e.deliveryAddress)||void 0===i?void 0:i.state," ").concat(null===e||void 0===e||null===(c=e.deliveryAddress)||void 0===c?void 0:c.country," ").concat(null===e||void 0===e||null===(o=e.deliveryAddress)||void 0===o?void 0:o.pinCode)},vO=function(e){return(null===e||void 0===e?void 0:e.id)?null===(null===e||void 0===e?void 0:e.posOrderId)||""===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId:""},jO=function(e,t,n){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"line",children:la(null===e||void 0===e?void 0:e.item,t,n)}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ae.e)(zj)}),Object(u.jsxs)("span",{className:"amount",children:[t,null===e||void 0===e?void 0:e.subTotal]})]}),(null===e||void 0===e?void 0:e.taxValue)&&Object(u.jsx)("div",{children:dO(t,e,n)}),Object(u.jsx)("div",{children:uO(null===e||void 0===e?void 0:e.additionalCharges,t,n,null===e||void 0===e?void 0:e.service)}),(null===e||void 0===e?void 0:e.discountTotal)>0&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ae.e)(aO)}),Object(u.jsxs)("span",{className:"amount",children:[" ","- ",t,null===e||void 0===e?void 0:e.discountTotal]})]})]})},OO=function(e,t,n,a,i){return(null===e||void 0===e?void 0:e.service)===$j?function(e,t,n,a){var i,c,o,r,s,d,l,b,v=Object(T.w)(null===e||void 0===e?void 0:e.operatingHours),j=Object(De.s)(Object(T.hb)(v),iO,cO),O=Object(De.s)(Object(T.A)(v),iO,cO);return Object(u.jsxs)("div",{className:"Bill",children:[Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ae.e)("deliveryAddress")}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.fullAddressDetails}),(null===e||void 0===e?void 0:e.instruction)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ae.e)("instructions")}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.instruction})]}),Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ae.e)("preparedBy")}),Object(u.jsxs)("div",{className:"place",children:[Object(u.jsxs)("span",{className:"fnt-bld mob-display",children:[null===e||void 0===e?void 0:e.storeName," "]}),(null===v||void 0===v?void 0:v.length)&&Object(u.jsxs)("span",{className:"hrs-view mob-display",children:["Hours: ","".concat(j,"-").concat(O)]})]}),jO(e,t,n),(null===e||void 0===e?void 0:e.total)&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsxs)("span",{className:"total",children:[Object(Ae.e)(oO),":"]}),Object(u.jsxs)("span",{className:"total",children:[t,null===e||void 0===e?void 0:e.total]})]}),Object(u.jsx)("div",{class:"hr-payment-type"}),Object(u.jsxs)("div",{className:"totalAmount mt-5",children:[Object(u.jsx)("span",{className:"total",children:Object(Ae.e)("Payment")}),Object(u.jsx)("span",{className:"total payment-type",children:(null===a||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.displayFormat)===tO?Object(u.jsx)("img",{src:null===a||void 0===a||null===(c=a.fields)||void 0===c||null===(o=c.icon)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.desktopImage)||void 0===s||null===(d=s.fields)||void 0===d||null===(l=d.file)||void 0===l?void 0:l.url,alt:"paymentMethod"}):Object(u.jsx)("span",{children:null===a||void 0===a||null===(b=a.fields)||void 0===b?void 0:b.displayName})})]})]})}(e,n,a,t):function(e,t,n,a,i){var c,o,r,s,d,l,b,v;return Object(u.jsxs)("div",{className:"Bill",children:[Object(u.jsxs)("div",{className:"orderTitle",children:[Object(u.jsx)("h2",{className:"yourOrder",children:Object(Ae.e)(Kj)}),Object(u.jsxs)("span",{className:"orderId",children:[Object(u.jsx)("span",{className:"OrderClass",children:Object(Ae.e)(Vj)}),null===e||void 0===e?void 0:e.orderId]})]}),Object(u.jsx)("div",{className:"orderingDateTime",children:"".concat(null===e||void 0===e?void 0:e.orderingDate," ").concat(Object(Ae.e)("At")," ").concat(null===e||void 0===e?void 0:e.orderingTime)}),Object(u.jsxs)("div",{className:"postorder-payment-details",children:[Object(u.jsx)("h2",{className:"payment-header",children:Object(Ae.e)("paymentHeader")}),Object(u.jsx)("div",{className:"payment-details",children:(null===t||void 0===t||null===(c=t.fields)||void 0===c?void 0:c.displayFormat)===tO?Object(u.jsx)("img",{src:null===t||void 0===t||null===(o=t.fields)||void 0===o||null===(r=o.icon)||void 0===r||null===(s=r.fields)||void 0===s||null===(d=s.desktopImage)||void 0===d||null===(l=d.fields)||void 0===l||null===(b=l.file)||void 0===b?void 0:b.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"payment-completed",children:null===t||void 0===t||null===(v=t.fields)||void 0===v?void 0:v.displayName})})]}),Object(u.jsx)("h2",{className:"orderFrom",children:Object(Ae.e)(Wj)}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.storeName}),Object(u.jsx)("div",{className:"Address",children:null===e||void 0===e?void 0:e.addressLines}),Object(u.jsxs)("div",{className:"ContactDetail",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("img",{src:Bj,alt:"",className:"phoneIcon"}),Object(u.jsx)("span",{className:"phoneNum",children:Object(u.jsx)("a",{href:"tel:{orderDetails?.phoneNumber}",className:"anchorTag",children:null===e||void 0===e?void 0:e.phoneNumberFormat})})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("img",{src:Yj,alt:"",className:"phoneIcon"}),Object(u.jsx)("span",{"data-testid":"get-direction",tabIndex:"0",className:"phoneNum",onClick:function(){return i()},children:Object(Ae.e)(qj)})]})]}),jO(e,n,a),(null===e||void 0===e?void 0:e.service)===eO&&(null===e||void 0===e?void 0:e.carryBagDataExistsId)&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ae.e)(Jj)}),Object(u.jsx)("span",{className:"amount",children:null===e||void 0===e?void 0:e.carryBagDataPrice})]}),Boolean(null===e||void 0===e?void 0:e.addHopeDataExistsId)&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Ae.e)(Xj)}),Object(u.jsx)("span",{className:"amount",children:null===e||void 0===e?void 0:e.addHopeDataPrice})]}),(null===e||void 0===e?void 0:e.total)&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsx)("span",{className:"total",children:Object(Ae.e)(Qj)}),Object(u.jsxs)("span",{className:"total",children:[n,null===e||void 0===e?void 0:e.total]})]})]})}(e,t,n,a,i)},mO=function(e){var t,n=e.orderReducerData,a=void 0===n?{}:n,c=e.tenantReducer,o=void 0===c?{}:c,r=e.getDirectionClickForMaps,s=e.enableAccordion,d=e.isOpenAccordion,l=e.orderDetailsObj,b=void 0===l?{}:l,v=a.tenders,O=o.currencySymbol,m=o.currencyConversionFactor,f=o.addHope,p=o.carryBag,h=Object(E.c)((function(e){return null===e||void 0===e?void 0:e.paymentsContentReducer})).tendersContent.items,g=Object(E.b)();Object(i.useEffect)((function(){g(Object(yt.a)({object:Object(C.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]);var x=Object(i.useState)({fields:{displayFormat:""}}),N=Object(j.a)(x,2),I=N[0],S=N[1],A=Object(i.useState)({service:"",orderId:"",storeName:"",phoneNumber:"",subTotal:0,taxValue:[],additionalCharges:[],discountTotal:0,total:"",item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",inclusiveTaxTotal:"",operatingHours:null===b||void 0===b||null===(t=b.operatingTime)||void 0===t?void 0:t.operatingHours}),y=Object(j.a)(A,2),_=y[0],D=y[1];return Object(i.useEffect)((function(){if(null===a||void 0===a?void 0:a.id){var e,t,n,i,c,r,s,d=Object(T.u)(f,p)?ua(a,f,p,Zj,void 0,void 0,o):{};D({service:null===a||void 0===a||null===(e=a.service)||void 0===e?void 0:e.toUpperCase(),orderId:vO(a),storeName:null===a||void 0===a||null===(t=a.store)||void 0===t?void 0:t.name,phoneNumber:null===a||void 0===a||null===(n=a.store)||void 0===n?void 0:n.phoneNumber,phoneNumberFormat:sO(null===a||void 0===a||null===(i=a.store)||void 0===i?void 0:i.phoneNumber),subTotal:sa(null===a||void 0===a?void 0:a.subTotal,m),taxValue:null===a||void 0===a?void 0:a.taxLines,additionalCharges:null===a||void 0===a?void 0:a.additionalChargeLines,discountTotal:sa(null===a||void 0===a?void 0:a.discountTotal,m),total:sa(null===a||void 0===a?void 0:a.total,m),item:rO(null===a||void 0===a?void 0:a.foodLines,f,p),addHopeDataExistsId:(null===d||void 0===d?void 0:d.addHopeDataExistsId)||"",carryBagDataExistsId:(null===d||void 0===d?void 0:d.carryBagDataExistsId)||"",addHopeDataPrice:(null===d||void 0===d?void 0:d.addHopeDataPrice)||"",carryBagDataPrice:(null===d||void 0===d?void 0:d.carryBagDataPrice)||"",orderingDate:Object(T.I)(null===a||void 0===a?void 0:a.orderingDateTime),orderingTime:Object(T.qb)(null===a||void 0===a?void 0:a.orderingDateTime),fullAddressDetails:bO(a),instruction:null===a||void 0===a?void 0:a.instruction,addressLines:null===a||void 0===a||null===(c=a.store)||void 0===c||null===(r=c.address)||void 0===r?void 0:r.addressLines,inclusiveTaxTotal:null===a||void 0===a?void 0:a.inclusiveTaxTotal,operatingHours:null===b||void 0===b||null===(s=b.operatingTime)||void 0===s?void 0:s.operatingHours}),Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa.b.BindOrder();case 2:case"end":return e.stop()}}),e)})))()}}),[null===a||void 0===a?void 0:a.id,f,p]),Object(i.useEffect)((function(){Object(T.u)(null===h||void 0===h?void 0:h.length,null===v||void 0===v?void 0:v.length)&&h.forEach((function(e){e.fields.title===v[0].type&&S(e)}))}),[v]),s?function(e,t,n,a,i,c){return Object(u.jsx)("div",{className:"accordion-bill",children:Object(u.jsxs)("div",{className:"accordion-bill-info",children:[Object(u.jsx)("div",{class:"circle-topp"}),Object(u.jsx)("div",{className:"accordion-Title",children:Object(u.jsx)("div",{className:"bill-accordian",id:null===e||void 0===e?void 0:e.orderId,children:Object(u.jsx)(se,{cssClass:"bill-container",header:"".concat(Object(Ae.e)(Vj)," ").concat(null===e||void 0===e?void 0:e.orderId),open:!c,onClickHandler:function(e){var t,n,a,i,c,o,r=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(a=n.parentElement)||void 0===a?void 0:a.parentElement;(null===r||void 0===r||null===(i=r.classList)||void 0===i?void 0:i.contains("terms-accordian-open"))?null===r||void 0===r||null===(c=r.classList)||void 0===c||c.remove("terms-accordian-open"):null===r||void 0===r||null===(o=r.classList)||void 0===o||o.add("terms-accordian-open")},children:Object(u.jsx)("div",{className:"bill-accordian-description",children:OO(e,t,n,a,i)})})})}),Object(u.jsx)("div",{class:"circle-bottomm"})]})})}(_,I,O,m,r,d):OO(_,I,O,m,r)},fO=function(e,t){return!e&&t.loggedIn&&Object(u.jsx)("div",{className:"linebreak"})},pO=function(e){var t=e.orderReducerData,n=void 0===t?{}:t,a=e.userParams,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(Object(T.Lb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Object(i.useState)(!1),E=Object(j.a)(N,2),I=E[0],C=E[1],S=Object(i.useState)(""),A=Object(j.a)(S,2),y=A[0],_=A[1],D=Object(i.useState)(""),R=Object(j.a)(D,2),w=R[0],L=R[1],k=Yn.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER,P=void 0===k?"":k,M=Yn.SAVED_TO_FAVORITE_MENU,F=void 0===M?"":M,H=Yn.SAVE_THIS_Order,U=void 0===H?"":H,B=function(){var e=Object(T.Lb)(window.innerWidth);x(e)};Object(i.useEffect)((function(){window.addEventListener("resize",B)}),[g]),Object(i.useEffect)((function(){m&&(Jt.b.dark(Object(u.jsx)("div",{className:"img-text-div",children:Object(u.jsxs)("span",{className:"notifyText",children:[Object(u.jsx)("img",{src:Uj,alt:"tick",className:"TickImg"}),Object(Ae.e)(F)]})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Jt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Jt.b.dismiss()}),4e3))}),[m]);var Y,G,K=function(){!function(e){e(!0)}(C)};return Object(i.useEffect)((function(){if(n.id){_(n.service);var e=n.fulfillmentDateTime,t=Object(T.qb)(e);L(t)}}),[n]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"OrderReceivedContainer",children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"NotifyOrderPlaced",children:Object(u.jsxs)("div",{className:"tickimage",children:["DELIVERY"===y.toUpperCase()?Object(u.jsx)("div",{children:(Y=n,G=w,Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:Bn,alt:"success"}),Object(u.jsxs)("div",{className:"allSet",children:[Object(Ae.e)(Zn),"."]}),Object(u.jsxs)("div",{className:"idAndTime",children:[Object(Ae.e)(null===Kn||void 0===Kn?void 0:Kn.toUpperCase())," ",Object(u.jsxs)("span",{className:"red",children:["#",null===(null===Y||void 0===Y?void 0:Y.posOrderId)?null===Y||void 0===Y?void 0:Y.id:null===Y||void 0===Y?void 0:Y.posOrderId," "]}),Object(Ae.e)(zn.toUpperCase()),Object(u.jsx)("div",{className:"red",children:G})]})]}))}):Object(u.jsx)("div",{children:ra(n,w,y)}),fO(m,c),c.loggedIn&&Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdiv",children:[Object(u.jsx)("span",{className:"saving",children:Object(Ae.e)(P)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(ht.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:function(){return ca(b)},ariaLable:Object(Ae.e)(U),children:Object(Ae.e)(U)})})]})})]})}),Object(u.jsx)(mO,{orderReducerData:n,tenantReducer:r,getDirectionClickForMaps:K})]})}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(Hj,{"data-testid":"confirm-modal",isOpen:l,handleClose:function(){return b(!1)},onSave:function(){return oa(f,!0)},tenantReducer:r,OrderReducerData:n})}),I&&Object(u.jsx)("div",{children:Object(u.jsx)(Ct,{"data-testid":"map-modal",isOpen:I,handleClose:function(){return C(!1)},OrderReducerData:n})})]})},hO=Ls.CallIcon,gO=function(e){var t,n,a,i,c,o,r=e.orderReducerData,s=void 0===r?{}:r,d=e.orderDetails,l=void 0===d?{}:d,b=e.isMobile,v=void 0!==b&&b,j=s.deliveryPartner,O=s.store,m=void 0===O?{}:O,f=S.X.CREATED,p=S.X.ASSIGNED,h=S.X.PICKED_UP,g=S.X.OUT_FOR_DELIVERY,x=S.X.ARRIVED,N=(null===l||void 0===l||null===(t=l.status)||void 0===t?void 0:t.toUpperCase())===f,E=(null===l||void 0===l||null===(n=l.status)||void 0===n?void 0:n.toUpperCase())===p||(null===l||void 0===l||null===(a=l.status)||void 0===a?void 0:a.toUpperCase())===h||(null===l||void 0===l||null===(i=l.status)||void 0===i?void 0:i.toUpperCase())===g,T=(null===l||void 0===l||null===(c=l.status)||void 0===c?void 0:c.toUpperCase())===x,I=(null===l||void 0===l||null===(o=l.status)||void 0===o?void 0:o.toUpperCase())!==f;return Object(u.jsx)("div",{className:"delivery-info-daas",children:Object(u.jsxs)("div",{className:"info-content",children:[Object(u.jsxs)("div",{className:"dis-flex-first",children:[Object(u.jsx)("div",{className:"left-sec head-text mr-set",children:Object(u.jsx)("span",{children:Object(Ae.e)("contactKFC")})}),(null===j||void 0===j?void 0:j.rider_phone)&&I&&!v&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("span",{className:"set-opacity",children:Object(Ae.e)("contact")})," ",Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})]}),v&&E&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})," ",Object(u.jsx)("span",{className:"set-opacity",children:Object(Ae.e)("isOnTheWay")})]}),v&&T&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name}),Object(u.jsx)("span",{className:"set-opacity",children:Object(Ae.e)("arrvingSoon")})]})]}),Object(u.jsxs)("div",{className:"dis-flex-sec",children:[N&&Object(u.jsx)("div",{className:"left-sec mr-set created-driverstatus",children:Object(u.jsxs)("span",{className:"set-opacity",children:[Object(Ae.e)("findingDriver"),"..."]})}),!v&&E&&Object(u.jsxs)("div",{className:"left-sec mr-set",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})," ",Object(u.jsx)("span",{className:"set-opacity",children:Object(Ae.e)("isOnTheWay")})]}),!v&&T&&Object(u.jsxs)("div",{className:"left-sec mr-set",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name}),Object(u.jsx)("span",{className:"set-opacity",children:Object(Ae.e)("arrvingSoon")})]}),v&&I&&(null===j||void 0===j?void 0:j.rider_phone)&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("span",{className:"set-opacity",children:Object(Ae.e)("contact")})," ",Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})]}),I&&Object(u.jsxs)("div",{className:"rgt-sec algn-rgt mr-set",children:[v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:hO,alt:" "}),Object(u.jsx)("a",{href:"tel:"+(null===j||void 0===j?void 0:j.rider_phone),className:"anchorTags",children:Object(u.jsx)("span",{className:"contact-text",children:Object(Ae.e)("call")})})]}),!v&&Object(u.jsx)("span",{className:"contact-text-mob",children:null===j||void 0===j?void 0:j.rider_phone})]})]}),Object(u.jsx)("div",{className:"hr-line"}),Object(u.jsx)("div",{className:"dis-flex-sec",children:Object(u.jsx)("div",{className:"left-sec mr-set",children:Object(u.jsx)("span",{className:"set-opacity",children:Object(Ae.e)("kfcRestaraunt")})})}),Object(u.jsxs)("div",{className:"dis-flex-sec",children:[Object(u.jsx)("div",{className:"left-sec mr-set",children:Object(u.jsx)("strong",{children:null===m||void 0===m?void 0:m.name})}),Object(u.jsxs)("div",{className:"rgt-sec algn-rgt mr-set",children:[v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:hO,alt:" "}),Object(u.jsx)("a",{href:"tel:"+(null===m||void 0===m?void 0:m.phoneNumber),className:"anchorTags",children:Object(u.jsx)("span",{className:"contact-text",children:Object(Ae.e)("call")})})]}),!v&&Object(u.jsx)("span",{className:"contact-text-mob",children:null===m||void 0===m?void 0:m.phoneNumber})]})]})]})})},xO=function(e){var t=e.orderDetails,n=void 0===t?{}:t,a=os.d.TRACK_ORDER;return Object(u.jsx)("iframe",{title:Object(Ae.e)(a),src:function(){var e,t=null===n||void 0===n||null===(e=n.deliveryPartner)||void 0===e?void 0:e.tracking_url;return(t&&-1===t.indexOf(os.c)?os.c:"")+t}()})},NO=n(39),EO=function(e){var t,n=e.orderDetails,a=e.status,i=e.imageSrc,c=e.statusMessage,o=e.getTime,r=e.cardToFill,s=e.showProgressBar,d=S.nb.ESTIMATED_ARRIVAL,l=S.nb.ASK_FOR_OTP,b=S.X.SENT_TO_POS_COMPLETED;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(a,"-delivery"),children:Object(Ae.e)(d)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red",children:o(null===n||void 0===n?void 0:n.orderTime)})}),i&&Object(u.jsx)("img",{src:i,alt:a}),s&&Object(u.jsx)("div",{className:"progress-bar-list",children:function(){var e=[];return 0!==r&&m.a.times(5,(function(t){e.push(Object(u.jsx)("div",{id:"progressBarContainer",className:"ProgressDelivery ".concat(t+1<=r?"selectedBar":"Bar")},t))})),e}()}),Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(a,"-delivery-allSet"),children:Object(Ae.e)(c)}),a!==b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg",children:Object(Ae.e)(l)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:null===n||void 0===n||null===(t=n.deliveryPartner)||void 0===t?void 0:t.otp})})]})]})},TO=Ls.ConfirmedImg,IO=Ls.TakeAwayImg,CO=Ls.TakeawayCompleted,SO=function(e){return Object(T.v)(Object(NO.g)(e),Object(NO.i)(e))?Object(NO.i)(e)?"distaIframeContainer-delivered":Object(NO.g)(e)?"distaIframeContainer-cancelled":"":""},AO=function(e){var t=e.orderDetails,n=void 0===t?{}:t,a=e.orderReducerData,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=S.X.DELIVERED,d=S.X.SENT_TO_POS_COMPLETED,l=S.X.CREATED,b=S.X.ASSIGNED,v=S.X.CANCEL,O=S.nb.ORDER_RECEIVED,m=S.nb.ORDER_READY,f=S.nb.FOUND_DRIVER,p=Object(i.useState)({imageSrc:"",statusMessage:"",showProgressBar:!1}),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Object(i.useState)(0),E=Object(j.a)(N,2),I=E[0],C=E[1],A=Object(i.useState)(!1),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(Object(T.Lb)(window.innerWidth)),w=Object(j.a)(R,2),L=w[0],k=w[1],P=function(){var e=Object(T.Lb)(window.innerWidth);k(e)};Object(i.useEffect)((function(){window.addEventListener("resize",P)}),[L]);var M=Object(NO.j)(n)&&!Object(NO.i)(n),F=function(){return Object(u.jsx)(mO,{orderReducerData:c,tenantReducer:r,enableAccordion:"true",isOpenAccordion:M,orderDetailsObj:n})};Object(i.useEffect)((function(){x(function(e){switch(Object(T.gc)(null===e||void 0===e?void 0:e.status)){case d:if(C(1),!_)var t=setTimeout((function(){D(!0),t&&clearTimeout(t)}),kj.d);return{imageSrc:TO,statusMessage:O,showProgressBar:!_};case l:return C(2),{imageSrc:IO,statusMessage:m,showProgressBar:!0};case b:return C(3),{imageSrc:CO,statusMessage:f,showProgressBar:!0};case s:case v:return C(0),{imageSrc:"",statusMessage:"",showProgressBar:!1}}}(n))}),[null===n||void 0===n?void 0:n.deliveryDistaRetryCountFlag,null===c||void 0===c?void 0:c.id]);var H=M?"adjust-delivery-info bill-accordion-section":"bill-accordion-section";return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"OrderReceivedContainer",children:[Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"NotifyOrderPlaced ".concat(SO(n)," ").concat(Object(NO.k)(n)?" distaIframeContainer":""),children:Object(NO.k)(n)?Object(u.jsx)(xO,{orderDetails:n}):Object(u.jsx)("div",{className:"tickimage",children:Object(u.jsx)("div",{children:Object(u.jsx)(EO,{orderDetails:n,status:Object(T.gc)(null===n||void 0===n?void 0:n.status),imageSrc:null===g||void 0===g?void 0:g.imageSrc,statusMessage:null===g||void 0===g?void 0:g.statusMessage,getTime:T.qb,cardToFill:I,showProgressBar:null===g||void 0===g?void 0:g.showProgressBar})})})}),!L&&!Object(NO.j)(n)&&!Object(NO.i)(n)&&F()]}),Object(u.jsxs)("div",{className:H,children:[(Object(NO.h)(n)||Object(NO.j)(n))&&Object(u.jsx)(gO,{isMobile:L,orderReducerData:c,orderDetails:n}),Object(NO.j)(n)&&F(),L&&!Object(NO.j)(n)&&!Object(NO.i)(n)&&F()]})]})})},yO=function(e){var t=e.orderReducerData,n=void 0===t?{}:t,a=e.userParams,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(Object(T.Lb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Yn.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER,E=Yn.SAVED_TO_FAVORITE_MENU,I=Yn.SAVE_THIS_Order,C=Yn.REORDER_FAVOURITES,S=Yn.CREATE_KFC_ACCOUNT,A=function(){var e=Object(T.Lb)(window.innerWidth);x(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",A)}),[g]),Object(i.useEffect)((function(){m&&(Jt.b.dark(Object(u.jsx)("div",{className:"img-text-div",children:Object(u.jsxs)("span",{className:"notifyText",children:[Object(u.jsx)("img",{src:Uj,alt:"tick",className:"TickImg"}),Object(Ae.e)(E)]})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Jt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Jt.b.dismiss()}),4e3))}),[m]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:c.loggedIn?Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdivDelivery",children:[Object(u.jsx)("span",{className:"savingText",children:Object(Ae.e)(N)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(ht.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:function(){return ca(b)},ariaLable:Object(Ae.e)(I),children:Object(Ae.e)(I)})})]})}):Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdivDelivery",children:[Object(u.jsx)("span",{className:"savingText",children:Object(Ae.e)(C)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(ht.a,{"data-testid":"save-guest-order",className:"button transparent-btn black-border",onClick:function(){return e=n,t=100,bt(),Object(T.h)(),void rt({orderValue:((null===e||void 0===e?void 0:e.total)/t).toFixed(2)||"NA"});var e,t},ariaLable:Object(Ae.e)(S),children:Object(Ae.e)(S)})})]})})}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(Hj,{"data-testid":"confirm-modal",isOpen:l,handleClose:function(){return b(!1)},onSave:function(){return oa(f,!0)},tenantReducer:r,OrderReducerData:n})})]})},_O=function(e){var t,n=null,o=null,r=Object(i.useContext)(I.a).userOrderState,s=Object(E.c)((function(e){return e})),d=s.tenantReducer,l=s.appStateReducer,b=s.orderReducer,v=s.postOrderReducer,O=s.cartReducer,m=s.storesReducer,f=Object(E.b)(),h=l.userStatus,g=O.cartData,N=O.isBasketLoading,A=O.qrCodeScanTime,y=Object(T.Eb)(r.dispositionNew)?JSON.parse(localStorage.getItem(S.P.DISPOSITION_NEW)):r.dispositionNew,_=Object(i.useState)(Object(NO.u)(null===d||void 0===d?void 0:d.tenantId,Object(NO.e)(v,b,{},!1),null===b||void 0===b||null===(t=b.response)||void 0===t?void 0:t.order,y)),D=Object(j.a)(_,2),R=D[0],w=D[1],L=Object(i.useState)(!0),k=Object(j.a)(L,2),P=k[0],M=k[1],F=Object(i.useState)(0),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=Object(i.useState)(!1),G=Object(j.a)(Y,2),K=G[0],V=G[1],W=Object(i.useState)(!1),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(E.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(d)?d:JSON.parse(localStorage.getItem(S.P.TENANT_REDUCER)),storeInfo:y?null===y||void 0===y?void 0:y.store:{},dispositionType:y&&(null===y||void 0===y?void 0:y.type)?Object(T.L)(null===y||void 0===y?void 0:y.type):Object(T.L)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[y,d]);Object(i.useEffect)((function(){window.scrollTo(0,0)})),Object(i.useEffect)((function(){return window.removeEventListener("beforeunload",(function(){return Object(NO.t)(f)}),!0),window.addEventListener("beforeunload",(function(){return Object(NO.t)(f)})),function(){window.removeEventListener("beforeunload",(function(){return Object(NO.t)(f)}),!0),w({}),Object(NO.t)(f)}}),[]),Object(i.useEffect)((function(){var t=Object(NO.e)(v,b,{},!1);if(t&&Object.keys(t).length){if(!Object(NO.p)(t)&&!Z)!function(e){var t,n=[{storeId:null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.storeId,channel:wa.b.channel,service:null===e||void 0===e?void 0:e.service}],a=null===d||void 0===d?void 0:d.tenantId;f(Object(ti.c)({data:n,tenantId:a,isFavoritePage:!1}))}(t),!function(e,t){var n,a,i,c,o,r,s,d,l,u=[];null===e||void 0===e||null===(n=e.foodLines)||void 0===n||n.forEach((function(e,n){var a,i="";null===(a=e.item.modGrps)||void 0===a||a.forEach((function(e){i=i+e.modifiers[0].name+","})),u.push({item_name:e.item.dname[0].value||"NA",item_id:e.item.id||"NA",price:e.item.unitPrice/t||"NA",item_variant:i||"NA",quantity:e.quantity||"NA"})}));var b=wa.b.shouldGoogleSpotIgnoreOloFailure&&wa.b.transactionId?wa.b.transactionId:null!==(a=null===e||void 0===e||null===(i=e.paymentReferences)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.transactionId)&&void 0!==a?a:"NA";ct({transaction_id:b,value:(null===e||void 0===e?void 0:e.total)?e.total/t:"NA",tax:(null===e||void 0===e?void 0:e.taxTotal)?e.taxTotal/t:"NA",shipping:"delivery-charge"===(null===e||void 0===e||null===(o=e.additionalChargeLines)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.chargeType)?(null===(s=e.additionalChargeLines)||void 0===s?void 0:s[0].amount)/t:"NA",currency:"INR",coupon:(null===e||void 0===e||null===(d=e.discountLines)||void 0===d||null===(l=d[0])||void 0===l?void 0:l.couponCode)||"NA",items:u||"NA"})}(t,d.currencyConversionFactor),$(!0);Object(NO.q)(t,z,Q),Object(NO.v)(t,R,w,z,e)}}),[null===v||void 0===v?void 0:v.orderAccepted,null===b||void 0===b?void 0:b.pastOrderResponse]);var te=function(){var t=Object(NO.e)(v,b,{},!1);Object(NO.s)(f,R,U,t,B,e)};Object(i.useEffect)((function(){P&&U>0&&te()}),[U]),Object(i.useEffect)((function(){if(Lr.d&&(null===d||void 0===d?void 0:d.tenantId)&&localStorage.getItem(S.P.ORDER_TRACKING)){var e,t,n,i=JSON.parse(localStorage.getItem(S.P.ORDER_TRACKING));if(i&&Object.keys(i).length)(null===i||void 0===i?void 0:i.postOrderDetails)&&0===Object.keys(null===i||void 0===i?void 0:i.postOrderDetails).length&&Object(NO.c)(f,i),w(Object(a.a)(Object(a.a)(Object(a.a)({},R),i),{},{deliveryDistaRetryCountFlag:(null===i||void 0===i?void 0:i.postOrderDetails)?1:0,operatingTime:null===m||void 0===m||null===(e=m.storesWithStatus)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings}));else R&&te()}}),[Lr.d,null===d||void 0===d?void 0:d.tenantId]),Object(i.useEffect)((function(){var e;f(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===ne||void 0===ne||null===(e=ne.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":wa.b.channel,include:5}}))}),[f]),Object(i.useEffect)((function(){f(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userStatus:h}))}),[f,h,null===d||void 0===d?void 0:d.tenantId]),Object(i.useEffect)((function(){var t=null;if(P&&!Object(NO.m)(R)){var n=function(){var t=Object(je.a)(ve.a.mark((function t(){var n,a;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(NO.e)(v,b,{},!1),t.next=3,Object(NO.r)(n,M,e);case 3:a=t.sent,Object(NO.a)(f,R,n,g,r,l,N,a,A);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}return Object(NO.f)(R)&&!K&&(V(!0),M(!1)),(null===R||void 0===R?void 0:R.orderId)&&Object(NO.n)(R)&&(t=setTimeout((function(){Object(NO.c)(f,R)}),kj.b)),function(){t&&clearTimeout(t)}}),[null===R||void 0===R?void 0:R.deliveryDistaRetryCountFlag]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem(S.P.POST_PAYMENT_TYPE)&&(localStorage.setItem(S.P.PAYMENT_STATUS,S.Y.SUCCESS),Object(T.bc)(e))}),[]);var ne=Object(E.c)((function(e){return{homePageContent:Object(T.zb)(e.contentReducer.response),marketPageContent:Object(T.zb)(e.marketConfigReducer.response),tenantReducerContent:Object(T.zb)(e.tenantReducer)}}));if(ne.marketPageContent&&ne.tenantReducerContent&&ne.homePageContent){var ae=Object(T.wb)(ne.marketPageContent.headerData),ie=ae.header,ce=void 0===ie?{}:ie,oe=(ae.tenant,ae.footer),re=void 0===oe?{}:oe;n=Object(T.Z)(ce),o=Object(T.R)(re)}return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"PostPaymentProcessComponent",children:[Object(T.Fb)(n)&&Object(u.jsx)(Qv,{contentData:n,tenantReducerData:ne.tenantReducerContent,userParams:ee,paymentHeader:!0,checkoutHeader:!1}),P&&Object(u.jsx)(Pj,{retryCount:U}),Object(NO.o)(R)&&!Object(NO.l)(R)&&Object(u.jsx)(pO,{orderReducerData:Object(NO.e)(v,b,R),userParams:ee,tenantReducer:d,orderDetails:R}),K&&Object(u.jsxs)("div",{children:[Object(u.jsx)(AO,{orderDetails:R,orderReducerData:Object(NO.e)(v,b,R),tenantReducer:d}),Object(u.jsx)(yO,{orderReducerData:Object(NO.e)(v,b,R),userParams:ee,tenantReducer:d,orderDetails:R})]}),Object(T.Fb)(o)&&Object(u.jsx)(ma,{contentData:o,history:e.history,tenantReducerData:ne.tenantReducerContent})]})})},DO=function(e){return function(t){var n=null,i=null,o=Object(E.c)((function(e){var t,n;return{homePageContent:Object(T.zb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),marketPageContent:Object(T.zb)(null===e||void 0===e||null===(n=e.marketConfigReducer)||void 0===n?void 0:n.response),tenantReducerContent:Object(T.zb)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(o.marketPageContent&&o.tenantReducerContent&&o.homePageContent){var r;Object(T.Y)(o.homePageContent);var s=Object(T.wb)(null===o||void 0===o||null===(r=o.marketPageContent)||void 0===r?void 0:r.headerData),d=s.header,l=void 0===d?{}:d,b=s.tenant,v=void 0===b?[]:b,j=s.footer,O=void 0===j?{}:j;n=Object(T.Z)(l),i=Object(T.R)(O),Object(T.nb)(v)}var m=Object(E.c)((function(e){return e.appStateReducer.userStatus}));return Object(u.jsxs)(c.a.Fragment,{children:[RO(n,o,m,!0,!1),Object(u.jsx)(e,Object(a.a)({},t)),wO(i,t.history,o)," "]})}},RO=function(e,t,n,a,i){return Object(T.Fb)(e)&&Object(u.jsx)(Qv,{contentData:e,tenantReducerData:t.tenantReducerContent,userParams:n,paymentHeader:a,checkoutHeader:i})},wO=function(e,t,n){return Object(T.Fb)(e)&&Object(u.jsx)(ma,{contentData:e,history:t,tenantReducerData:n.tenantReducerContent})},LO=DO((function(e){var t,n=Object(E.b)(),a=Object(E.c)((function(e){return e})),c=a.tenantReducer,o=a.paymentsReducer,r=a.orderReducer,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1];return Object(i.useEffect)((function(){var t,a;localStorage.getItem("postPaymentType")===S.Z.PAYTM?Lr.d&&(null===c||void 0===c?void 0:c.tenantId)&&(null===r||void 0===r?void 0:r.response)&&(null===o||void 0===o||null===(t=o.response)||void 0===t?void 0:t.transactionId)&&(!function(e,t,n,a){var i=(null===a||void 0===a?void 0:a.order).customer,c={tenantId:t,transactionId:n,customerId:null===i||void 0===i?void 0:i.id};e(Object(Gu.a)(c))}(n,null===c||void 0===c?void 0:c.tenantId,null===o||void 0===o||null===(a=o.response)||void 0===a?void 0:a.transactionId,null===r||void 0===r?void 0:r.response),b(!0)):Object(T.ec)(e)}),[Lr.d,null===c||void 0===c?void 0:c.tenantId,null===r||void 0===r?void 0:r.response,null===o||void 0===o?void 0:o.response]),Object(i.useEffect)((function(){var t;localStorage.getItem("postPaymentType")===S.Z.PAYTM?(null===o||void 0===o?void 0:o.paytmStatusData)&&l&&(b(!1),"success"===(null===o||void 0===o||null===(t=o.paytmStatusData)||void 0===t?void 0:t.status)?Object(T.ec)(e):Object(T.dc)(e)):console.log("useEffect")}),[l,null===o||void 0===o||null===(t=o.paytmStatusData)||void 0===t?void 0:t.status]),Object(u.jsx)("div",{className:"PostPaymentProcessComponent",children:Object(u.jsx)(Pj,{showLoader:"false"})})})),kO=n.p+"static/media/Issue.15271b1b.svg";function PO(e){e.tenantId;var t=e.paymentFailedProps,n=Object(i.useState)(Object(T.Lb)(window.innerWidth)),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Yn.THAT_AINT_RIGHT,s=Yn.FAILED_MSG,d=Yn.BACK_TO_CART,l=function(){var e=Object(T.Lb)(window.innerWidth);o(e)};Object(i.useEffect)((function(){Object(T.Wb)(r,s)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",l)}),[c]);var b=function(){var e=Object(je.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(T.Zb)(t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"paymentFailed",children:Object(u.jsxs)("div",{className:"FailedDisplay",children:[Object(u.jsx)("div",{className:"Failimage",children:Object(u.jsx)("img",{src:kO,alt:"image"})}),Object(u.jsx)("div",{className:"notRight",children:Object(Ae.e)(r)}),Object(u.jsx)("div",{className:"Reason",children:Object(Ae.e)(s)}),Object(u.jsx)("div",{className:"backToCart",children:Object(u.jsx)(ht.a,{"data-testid":"Back-Cart-Button",className:"button whiteButton blackBorder back-To-Cart",onClick:b,children:Object(Ae.e)(d)})})]})})}var MO=function(e,t,n,a){Object(T.j)(e,_t.e,t,n,a),e(Object(gt.e)()),e(Object(on.b)()),localStorage.setItem(S.P.PAYMENT_STATUS,""),localStorage.setItem(S.P.POST_PAYMENT_TYPE,"")},FO=function(e){var t=null,n=null,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useContext)(I.a).userOrderState,d=Object(E.c)((function(e){return e.tenantReducer})),l=d.tenantId,b=Object(E.b)(),v=Object(E.c)((function(e){return e.appStateReducer})).userStatus,O=Object(E.c)((function(e){return e.cartReducer})).qrCodeScanTime,f=Object(E.c)((function(e){return e.appStateReducer.userStatus})),h=Object(T.Eb)(s.dispositionNew)?JSON.parse(localStorage.getItem(S.P.DISPOSITION_NEW)):s.dispositionNew,g=Object(E.c)((function(e){return e})),N=g.authReducer,A=g.postOrderReducer,y=g.orderReducer,_=A.orderAccepted,D=Object(T.Vb)(N);Object(i.useEffect)((function(){!function(e,t,n,a,i,c){var o;if(Lr.d&&t&&(null===e||void 0===e?void 0:e.response)&&Object.keys(null===e||void 0===e?void 0:e.response).length)if(null===e||void 0===e||null===(o=e.response)||void 0===o?void 0:o.order){var r,s,d,l,u,b={orderId:null===e||void 0===e||null===(r=e.response)||void 0===r||null===(s=r.order)||void 0===s?void 0:s.id,tenantId:t,customerId:null===e||void 0===e||null===(d=e.response)||void 0===d||null===(l=d.order)||void 0===l||null===(u=l.customer)||void 0===u?void 0:u.id};Object(NO.d)(n,b)}else MO(n,t,a,c),Object(T.cc)(i)}(y,l,b,s,e,O)}),[Lr.d,l,null===y||void 0===y?void 0:y.response]),Object(i.useEffect)((function(){!function(e,t,n,a,i,c,o){e&&Object.keys(e).length&&(localStorage.setItem(S.P.PAYMENT_STATUS,S.Y.FAILED),(null===e||void 0===e?void 0:e.id)?Object(T.gc)(null===e||void 0===e?void 0:e.status)===S.X.SENT_TO_POS_FAILED||Object(T.gc)(null===e||void 0===e?void 0:e.status)===S.X.ACCEPTED||Object(NO.l)(e)?(MO(t,n,a,o),i(!0)):(Object(T.ac)(c,!0),i(!1)):(MO(t,n,a,o),Object(T.cc)(c)))}(_,b,l,s,r,e,O)}),[_]),Object(i.useEffect)((function(){b(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userStatus:v}))}),[b,v,l]),Object(i.useEffect)((function(){var e;b(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===R||void 0===R||null===(e=R.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":wa.b.channel,include:5}}))}),[b]),Object(i.useEffect)((function(){b(Object(Gu.g)())}),[f,D]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem(S.P.POST_PAYMENT_TYPE)&&(localStorage.setItem(S.P.PAYMENT_STATUS,S.Y.FAILED),Object(T.bc)(e,!0))}));var R=Object(E.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null)}}));Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(d)?d:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:h?null===h||void 0===h?void 0:h.store:{},dispositionType:h&&(null===h||void 0===h?void 0:h.type)?Object(T.L)(null===h||void 0===h?void 0:h.type):Object(T.L)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[h,d]);if(R.marketPageContent&&R.tenantReducerContent&&R.homePageContent){var w=R.marketPageContent.headerData||{},L=w.header,k=void 0===L?{}:L,P=w.tenant,M=void 0===P?[]:P,F=w.footer,H=void 0===F?{}:F;t=Object(T.Z)(k),n=Object(T.R)(H),Object(T.nb)(M)}return o&&Object(u.jsxs)("div",{className:"PaymentFailedScreen",children:[Object(T.Fb)(t)&&Object(u.jsx)(Qv,{contentData:t,tenantReducerData:R.tenantReducerContent,userParams:f,paymentHeader:!0,checkoutHeader:!1}),Object(u.jsx)(PO,{paymentFailedProps:e,basketId:null===_||void 0===_?void 0:_.basketId,tenantId:l}),Object(T.Fb)(n)&&Object(u.jsx)(ma,{contentData:n,history:e.history,tenantReducerData:R.tenantReducerContent})]})},HO=n(161),UO=n(375),BO=n.n(UO),YO=function(e){var t=e.appUpdateContents;return t&&0!==t.length?Object(u.jsx)("div",{className:"app-update align-items-center d-flex flex-column",children:t.map((function(e,t){return S.Ab.CMS_CONTENT_TYPES.LOGO_ICON===e.contentType&&Object(u.jsx)("div",{className:"d-flex p-2 ".concat(e.className),children:Object(u.jsx)("img",{src:e.imgSrc,alt:e.altTxt})},t)||S.Ab.CMS_CONTENT_TYPES.MULTI_TEXT===e.contentType&&Object(u.jsx)("div",{className:"update-txt text-uppercase",children:e.txts.map((function(e,t){return Object(u.jsx)("span",{children:e},t)}))},t)||S.Ab.CMS_CONTENT_TYPES.CALL_TO_ACTION===e.contentType&&Object(u.jsx)("div",{className:"p-2 mt-2",children:Object(u.jsx)(ht.a,{className:"button blackButton text-uppercase","aria-label":"app-update-button",onClickHandler:e.onClickHandler,id:"appUpdateButton",type:"submit","data-testid":"app-update-button",children:Object(u.jsx)("span",{children:e.txt})})},t)}))}):Object(u.jsx)(u.Fragment,{})},GO="AppStore",KO="PlayStore",VO=function(e){var t,n,a=e.history,c=Object(i.useState)(null),o=Object(j.a)(c,2),r=o[0],s=o[1],d=Object(E.b)(),l=Object(E.c)((function(e){var t;return{appUpdateContent:(null===e||void 0===e||null===(t=e.appUpdateReducer)||void 0===t?void 0:t.response)||null}})).appUpdateContent,b=function(){var e={key:"OpenInBrowser",value:""},t=Object(O.filter)(v,{contentType:S.Ab.CMS_CONTENT_TYPES.NAVIGATION_LINK,storeLinkId:"iOS"===r?GO:KO});e.value=t[0].storeUrl;var n=JSON.stringify(e);window.sendToMobile(r,n)},v=null===l||void 0===l||null===(t=l.headerData)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.map((function(e){var t,n,a,i,c,o,r,s,d,l,u,v,j,O={},m=null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(n=t.contentType)||void 0===n||null===(a=n.sys)||void 0===a?void 0:a.id;S.Ab.CMS_CONTENT_TYPES.LOGO_ICON===m&&(O={contentType:m,className:null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i.category,imgSrc:null===e||void 0===e||null===(c=e.fields)||void 0===c||null===(o=c.mobileImage)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url,altTxt:null===e||void 0===e||null===(d=e.fields)||void 0===d?void 0:d.altText});S.Ab.CMS_CONTENT_TYPES.MULTI_TEXT===m&&(O={contentType:m,txts:null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.listText});S.Ab.CMS_CONTENT_TYPES.CALL_TO_ACTION===m&&(O={contentType:m,txt:null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.buttonText,onClickHandler:b});S.Ab.CMS_CONTENT_TYPES.NAVIGATION_LINK===m&&(O={contentType:m,storeUrl:null===e||void 0===e||null===(v=e.fields)||void 0===v?void 0:v.externalurl,storeLinkId:null===e||void 0===e||null===(j=e.fields)||void 0===j?void 0:j.linkId});return O})),m=Object(i.useCallback)((function(){a.push({pathname:"/"})}),[a]);return Object(i.useEffect)((function(){var t=BO.a.parse(e.location.search);if(Object(O.isEmpty)(null===t||void 0===t?void 0:t.appurl))m();else{var n=Object(T.e)(null===t||void 0===t?void 0:t.appurl),a=n.DeviceId,i=n.DeviceType;a||m(),s(i)}}),[m,e.location.search]),Object(i.useEffect)((function(){d(Object(HO.c)({object:Object(C.a)(),contentFull:{content_type:"appUpdate","fields.updateStatus":"major",include:5}}))}),[d]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(YO,{appUpdateContents:v})})},WO=n.p+"static/media/LightwhiteCrossClose.21785371.svg",qO="| Enter question or search term",zO="singleResult",QO="MultipleResults",JO=function(e){return"".concat(0===e?"active":"")},XO=function(e){var t=e.contentData,n=void 0===t?{}:t,o=Object(i.useState)(Object(T.Lb)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(""),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)({isSearchedMode:!1,searchedData:""}),x=Object(j.a)(g,2),N=x[0],E=x[1],C=Object(i.useState)([]),S=Object(j.a)(C,2),y=S[0],_=S[1],D=Object(i.useState)([]),R=Object(j.a)(D,2),w=R[0],L=R[1],k=Object(i.useState)([]),P=Object(j.a)(k,2),M=P[0],F=P[1],H=Object(i.useState)(!1),U=Object(j.a)(H,2),B=U[0],Y=U[1],G=Object(i.useContext)(I.a).userOrderState,K=Object(i.useState)(!1),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useRef)(null),Q=function(){var e=Object(T.Lb)(window.innerWidth);d(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",Q),function(){window.removeEventListener("resize",Q)}}),[s]),Object(i.useEffect)((function(){var e=localStorage.getItem("SelectedFaqItem");!function(e,t,n){if(""!==t){var a=t;console.log("dataReceived",a),cs.scroller.scrollTo(a,{duration:1500,delay:100,smooth:!0,containerId:"",offset:n?-240:-100})}else cs.scroller.scrollTo(e.FinalData[0].Title.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:n?-240:-100})}(n,e,s)}),[n]),Object(i.useEffect)((function(){return function(){localStorage.setItem("SelectedFaqItem","")}}),[]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",J),function(){document.removeEventListener("mousedown",J)}}));var J=function(e){z.current&&!z.current.contains(e.target)&&h(!1)};return function(){var t=function(e){var t=Object(T.wb)(n).FinalData;t&&void 0!==e&&(F(null===t||void 0===t?void 0:t.map((function(t){return t.QuesAns.filter((function(t){return-1!==t.question.toLowerCase().indexOf(e.toLowerCase().toString())}))})).flat().slice()),L([]))},i=function(e){if("Enter"===e.key){if(""===e.target.value)return void _([]);q(!1),h(!1),t(e.target.value.toLowerCase().toString()),E({isSearchedMode:!0,searchedData:v})}},o=function(e){O(e.target.value),e.target.value.toString().length>2?p||(h(!0),d(e.target.value.toString())):p&&(h(!1),d(""),t(),E({isSearchedMode:!1,searchedData:""}))},r=function(){L([]),F([]),O(""),h(!1),d(""),t(),E({isSearchedMode:!1,searchedData:""})},d=function(e){var t=Object(T.wb)(n).FinalData;_(null===t||void 0===t?void 0:t.map((function(t){return t.QuesAns.filter((function(t){return-1!==t.question.toLowerCase().indexOf(e.toLowerCase().toString())}))})).flat().slice(0,7))},l=function(e,t){t&&cs.scroller.scrollTo(n.FinalData[t].Title.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:Object(T.pb)(s,-240,-100)})},b=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("ourAds-accordian-open")?t.classList.remove("ourAds-accordian-open"):t.classList.add("ourAds-accordian-open")},j=function(e){!function(e){var t=[];t.push(e),L(t),F([])}(e),h(!1),O(e.question),E({isSearchedMode:!0,searchedData:e.question}),q(!1)};var m={id:"FiltePopup",role:"dialog",modalTitleId:"FiltePopup",show:W,classNames:"mobileFilter",showCloseBtn:!0,showBackBtn:!1,autoFocus:!0,closeButtonHandler:function(){q(!1)},modalTitle:Object(Ae.e)("Refine Items")},f=Object(u.jsx)(Pt,{"aria-label":"Enter question or search term",className:"faq-search-menu-input",id:"inputFocus",onClick:function(){Y(!0),q(!0)},onKeyPress:function(e){return i(e)},onChange:function(e){return o(e)},value:v,placeholder:Object(Ae.e)(qO),autocomplete:"off",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(Object(Ae.e)(qO))}}),g=Object(u.jsxs)("div",{ref:z,className:"inputAutoComplete",children:[Object(u.jsx)("div",{className:"SuggestionHeader",children:"Suggested Search Terms"}),Object(u.jsx)("ul",{className:"autoCompleteList",children:v.length>2&&(null===y||void 0===y?void 0:y.length)>0&&y.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return j(e)},"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoComplete",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(A.a,{srcFile:bb})}),Object(u.jsx)("span",{children:e.question})]},t)}))})]}),x=Object(u.jsx)(A.a,{srcFile:ub,className:"search-icon-img"}),I=Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("img",{className:"faq-input-dark-cross",onClick:function(){return r()},src:vb,alt:"crossCancel"})]}),C=function(e,t,n){return console.log("fnfile",e),Object(u.jsx)("div",{children:e.FinalData.map((function(a,i){return Object(u.jsxs)(cs.Element,{name:a.Title,id:"faqLinkOption-".concat(i),tabIndex:"-1",children:[Object(u.jsx)("h2",{className:n?"Mob-AccordianTitle":"AccordianTitle",id:e.FinalData[0].Title===a.Title?"FirstHeading":"",children:a.Title}),a.QuesAns.map((function(e,n){var i=a.QuesAns.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===n+1?"lastElement":"",children:Object(u.jsx)(se,{header:e.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))]})}))})}(n,b,s),S=function(e,t,n,a){return Object(u.jsx)("div",{children:Object(u.jsxs)(cs.Element,{children:[e.length>0&&0===n.length&&Object(u.jsxs)("div",{className:"totalNumbers",children:[e.length," ","",1===e.length?Object(Ae.e)(zO):Object(Ae.e)(QO)," ","",Object(u.jsxs)("span",{className:"enteredSearch",children:["\u201c",a,"\u201d"]})]}),n.length>0&&0===e.length&&Object(u.jsxs)("div",{className:"totalNumbers",children:[n.length," ","",1===e.length?Object(Ae.e)(zO):Object(Ae.e)(QO)," ","",Object(u.jsxs)("span",{className:"enteredSearch",children:["\u201c",a,"\u201d"]})]}),e.length>0&&e.map((function(n,a){var i=e.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===a+1?"lastElement":"",children:Object(u.jsx)(se,{header:n.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(n.answer)},className:"ourAds-accordian-answer"})})})})),n.length>0&&n.map((function(e,a){var i=n.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===a+1?"lastElement":"",children:Object(u.jsx)(se,{header:e.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))]})})}(w,b,M,v),D=function(e,t,n){return console.log("isMobile",n),Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.ButtonInfo.map((function(e){if("navigationLink"===e.sys.contentType.sys.id)return Object(u.jsx)("span",{className:n?"ContactUsButtonMob":"ContactUsButton",children:Object(u.jsxs)(ht.a,{ariaLable:e.fields.linkText,"data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Message-button",onClickHandler:t,children:[Object(u.jsx)(A.a,{srcFile:e.fields.icon.fields.desktopImage.fields.file.url,alt:"",className:n?"MessageimageMob":"Messageimage"}),e.fields.linkText]})})}))})}(n,(function(){e.history.push({pathname:"/contactus"})}),s);return s?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"Mob-faq-container",children:Object(u.jsx)(db.a,{children:Object(u.jsxs)("div",{className:"faq-nav",children:[Object(u.jsxs)("div",{className:"TopDiv",children:[Object(u.jsx)(db.a,{className:"Mob-faq-stripes-section",children:Object(u.jsx)(A.a,{srcFile:Ra,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"Mob-faq-title",children:"FAQ"}),!N.isSearchedMode&&Object(u.jsx)("div",{className:"ListItems",children:Object(u.jsx)("ul",{className:"mob-outer-ul",children:null===n||void 0===n?void 0:n.FinalData.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(cs.Link,{to:e.Title,spy:!0,smooth:!0,offset:-460,onClick:function(e){return l(0,t)},activeClass:JO(),onSetActive:function(){var e;return null===(e=document.querySelector("li > a.active"))||void 0===e?void 0:e.scrollIntoView({inline:"center"})},children:e.Title})},t)}))})}),Object(u.jsxs)("div",{className:"Mob-faq-search-menu",children:[Object(u.jsx)("span",{className:"Mob-faq-search-icon",children:x}),f,v.length>2&&I]})]}),0===w.length&&!N.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:C}),w.length>0&&N.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:S}),M.length>0&&N.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:S}),Object(u.jsxs)("div",{className:"LastDiv",children:[Object(u.jsx)("div",{className:"stillAQues",children:"Still Have a question?"}),Object(u.jsx)("hr",{className:"Line"}),Object(u.jsxs)("div",{className:"ButtonDiv",children:[null===n||void 0===n?void 0:n.ButtonInfo.map((function(e){if("callToAction"===e.sys.contentType.sys.id){var t="tel:"+e.fields.phoneNumber;return Object(u.jsx)("span",{children:Object(u.jsx)("a",{href:t,className:"anchorTags",children:Object(u.jsxs)(ht.a,{ariaLable:"","data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Contact-button",id:"callUs",children:[Object(u.jsx)(A.a,{srcFile:e.fields.image.fields.file.url,alt:"desktopImage",className:"phoneIconMob"}),e.fields.buttonText]})})})}})),D]})]})]})})}),W&&B&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},m),{},{children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(u.jsx)(Pt,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:function(e){return o(e)},onKeyPress:function(e){return i(e)},value:v,placeholder:"search"}),Object(u.jsx)("span",{className:"search-iconMob",children:Object(u.jsx)(A.a,{srcFile:bb,className:"search-icon-img"})}),v.length>2&&Object(u.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:function(){return r()},src:WO,alt:"clearIcon"}),p&&g]})})})),G.showCartClearAlert?Object(u.jsx)(Zd,{}):null]}):Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"faq-container",children:Object(u.jsxs)(db.a,{className:"faq-row",children:[Object(u.jsxs)(lb.a,{md:"4",className:"faq-left-nav",children:[Object(u.jsx)(db.a,{className:"faq-stripes-section",children:Object(u.jsx)(A.a,{srcFile:Ra,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"faq-title",children:"FAQ"}),N.isSearchedMode?Object(u.jsx)(ht.a,{className:"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:r,children:"Clear Search"}):Object(u.jsx)("ul",{className:"outer-ul",children:null===n||void 0===n?void 0:n.FinalData.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(cs.Link,{tabIndex:"0",href:"#faqLinkOption-".concat(t),to:e.Title,spy:!0,smooth:!0,onClick:function(e){return l(0,t)},onKeyPress:function(e){return l(0,t)},activeClass:JO(t),offset:-160,children:e.Title})},t)}))}),Object(u.jsx)("hr",{className:"Line"}),null===n||void 0===n?void 0:n.ButtonInfo.map((function(e){if("callToAction"===e.sys.contentType.sys.id){var t="tel:"+e.fields.phoneNumber,n="".concat(e.fields.buttonText," ").concat(e.fields.phoneNumber);return Object(u.jsx)("a",{tabIndex:"-1",href:t,className:"anchorTags",children:Object(u.jsxs)(ht.a,{ariaLable:n,"data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Contact-button",children:[Object(u.jsx)(A.a,{srcFile:e.fields.image.fields.file.url,alt:"",className:"phoneIcon"}),e.fields.buttonText," ",e.fields.phoneNumber]})})}})),D]}),Object(u.jsxs)(lb.a,{md:"8",className:"faq-right-nav",children:[Object(u.jsx)(db.a,{className:"SearchBar",children:Object(u.jsxs)("div",{className:"faq-search-menu",children:[f,Object(u.jsx)("span",{className:"faq-search-icon",children:x}),v.length>2&&I]})}),p&&g,0===w.length&&!N.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:C}),w.length>0&&N.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:S}),M.length>0&&N.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:S})]})]})}),G.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})}()},ZO=function(e){var t,n,a,o,r=Object(E.c)((function(e){return e.tenantReducer})),s=Object(E.b)(),d=Object(E.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){s(fj(r))}),[s,null===r||void 0===r?void 0:r.country]),Object(i.useEffect)((function(){s(pj(d))}),[s,d]),Object(i.useEffect)((function(){s(Object(mj.a)({object:Object(C.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"FAQ",include:"5"}}))}),[]);var l=null,b=null,v=null,j=null,O=f.a.DISPOSITION,m=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,ourFaqContent:e.ourFaqReducer.response||null}}));if(m.marketPageContent&&m.tenantReducerContent&&m.homePageContent&&Object(T.Fb)(m.ourFaqContent)){l=Object(T.Y)(m.homePageContent);var p=m.marketPageContent.headerData,h=p.header,g=void 0===h?{}:h,x=p.tenant,N=void 0===x?[]:x,I=p.footer,A=void 0===I?{}:I;b=Object(T.Z)(g),j=Object(T.R)(A),Object(T.nb)(N),v=Object(T.S)(m.ourFaqContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(b)&&Object(u.jsx)($a,{contentData:b,tenantReducerData:m.tenantReducerContent,userParams:d})||null,Object(u.jsx)(Kr,{page:S.A}),Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=l)||void 0===n?void 0:n[O])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[O])&&void 0!==a?a:{}},userParams:d}),Object(T.Fb)(v)&&Object(u.jsx)(XO,{contentData:v,history:e.history}),Object(T.Fb)(j)&&Object(u.jsx)(ma,{history:e.history,contentData:j,tenantReducerData:m.tenantReducerContent})||null]})},$O=n(376),em=n(185),tm=f.a.KFC_Gift_Card,nm=function(e){var t=Au,n=Iu,c=yu,o=gu,r=xu,s=pu,d=e.isOpen,l=e.handleClose,b=e.tenantId,v=Object(i.useState)(Object(T.Lb)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],x=h[1],N=Object(i.useState)(""),I=Object(j.a)(N,2),C=I[0],S=I[1],A=Object(i.useState)(!0),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(!1),w=Object(j.a)(R,2),L=w[0],k=w[1],P=Object(i.useState)(!1),M=Object(j.a)(P,2),F=M[0],H=M[1],U=Object(E.b)(),B=Object(E.c)((function(e){return e})),Y=B.tenantReducer,G=B.profileReducer,K=B.createBalanceReducer,V=Y.currencySymbol,W=K.response,q=function(){var e=Object(T.Lb)(window.innerWidth);f(e)};Object(i.useEffect)((function(){window.addEventListener("resize",q)}),[m]),Object(i.useEffect)((function(){switch(W.cardStatus){case o:S(W.cardBalance),k(!0),H(!1);break;case r:k(!1),H(!0)}}),[W]);var z=Object(i.useState)({value:"",errorMessage:"",error:!1}),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)({value:"",errorMessage:"",error:!1}),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)({value:"",errorMessage:"",error:!1}),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1];Object(i.useEffect)((function(){var e=""!==(ee.value&&ie.value),t=!1===(ee.error||ie.error);D(!e||!t)}),[ee,ie]),Object(i.useEffect)((function(){Dn(tm,ee.error,ee.errorMessage)}),[ee.errorMessage,ee.error]),Object(i.useEffect)((function(){Dn(tm,ie.error,ie.errorMessage)}),[ie.errorMessage,ie.error]),Object(i.useEffect)((function(){Dn(tm,J.error,J.errorMessage)}),[J.errorMessage,J.error]);var oe=function(e){x(e.target.value);var t,i=Object(a.a)({},J);i.value=g,g&&(t=g,!n.test(t))?(i.error=!0,i.errorMessage=Object(Ae.e)("invalidEmailErrMsg")):(i.error=!1,i.errorMessage=""),X(Object(a.a)({},i))},re=function(e,t){e&&t()},se=function(e){var t=e.target.value,n=e.target.name;re("cardNumber"===n,(function(){return te(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<16||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ae.e)("invalidcardNumber")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)(iu)),n}(ee,t)))})),re("pinNumber"===n,(function(){return ce(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?6!==t.length||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ae.e)("invalidPin")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)(cu)),n}(ie,t)))}))},de=function(){te({value:""}),ce({value:""}),S(""),k(!1),X({value:""}),x(""),k(!1)},le=Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(u.jsxs)("div",{className:"balanceHeader",children:[Object(u.jsx)("h3",{className:"InputboxHeading",children:Object(Ae.e)(t.GIFTCARD_HEADER)}),!m&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ae.e)(s)})]}),Object(u.jsx)("div",{className:"inputcardNumbox",children:Object(u.jsx)(At,{"data-testid":"card-no",className:ee.error?"error-text":"details",name:"cardNumber",placeholder:Object(Ae.e)(t.GIFTCARDNUM_INPUT),value:ee.value,onChange:se,onKeyPress:function(e){return function(e){/[0-9]/.test(e.key)||e.preventDefault()}(e)},maxLength:16,helperTextClassName:"error-text",helperText:ee.errorMessage,error:ee.error,required:!0})}),Object(u.jsx)("div",{className:"inputpinNumbox",children:Object(u.jsx)(At,{"data-testid":"pin-no",className:ie.error?"error-text":"details",name:"pinNumber",placeholder:Object(Ae.e)(t.GIFTCARDPN_INPUT),value:ie.value,onChange:se,maxLength:6,helperTextClassName:"error-text",helperText:ie.errorMessage,error:ie.error,required:!0})}),Object(u.jsx)("div",{className:"inputmailbox",children:Object(u.jsx)(At,{"data-testid":"email-id",className:J.error?"error-text":"details",type:"email",name:"mailId",placeholder:Object(Ae.e)(t.EMAIL_ADDR),value:g,onChange:function(e){return oe(e)},helperTextClassName:"error-text",helperText:J.errorMessage,error:J.error,required:!0})})]})}),ue=m?{role:"dialog",modalTitleId:"CheckBalancepopup",show:d,classNames:"giftcard-checkbalance-modal",showCloseBtn:!0,closeButtonHandler:l,autoFocus:!0,modalTitle:Object(Ae.e)("giftcardCheckbalnaceTitle"),closeDataTestId:"giftcheck-balance"}:{role:"dialog",modalTitleId:"CheckBalancepopup",show:d,classNames:L?"giftcard-resbal-modal":"giftcard-checkbal-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:l,modalTitle:Object(Ae.e)("giftcardCheckbalnaceTitle"),autoFocus:!0,closeDataTestId:"giftcheck-balance",ariaLabel:Object(Ae.e)("closeGiftClose")};return Object(u.jsxs)("div",{className:"giftcardContainer".concat(m?" mobile":""),"data-testid":"giftcard-checkBal",children:[d&&Object(u.jsxs)(pt,Object(a.a)(Object(a.a)({},ue),{},{children:[Object(u.jsx)("div",{className:"checkBalModalContent",children:le}),Object(u.jsxs)("div",{className:"buttonGiftModal",children:[Object(u.jsx)(ht.a,{"data-testid":"canc-button",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return te({value:""}),ce({value:""}),x(""),void X({value:""})},children:Object(Ae.e)(t.CANCEL_BUTTONT)}),Object(u.jsx)(ht.a,{"data-testid":"subm-button",className:"button blackButton blackBorder save-button",onClick:function(e){return function(e){if(""!==(ee.value&&ie.value)){var t={customerId:G.customerId,tenantId:b,body:{cardNumber:ee.value,cardPin:ie.value}};console.log("cardNumber",ee.value),Object(T.zb)(b)&&U(Object(Uu.a)(t))}}()},disabled:_,children:Object(Ae.e)(t.SUBMIT_BUTTON)})]})]})),";",L&&Object(u.jsxs)(pt,Object(a.a)(Object(a.a)({},ue),{},{children:[Object(u.jsxs)("div",{className:"resultBalModalContent",children:[Object(u.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(u.jsx)("div",{className:"InputboxHeading",children:Object(Ae.e)(t.GIFTCARD_HEADER)}),Object(u.jsx)("div",{className:"inputcardNumboxup",children:Object(u.jsx)(At,{"data-testid":"result-cardnum",className:"details",type:"tel",placeholder:Object(Ae.e)(c.GIFTCARDNUM_SHOW),value:ee.value})}),Object(u.jsx)("div",{className:"inputpinNumbox",children:Object(u.jsx)(At,{"data-testid":"result-pinnum",className:"details",type:"tel",placeholder:Object(Ae.e)(c.GIFTCARDNUM_SHOWSHOW),value:ie.value})}),Object(u.jsx)("div",{className:"inputmailbox",children:Object(u.jsx)(At,{"data-testid":"result-mailid",className:"details",type:"email",placeholder:Object(Ae.e)(c.EMAIL_SHOW),value:g})})]}),Object(u.jsxs)("div",{className:"BalanceText",children:[Object(Ae.e)("balanceText")," ",V," ",C]})]}),Object(u.jsxs)("div",{className:"addPayButton",children:[Object(u.jsx)("div",{className:"payButton",children:Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder ",children:Object(Ae.e)(t.CHECKBALANCE_BUTTON)})}),Object(u.jsx)("div",{className:"resetButton",children:Object(u.jsx)(ht.a,{"data-testid":"reset-button",className:"button whiteButton ",onClick:de,children:Object(u.jsx)("u",{children:Object(Ae.e)(t.RESET_BUTTON)})})})]})]})),";",F&&Object(u.jsx)("div",{className:"checkBal-errorModal",children:Object(u.jsx)(yi,{CartAlertForm:Object(u.jsx)(Ci,{title:Object(Ae.e)(t.INVALID_MODALTITLE),contentMsg:Object(Ae.e)(t.INVALID_MODALCONTENT),cancelHandler:function(){de(),H(!1)},cancelButtonText:Object(Ae.e)(t.INVALID_OKBUTTON)})})}),";"]})};var am=function(e){var t,n=e.giftCardPurchaseData,a=n.orderId,c=n.tenderType,o=n.transactionId,r=n.transactionAmount,s=n.postUrl,d=n.requestMessage;return Object(i.useEffect)((function(){var e,t,n;null===(e=document)||void 0===e||null===(t=e.giftcard)||void 0===t||t.submit(),(null===(n=document)||void 0===n?void 0:n.giftcard)&&localStorage.setItem("postPaymentType","giftCardPurchase")}),[document,null===(t=document)||void 0===t?void 0:t.giftcard]),Object(u.jsx)("div",{children:s&&Object(u.jsxs)("form",{method:"POST",action:s,name:"giftcard",children:[Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"tenderType",value:c}),Object(u.jsx)("input",{type:"hidden",name:"transactionId",value:o}),Object(u.jsx)("input",{type:"hidden",name:"transactionAmount",value:r}),Object(u.jsx)("input",{type:"hidden",name:"msg",value:d})]})})},im=n.p+"static/media/GiftCard.58a3fe2e.svg",cm=n.p+"static/media/purchasefailure.ea27383e.svg",om=function(e){var t=_u,n=Du,c=Ru,o=e.isOpen,r=e.handleClose,s=e.purchaseStatus,d=e.paymentStatus,l=Object(i.useState)(Object(T.Lb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=function(){var e=Object(T.Lb)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",m)}),[v]);var f=function(){r()},p=v?{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:o,classNames:"giftcard-purchase-success",showCloseBtn:!0,closeButtonHandler:r,autoFocus:!0,modalTitle:" ",closeDataTestId:"purchase-success"}:{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:o,classNames:"giftcard-purchase-success",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:r,modalTitle:" ",autoFocus:!0,closeDataTestId:"purchase-success"};return Object(u.jsx)("div",{className:"giftcardContainer".concat(v?" mobile":""),"data-testid":"giftcard-success",children:o&&Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},p),{},{children:"success"===s?Object(u.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(u.jsx)("div",{className:"imageComp",children:Object(u.jsx)(A.a,{srcFile:im,alt:"giftcard",className:"giftcard-confirm"})}),Object(u.jsx)("div",{className:"congratsMsg",children:Object(Ae.e)(t.CONGRATS_TEXT)}),Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Ae.e)(t.FEEDBACK_MESSAGE)}),Object(u.jsx)("div",{className:"buttonTobuy",children:Object(u.jsx)("button",{"data-testid":"buy-card",className:"button whiteButton blackBorder",onClick:f,children:Object(Ae.e)(t.BUY_NEWGIFTCARD)})})]}):Object(u.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(u.jsx)("div",{className:"imageComp",children:Object(u.jsx)(A.a,{srcFile:cm,alt:"giftcardfailure",className:"giftcard-confirm"})}),Object(u.jsx)("div",{className:"congratsMsg",children:Object(Ae.e)(n.FAILURE_TEXT)}),"Failed"===d?Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Ae.e)(c)}):Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Ae.e)(n.FAILURE_MESSAGE)}),Object(u.jsx)("div",{className:"buttonTobuy",children:Object(u.jsx)("button",{"data-testid":"reset",className:"button whiteButton blackBorder",onClick:f,children:Object(Ae.e)(n.RETRY)})})]})}))})},rm=f.a.PAYMENT_FAILED_MESSAGE,sm=f.a.KFC_Gift_Card,dm=function(e){return Iu.test(e)},lm=function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),r=n[0],s=n[1],d=Object(i.useState)(!0),l=Object(j.a)(d,2),b=l[0],v=l[1],O=e.contentData,m=O.headerData,f=void 0===m?{}:m,p=O.desktopImage,h=void 0===p?{}:p,g=O.giftAmount,x=void 0===g?{}:g,N=O.termsncondition,I=void 0===N?{}:N,C=e.isMobile,S=ru,A=su,y=du,_=lu,D=uu,R=bu,w=vu,L=ju,k=Nu,P=Eu,M=Tu,F=hu,H=pu,U=Object(E.b)(),B=Object(o.g)(),Y=Object(E.c)((function(e){return e.tenantReducer})),G=Y||{},K=G.tenantId,V=G.currencySymbol,W=Object(E.c)((function(e){return e.profileReducer.customerId})),q=Object(E.c)((function(e){return e.giftCardPurchaseReducer}))||{},z=q.giftCardPurchaseData,Q=void 0===z?{}:z,J=q.isPurchaseSuccess,X=void 0!==J&&J,Z=(Object(E.c)((function(e){return e.paymentsGiftCardReducer}))||{}).giftCardPurchaseStatResp,$=void 0===Z?{}:Z,ee=function(e){e.preventDefault(),s(!1)};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&ee(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var te=Object(i.useState)({value:"",errorMessage:"",error:!1}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)({value:"",errorMessage:"",error:!1}),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useState)({value:"",errorMessage:"",error:!1}),le=Object(j.a)(de,2),ue=le[0],be=le[1],ve=Object(i.useState)({value:"",errorMessage:"",error:!1}),je=Object(j.a)(ve,2),Oe=je[0],me=je[1],fe=Object(i.useState)(""),pe=Object(j.a)(fe,2),he=pe[0],ge=pe[1],xe=Object(i.useState)(""),Ne=Object(j.a)(xe,2),Ee=Ne[0],Te=Ne[1],Ie=Object(i.useState)(!1),Ce=Object(j.a)(Ie,2),Se=Ce[0],ye=Ce[1],_e=Object(i.useState)(!0),De=Object(j.a)(_e,2),Re=De[0],we=De[1],Le=Object(i.useState)(!1),ke=Object(j.a)(Le,2),Pe=ke[0],Me=ke[1];Object(i.useEffect)((function(){Ee>0&&""!==(ue.value&&Oe.value&&re.value&&ae.value)&&!1===(ue.error||Oe.error||re.error||ae.error)?we(!1):we(!0)}),[ae,re,ue,Oe,Ee]),Object(i.useEffect)((function(){Dn(sm,re.error,re.errorMessage)}),[re.errorMessage,re.error]),Object(i.useEffect)((function(){Dn(sm,Oe.error,Oe.errorMessage)}),[Oe.errorMessage,Oe.error]),Object(i.useEffect)((function(){Dn(sm,ue.error,ue.errorMessage)}),[ue.errorMessage,ue.error]),Object(i.useEffect)((function(){Dn(sm,ae.error,ae.errorMessage)}),[ae.errorMessage,ae.error]),Object(i.useEffect)((function(){X&&ye(!0)}),[X]),Object(i.useEffect)((function(){(null===B||void 0===B?void 0:B.ShowFailureError)&&(Me(!0),Object(T.M)("KFC Gift Card",rm))}),[null===B||void 0===B?void 0:B.ShowFailureError]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem("postPaymentType")&&"Success"===localStorage.getItem("paymentStatus")&&K&&U(Object(Vu.b)({tenantId:K,orderId:null===Q||void 0===Q?void 0:Q.orderId}))}),[localStorage.getItem("paymentStatus")]);var Fe=function(e,t){var n=e.target.value;t===k.USER_FULL_NAME&&se(Object(a.a)({},function(e,t){var n=Su,i=Object(a.a)({},e);return i.value=t,n.test(t)?(i.error=!0,i.errorMessage=Object(Ae.e)("namevalidationmsg")):!t||t.length<2||t.length>26?(i.error=!0,i.errorMessage=Object(Ae.e)("emptyYourNameErrMsg")):(i.error=!1,i.errorMessage=""),i}(re,n))),t===k.USER_PHONE&&me(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?10!==t.length||isNaN(t)?(n.error=!0,n.errorMessage=Object(Ae.e)("invalidPhoneNumberErrText")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)("phonenumberEmptyHelpText")),n}(Oe,n))),t===k.USER_EMAIL&&be(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?dm(t)?(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)("invalidYourEmailErrText")):(n.error=!0,n.errorMessage=Object(Ae.e)("yourEmailHelpText")),n}(ue,n))),t===k.RECP_EMAIL&&ie(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?dm(t)?(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Ae.e)("invalidRecipientEmailErrText")):(n.error=!0,n.errorMessage=Object(Ae.e)("recipientEmptyEmailHelpText")),n}(ae,n))),t===k.MESSAGE&&ge(n)};return Object(u.jsxs)("div",{className:"giftcard-container",children:[Object(u.jsxs)("div",{className:"giftcard-headline-container",children:[Object(u.jsx)("h1",{className:"giftcard-headline",children:f.headline}),Object(u.jsx)("button",{"data-testid":"toggle-modal",className:"button whiteButton blackBorder check-balance",onClick:function(){return s(!0),void U(Object(Uu.b)())},children:Object(Ae.e)(S)}),r&&Object(u.jsx)(nm,{tenantId:Y.tenantId,isOpen:r,handleClose:ee})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsx)("h2",{className:"buy-card-text",children:f.subHeadline}),Object(u.jsx)("img",{src:h.url,alt:"KFC Gift Card",className:"card-image"}),Object(u.jsxs)("div",{className:"card-amount-container",children:[Object(u.jsx)("h3",{className:"card-amount-heading container-heading",children:x.title}),Object(u.jsxs)("div",{className:"amount-list",children:[x&&x.list&&x.list.map((function(e,t){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)(ht.a,{"data-testid":"selected-amt",id:"gift-amount",className:e===Ee?"amount-block amount-block-select":"amount-block",onClick:function(t){Te(e),function(e,t,n){document.getElementById("gift-amount").setAttribute("aria-label",t+n+"selected")}(0,e,V)},ariaLable:e+V,children:[V,e]})})})),"INDIA"!==(null===Y||void 0===Y?void 0:Y.country)&&Object(u.jsx)("div",{className:"amount-block",children:F})]})]}),Object(u.jsxs)("div",{className:"infomation-container",children:[Object(u.jsx)("h3",{className:"information-heading container-heading",children:M}),Object(u.jsxs)("div",{className:"infomation-input-container",children:[!C&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ae.e)(H)}),Object(u.jsx)(At,{"data-testid":"recept-email",autoComplete:"on",value:ae.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",placeholder:Object(Ae.e)(A),"aria-required":"true",onChange:function(e){return Fe(e,k.RECP_EMAIL)},helperText:ae.errorMessage,error:ae.error}),Object(u.jsx)(At,{"data-testid":"user-name",autoComplete:"on",value:re.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"26","aria-required":"true",placeholder:Object(Ae.e)(y),onChange:function(e){return Fe(e,k.USER_FULL_NAME)},helperText:re.errorMessage,error:re.error}),Object(u.jsx)(At,{"data-testid":"user-email",autoComplete:"on",value:ue.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text","aria-required":"true",placeholder:Object(Ae.e)(_),onChange:function(e){return Fe(e,k.USER_EMAIL)},helperText:ue.errorMessage,error:ue.error}),Object(u.jsx)(At,{"data-testid":"user-phone",autoComplete:"on",value:Oe.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"10","aria-required":"true",placeholder:Object(Ae.e)(D),onChange:function(e){return Fe(e,k.USER_PHONE)},helperText:Oe.errorMessage,error:Oe.error})]})]}),Object(u.jsxs)("div",{className:"msg-container",children:[Object(u.jsx)("h3",{className:"msg-heading container-heading",children:P}),Object(u.jsx)("textarea",{"data-testid":"msg-input",value:he,className:"msg-inputbox",placeholder:Object(Ae.e)(R),"aria-label":Object(Ae.e)(R),onChange:function(e){return Fe(e,k.MESSAGE)}})]})]}),Object(u.jsxs)("div",{id:"terms-condition-button-container",children:[Object(u.jsxs)("div",{className:"terms-condition-container",children:[Object(u.jsx)("div",{className:"terms-condition-title","aria-label":I.title,children:I.title}),Object(u.jsx)("div",{className:"terms-condition-data","aria-label":I.data,children:I.data})]}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("button",{"data-testid":"clear-input",className:"button whiteButton blackBorder cancel-button",onClick:function(){return ie({value:""}),se({value:""}),be({value:""}),me({value:""}),ge(""),void Te("")},children:Object(Ae.e)(w)}),Object(u.jsx)("button",{"data-testid":"payment-button",className:"button redButton payment-button",disabled:Re,onClick:function(){Ee>0&&""!==(ue.value&&Oe.value&&re.value&&ae.value)&&U(Object(em.a)({body:{RecipientEmail:ae.value,BuyerName:re.value,BuyerEmail:ue.value,BuyerMobileNumber:Oe.value,Message:he,GiftCardAmount:Ee},tenantId:K,customerId:W}))},children:Object(Ae.e)(L)})]})]}),Se&&Object(u.jsx)(am,{giftCardPurchaseData:Q}),b&&(Pe||"Success"===localStorage.getItem("paymentStatus"))&&Object(u.jsx)(om,{isOpen:b,handleClose:function(){return localStorage.setItem("paymentStatus",""),localStorage.setItem("postPaymentType",""),U(Object(Vu.c)()),U(Object(em.b)()),v(!1),void window.location.reload()},purchaseStatus:$.purchaseStatus,paymentStatus:localStorage.getItem("paymentStatus")})]})},um=function(){return Object(T.Lb)(window.innerWidth)},bm=function(e){var t=e.contentData,n=void 0===t?{}:t,a=Object(i.useState)(Object(T.Lb)(window.innerWidth)),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useContext)(I.a).userOrderState;Object(i.useEffect)((function(){window.addEventListener("resize",r(um))}),[o]);return o?Object(u.jsxs)("div",{className:"giftCard-mobile-container",children:[n&&Object(u.jsx)(lm,{contentData:n,isMobile:o}),s.showCartClearAlert?Object(u.jsx)(Zd,{}):null]}):Object(u.jsxs)("div",{className:"giftCard-desktop-container",children:[n&&Object(u.jsx)(lm,{contentData:n,isMobile:o}),s.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},vm=function(e){var t,n,a,o,r=Object(i.useState)(Object(T.Lb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(E.c)((function(e){return e.tenantReducer})),v=Object(E.b)(),O=function(){var e=Object(T.Lb)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",O)}),[d]);var m=Object(E.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){v(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===b||void 0===b?void 0:b.country,"fields.channel":wa.b.channel,include:5}})),v(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:m})),v(Object($O.a)({object:Object(C.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Gift Card",include:"5"}})),v(Object(em.b)())}),[v,null===b||void 0===b?void 0:b.country,m]);var h=null,g=null,N=null,I=null,A=f.a.DISPOSITION,y=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,giftCardContent:e.giftCardReducer||null}}));if(y.marketPageContent&&y.marketPageContent.headerData&&y.tenantReducerContent&&y.homePageContent&&Object(T.Fb)(y.giftCardContent)){h=Object(T.Y)(y.homePageContent);var _=y.marketPageContent.headerData,D=_.header,R=void 0===D?{}:D,w=_.tenant,L=void 0===w?[]:w,k=_.footer,P=void 0===k?{}:k;g=Object(T.Z)(R),N=Object(T.R)(P),Object(T.nb)(L),I=Object(T.W)(y.giftCardContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(g)&&Object(u.jsx)($a,{contentData:g,tenantReducerData:y.tenantReducerContent,userParams:m})||null,Object(u.jsx)(Kr,{page:S.F}),Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=h)||void 0===n?void 0:n[A])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=h)||void 0===o?void 0:o[A])&&void 0!==a?a:{}},userParams:m}),Object(T.Fb)(I)&&Object(u.jsx)(bm,{contentData:I}),Object(T.Fb)(N)&&Object(u.jsx)(ma,{history:e.history,contentData:N,tenantReducerData:y.tenantReducerContent})||null]})},jm=n(377),Om=function(e){var t=e.headerData,n=e.history,a=e.isMobile,i=t.headline,c=t.subHeadline,o=t.faqButtonData,r=t.callUsButtonData,s="tel:"+Object(T.yb)(null===r||void 0===r?void 0:r.phoneNumber);return Object(u.jsxs)("div",{className:"contactUs-header-container",children:[Object(u.jsx)("img",{src:ws,alt:"",className:"contactUs-icon"}),Object(u.jsx)("h1",{className:"contactUs-header",children:i}),Object(u.jsx)("div",{className:"contactUs-subheader",children:c}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("a",{tabIndex:"-1",href:s,className:"anchorTags",children:Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"Call Us 080-4275-4444",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(A.a,{className:"icon",srcFile:r.icon}),r.buttonText," ",!a&&r.phoneNumber]})})}),a&&Object(u.jsx)("span",{className:"space"}),o&&Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"FAQ",onClickHandler:function(e){e.preventDefault(),n.push({pathname:null===o||void 0===o?void 0:o.internalurl})},children:o.linkText})]})]})},mm={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote"},fm=n(162),pm=n(391),hm=function(e){return/^[a-zA-Z ]{2,12}$/.test(String(e).toLowerCase())},gm=function(e){return/^[a-zA-Z ]{2,26}$/.test(String(e).toLowerCase())},xm=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},Nm=function(e){return/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e))},Em=function(e,t){var n=e.wantToKnowText,a=e.selectedLetUsKnow,i=e.firstNameText,c=e.lastNameText,o=e.phoneNoText,r=e.emailText;return!(0===(null===n||void 0===n?void 0:n.length)||(null===n||void 0===n?void 0:n.length)>200)&&(!!hm(i)&&(!!hm(c)&&(!!gm("".concat(i).concat(c))&&(!!Nm(o)&&(!!xm(r)&&(!!Object(T.Fb)(a)&&!!t))))))},Tm=function(e){var t=e.firstNameText,n=e.lastNameText,a=e.phoneNoText,i=e.emailText;return!!gm(t)&&(!!gm(n)&&(!!Nm(a)&&!!xm(i)))},Im=function(e){var t=e.onClickHandler;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{id:"alertPop",role:"dialog",show:!0,classNames:"conatct-us-alet-modal",closeDataTestId:"handler-close",autoFocus:!0,children:Object(u.jsxs)("div",{className:"submit-alert-conatiner",children:[Object(u.jsx)("span",{className:"alert-title",children:Object(Ae.e)(mm.feedbackSuccess)}),Object(u.jsx)("span",{className:"alert-message",children:Object(Ae.e)(mm.feedbackSuccessMessage)}),Object(u.jsx)(ht.a,{onClickHandler:t,className:"redButton alert-button",children:Object(Ae.e)(mm.feedbackSuccessOk)})]})})})},Cm=function(e){var t,n=e.arialabelledby,a=e.options,i=e.selectClassName,o=e.optionContainerClassName,r=e.optionClassName,s=e.onChange,d=(e.testid,c.a.useState(!1)),l=Object(j.a)(d,2),b=l[0],v=l[1];return Object(u.jsxs)("div",{"aria-labelledby":n,className:"select-topic-selection-conatiner",onClick:function(){return v(!b)},onKeyPress:function(){return v(!b)},children:[Object(u.jsx)("div",{tabIndex:"0",className:"".concat(i," ").concat(b?" inverted-arrow":""),children:null===(t=a[0])||void 0===t?void 0:t.value}),b&&Object(u.jsx)("div",{className:o,role:"listbox",children:a.map((function(e){var t=e.key,n=e.value;return Object(u.jsx)("span",{role:"listitem",tabIndex:"0",className:r,onClick:function(){return s({key:t,value:n})},onKeyPress:function(){return s({key:t,value:n})},children:n},t||n)}))})]})},Sm=function(e){var t=e.options,n=e.selectedItem,i=e.SetformData;return t.map((function(e){var c=e.key,o=e.value;return Object(u.jsxs)("div",{class:"form-radio-wrapper",children:[Object(u.jsx)("input",{type:"radio",value:o,id:o,checked:n.value===o,"data-testid":o,onChange:function(e){return i((function(n){return Object(a.a)(Object(a.a)({},n),{},{selectedLetUsKnow:t.find((function(t){return t.value===e.target.value}))})}))}},c),Object(u.jsx)("label",{for:o,children:Object(u.jsx)("span",{children:o})})]})}))},Am=function(e){var t,n,i,o,r=e.bodyFormData,s=e.tenantId,d=e.history,l=e.isMobile,b=r.headline,v=r.topicOptions,O=c.a.useState(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=c.a.useState(void 0),g=Object(j.a)(h,2),x=g[0],N=g[1],T=c.a.useState({wantToKnowText:"",selectedLetUsKnow:{},firstNameText:"",lastNameText:"",phoneNoText:"",emailText:""}),I=Object(j.a)(T,2),C=I[0],A=I[1],y=Object(E.b)(),_=Object(E.c)((function(e){var t;return null===(t=e.feedbackReducer)||void 0===t?void 0:t.response}));return c.a.useEffect((function(){window.scrollTo(0,0)}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h5",{className:"contactUs-title",children:b}),Object(u.jsxs)("div",{className:"select-topic-container",children:[Object(u.jsx)("h6",{className:"select-topic-label",id:"listbox1label",children:Object(Ae.e)(mm.selectATopic)}),Object(u.jsx)(Cm,{arialabelledby:"listbox1label",options:v.map((function(e,t){return{key:t,value:e.linkText}})),selectClassName:"select-topic-selection",optionContainerClassName:"select-topic-option-conatiner",optionClassName:"select-topic-option",onChange:function(e){var t=e.key,n=v[t].externalurl;n&&(window.location.href=n)},testid:"select-topic"})]}),Object(u.jsxs)("div",{className:"contactUs-questions-container",children:[Object(u.jsx)("h6",{className:"questions-form-header",children:Object(Ae.e)(mm.questionForUs)}),Object(u.jsx)("span",{className:"questions-form-subheader",children:Object(Ae.e)(mm.loveToHearFromYou)}),Object(u.jsxs)("div",{className:"questions-form-container1",children:[Object(u.jsx)("h6",{className:"container1-header",children:"".concat(Object(Ae.e)(mm.wantToKnow))}),Object(u.jsx)("textarea",{className:"container1-input","aria-label":Object(Ae.e)(mm.wantToKnow),multiple:!0,maxLength:200,value:C.wantToKnowText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{wantToKnowText:e.target.value}))},placeholder:Object(Ae.e)(mm.wantToKnowPlaceholder),"data-testid":"wantToKnowText"})]}),Object(u.jsx)("div",{className:"questions-form-container2",children:Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("legend",{className:"container2-header",children:"".concat(Object(Ae.e)(mm.letUsKnow))}),Object(u.jsx)("div",{className:"radio-container",children:Object(u.jsx)(Sm,{options:v[0].contents,selectedItem:C.selectedLetUsKnow,SetformData:A})})]})}),Object(u.jsxs)("div",{className:"questions-form-container3",children:[Object(u.jsxs)("div",{className:"container3-header-block",children:[Object(u.jsx)("h6",{className:"container3-header",children:Object(Ae.e)(mm.contactInfoTitle)}),!l&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Ae.e)(mm.mandatorynote)})]}),Object(u.jsx)(At,{placeholder:"".concat(Object(Ae.e)(mm.firstNamePlaceholder)),value:C.firstNameText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{firstNameText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:mm.firstNamePlaceholder,error:0!==(null===C||void 0===C||null===(t=C.firstNameText)||void 0===t?void 0:t.length)&&!hm(C.firstNameText),helperText:Object(Ae.e)(mm.firstNameHelpText),helperTextClassName:"error-text","aria-required":"true",maxlength:13}),Object(u.jsx)(At,{placeholder:"".concat(Object(Ae.e)(mm.lastNamePlaceHolder)),value:C.lastNameText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{lastNameText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:mm.lastNamePlaceHolder,error:0!==(null===C||void 0===C||null===(n=C.lastNameText)||void 0===n?void 0:n.length)&&!hm(C.lastNameText),helperText:Object(Ae.e)(mm.lastNameHelpText),helperTextClassName:"error-text",maxlength:13,"aria-required":"true"}),Object(u.jsx)(At,{placeholder:"".concat(Object(Ae.e)(mm.phonePlaceholder)),value:C.phoneNoText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{phoneNoText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:mm.phonePlaceholder,error:0!==(null===C||void 0===C||null===(i=C.phoneNoText)||void 0===i?void 0:i.length)&&!Nm(C.phoneNoText),helperText:Object(Ae.e)(mm.phoneHelpText),helperTextClassName:"error-text",maxlength:10,"aria-required":"true"}),Object(u.jsx)(At,{placeholder:"".concat(Object(Ae.e)(mm.emailPlaceholder)),value:C.emailText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{emailText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:mm.emailPlaceholder,error:0!==(null===C||void 0===C||null===(o=C.emailText)||void 0===o?void 0:o.length)&&!xm(C.emailText),helperText:Object(Ae.e)(mm.emailHelpText),helperTextClassName:"error-text","aria-required":"true"})]}),Object(u.jsx)("div",{className:"captcha",children:Object(u.jsx)(pm.a,{sitekey:S.hb,onChange:function(e){N(e)}})}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"Cancel","data-testid":mm.cancelButtonText,onClickHandler:function(e){e.preventDefault(),d.push("/")},children:Object(Ae.e)(mm.cancelButtonText)}),Object(u.jsx)(ht.a,{disabled:!Em(C,x),className:"button blackButton contactus-button disabled",ariaLable:"Submit","data-testid":mm.submitButtonText,onClickHandler:function(e){e.preventDefault();var t=function(e,t,n){return{tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:n}],attachments:[]}}}(C,s,x);y(Object(fm.a)(t)),p((function(){return!0}))},children:Object(Ae.e)(mm.submitButtonText)})]})]}),_&&f?Object(u.jsx)(Im,{onClickHandler:function(){d.push("/")}}):null]})},ym=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.history,c=e.tenantId,o=n.headerData,r=n.bodyFormData,s=Object(i.useState)(Object(T.Lb)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useContext)(I.a).userOrderState,O=function(){var e=Object(T.Lb)(window.innerWidth);b(e)};Object(i.useEffect)((function(){window.addEventListener("resize",O)}),[l]);return l?Object(u.jsxs)("div",{className:"contactUs-mobile-container",children:[Object(u.jsx)("div",{className:"contactUs-mobile-header",children:o&&Object(u.jsx)(Om,{headerData:o,history:a,isMobile:l})}),Object(u.jsx)("div",{className:"contactUs-section-body",children:r&&Object(u.jsx)(Am,{bodyFormData:r,history:a,tenantId:c,isMobile:l})}),v.showCartClearAlert?Object(u.jsx)(Zd,{}):null]}):Object(u.jsxs)("div",{className:"contactUs-desktop-container",children:[Object(u.jsx)("div",{className:"contactUs-section-left",children:o&&Object(u.jsx)(Om,{headerData:o,history:a,isMobile:l})}),Object(u.jsx)("div",{className:"contactUs-section-right",children:Object(u.jsx)("div",{className:"contactUs-description-desktop",children:r&&Object(u.jsx)(Am,{bodyFormData:r,history:a,tenantId:c,isMobile:l})})}),v.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},_m=function(e){var t,n,a,o,r=Object(E.c)((function(e){return e.tenantReducer})),s=Object(E.b)(),d=Object(E.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){s(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===r||void 0===r?void 0:r.country,"fields.channel":wa.b.channel,include:5}})),s(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:d})),s(Object(jm.a)({object:Object(C.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Contact Us",include:"5"}}))}),[]);var l=null,b=null,v=null,j=null,O=f.a.DISPOSITION,m=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,contactUsContent:e.contactUsReducer.response||null}}));if(m.marketPageContent&&m.tenantReducerContent&&m.homePageContent&&Object(T.Fb)(m.contactUsContent)){var h;l=Object(T.Y)(m.homePageContent);var g=null===(h=m.marketPageContent)||void 0===h?void 0:h.headerData,N=g.header,I=void 0===N?{}:N,S=g.tenant,A=void 0===S?[]:S,y=g.footer,_=void 0===y?{}:y;b=Object(T.Z)(I),j=Object(T.R)(_),Object(T.nb)(A),v=Object(T.C)(m.contactUsContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(b)&&Object(u.jsx)($a,{contentData:b,tenantReducerData:m.tenantReducerContent,userParams:d})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=l)||void 0===n?void 0:n[O])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[O])&&void 0!==a?a:{}},userParams:d}),Object(T.Fb)(v)&&Object(u.jsx)(ym,{contentData:v,history:e.history,tenantId:r.tenantId}),Object(T.Fb)(j)&&Object(u.jsx)(ma,{history:e.history,contentData:j,tenantReducerData:m.tenantReducerContent})||null]})},Dm=n(378),Rm=function(e){var t=e.headerData,n=(t=void 0===t?{}:t).description,a=t.title;return Object(u.jsxs)("div",{className:"terms-header-container",children:[Object(u.jsx)("img",{src:ws,className:"terms-icon",alt:" "}),Object(u.jsx)("h4",{className:"terms-header",children:a}),Object(u.jsx)("div",{className:"terms-and-condition-data",children:n})]})},wm=function(e){var t=e.questionList,n=void 0===t?[]:t,a=e.headerData,i=(a=void 0===a?{}:a).title,c=e.isMobile,o=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("terms-accordian-open")?t.classList.remove("terms-accordian-open"):t.classList.add("terms-accordian-open")};return Object(u.jsx)("div",{children:n.map((function(e,t){return Object(u.jsx)("div",{className:"terms-accordian",id:c&&n[0].question===e.question?"removeLine":"",children:Object(u.jsx)(se,{"data-testId":"acordian-handle",header:"Terms of Use"===i?"".concat(e.question):"".concat(t+1,". ").concat(e.question),onClickHandler:o,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(e.answer)},className:"terms-accordian-answer"})})})}))})},Lm=function(e){var t=e.contentData,n=(t=void 0===t?{}:t).headerData,a=void 0===n?{}:n,c=t.questionList,o=void 0===c?[]:c,r=Object(i.useState)(Object(T.Lb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useContext)(I.a).userOrderState,v=function(){var e=Object(T.Lb)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",v)}),[d]);return d?Object(u.jsxs)("div",{className:"terms-mobile-container",children:[Object(u.jsx)("div",{className:"terms-mobile-header",children:Object(u.jsx)(Rm,{headerData:a})}),Object(u.jsx)("div",{className:"terms-mobile-questions",children:Object(u.jsx)(wm,{questionList:o,headerData:a,isMobile:d})}),b.showCartClearAlert?Object(u.jsx)(Zd,{}):null]}):Object(u.jsxs)("div",{className:"terms-desktop-container",children:[Object(u.jsx)("div",{className:"terms-section-left",children:Object(u.jsx)(Rm,{headerData:a})}),Object(u.jsx)("div",{className:"terms-section-right",children:Object(u.jsx)("div",{className:"terms-questions-desktop",children:Object(u.jsx)(wm,{questionList:o,headerData:a,isMobile:d})})}),b.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},km=function(e){var t,n,a,r,s=Object(Ae.e)(Lt.r),d=Object(E.c)((function(e){return e.tenantReducer})),l=Object(E.b)(),b=Object(E.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){l(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===d||void 0===d?void 0:d.country,"fields.channel":wa.b.channel,include:5}}))}),[l,null===d||void 0===d?void 0:d.country]);var v=Object(o.g)();Object(i.useEffect)((function(){v.pathname.includes(Lt.s)&&Object(Ae.e)(Lt.r)&&(document.title=s)}),[s,v.pathname]);var j=v.pathname.includes("terms-of-use/true")||v.pathname.includes("terms-and-conditions/true"),O=Object(T.pb)(v.pathname.includes("terms-of-use"),"Terms of Use","Terms and Conditions");Object(i.useEffect)((function(){l(Object(Dm.a)({object:Object(C.a)(),contentFull:{content_type:"staticLandingPage","fields.page":O,include:"5"}}))}),[l,O,v.pathname]);var p=null,h=null,g=null,N=null,I=f.a.DISPOSITION,S=Object(E.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),termsOfUseContent:m.a.get(e,"termsOfUseReducer.response",null)}}));if(S.marketPageContent&&S.tenantReducerContent&&S.homePageContent&&Object(T.Fb)(S.termsOfUseContent)){p=Object(T.Y)(S.homePageContent);var A=S.marketPageContent.headerData,y=A.header,_=void 0===y?{}:y,D=A.tenant,R=void 0===D?[]:D,w=A.footer,L=void 0===w?{}:w;h=Object(T.Z)(_),N=Object(T.R)(L),Object(T.nb)(R),g=Object(T.ob)(S.termsOfUseContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(h)&&!j&&Object(u.jsx)($a,{contentData:h,tenantReducerData:S.tenantReducerContent,userParams:b})||null,!j&&Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=p)||void 0===n?void 0:n[I])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=p)||void 0===r?void 0:r[I])&&void 0!==a?a:{}},userParams:b}),Object(T.Fb)(g)&&Object(u.jsx)(Lm,{contentData:g}),Object(T.Fb)(N)&&!j&&Object(u.jsx)(ma,{history:e.history,contentData:N,tenantReducerData:S.tenantReducerContent})||null]})},Pm=n.p+"static/media/getHelp.c28c1243.svg",Mm=function(e){var t,n,a,i,c,o,r,s,d,l,b,v,j,O,m=null!==(t=JSON.parse(localStorage.getItem("storeInfo")))&&void 0!==t?t:{},f=e.contentData,p=e.isLocalized,h=e.isMobile,g=e.history,x=e.onStartOrderClick,N=f.faqSectionDetails,E=f.helpSectionCallDetails,I=f.helpSectionContactDetails,C=f.helpSectionHeadline,S=f.helpSectionNearestKFC,y=f.surveyDetails,_=function(e){console.log("clicked",e.target.textContent),localStorage.setItem("SelectedFaqItem",e.target.textContent),g.push({pathname:"/faq"})},D=function(e){var t="";if(Object(T.Fb)(e)){var n=e.contacts;(void 0===n?[]:n).forEach((function(e){var n=e.key,a=e.value;"phoneNumber"===n&&(t=a)}))}return t};return Object(u.jsxs)("div",{className:"get-help-section",children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"help-text",children:C}),Object(u.jsxs)("div",{className:"help-block-container",children:[Object(u.jsxs)("div",{className:"get-help-block mr5 mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:S})}),!h&&p&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"nearest-kfc",className:"nearest-kfc-details",children:[Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(n=m.name)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.value}),Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(i=m.addresses)||void 0===i||null===(c=i[0])||void 0===c||null===(o=c.address)||void 0===o||null===(r=o.addressLines)||void 0===r?void 0:r[0]}),Object(u.jsxs)("span",{className:"section-text font-bold",children:["Call. ",Object(u.jsx)("span",{className:"deepBlack",children:D(m)})]})]})}),h&&p&&Object(u.jsxs)("div",{className:"section-text ContactUsButton",children:[Object(u.jsxs)("div",{className:"nearest-kfc-details mb-1rem",children:[Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(s=m.name)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.value}),Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(l=m.addresses)||void 0===l||null===(b=l[0])||void 0===b||null===(v=b.address)||void 0===v||null===(j=v.addressLines)||void 0===j?void 0:j[0]})]}),Object(u.jsx)("a",{"data-testid":"nearest-kfc-localised",href:"tel:".concat(D(m)),className:"anchorTags",children:Object(u.jsxs)(ht.a,{ariaLable:"",className:"deepBlack font-bold button whiteButton blkBorder ",children:[Object(u.jsx)(A.a,{srcFile:null===E||void 0===E?void 0:E.icon,alt:"desktopImage",className:"Messageimage"}),"Call Restaurant"]})})]}),!p&&Object(u.jsx)("div",{"data-testid":"find-kfc",className:"section-text mt-5 ContactUsButton",children:Object(u.jsx)(ht.a,{ariaLable:"find a kfc","data-testid":"start-order-click",className:"deepBlack font-bold button whiteButton blkBorder ",onClick:function(){return x()},children:"Find a KFC"})})]}),Object(u.jsxs)("div",{className:"get-help-block mr5 mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:null===E||void 0===E?void 0:E.title})}),Object(u.jsx)("span",{className:"section-text",children:null===E||void 0===E?void 0:E.description}),!h&&Object(u.jsx)("span",{"data-testid":"contact-no-text",className:"section-text font-bold deepBlack",children:null===E||void 0===E?void 0:E.contactNo}),h&&Object(u.jsx)("a",{"data-testid":"contact-no-btn",href:"tel:".concat(null===E||void 0===E?void 0:E.contactNo),className:"anchorTags",children:Object(u.jsx)("div",{className:"section-text mt-adjust ContactUsButton",children:Object(u.jsxs)(ht.a,{ariaLable:"",className:"deepBlack font-bold button whiteButton blkBorder ",children:[Object(u.jsx)(A.a,{srcFile:null===E||void 0===E?void 0:E.icon,alt:"desktopImage",className:"Messageimage"}),null===E||void 0===E?void 0:E.buttonText]})})})]}),Object(u.jsxs)("div",{className:"get-help-block mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:null===I||void 0===I?void 0:I.title})}),Object(u.jsx)("span",{className:"section-text",children:null===I||void 0===I?void 0:I.description}),Object(u.jsx)("div",{className:"section-text mt-5 ContactUsButton",children:Object(u.jsxs)(ht.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"deepBlack font-bold button whiteButton blkBorder ",onClick:function(){return e=null===I||void 0===I?void 0:I.linkUrl,void g.push({pathname:e});var e},children:[Object(u.jsx)(A.a,{srcFile:null===I||void 0===I?void 0:I.desktopImage,alt:" ",className:"Messageimage"}),null===I||void 0===I?void 0:I.linkText]})})]})]})]}),N.length>0&&Object(u.jsxs)("div",{className:"faq-survey-section mb-5",children:[Object(u.jsxs)("div",{class:"faq-survey-block  m1-adjust",children:[Object(u.jsx)("h3",{className:"header-text",children:null===N||void 0===N?void 0:N.title}),Object(u.jsx)("span",{className:"section-text",children:null===N||void 0===N?void 0:N.description}),Object(u.jsx)("div",{className:"faq-text-block",children:null===N||void 0===N||null===(O=N.topics)||void 0===O?void 0:O.map((function(e){return Object(u.jsx)(ht.a,{ariaLable:e,tabindex:"0","data-testid":"topic-item",className:"section-text",onClick:_,children:e})}))}),Object(u.jsx)("span",{className:"section-text mt-5",children:Object(u.jsx)(ht.a,{ariaLable:"view all faq","data-testid":"view-all-faq",className:"deepBlack font-bold help-btn image-full-text-btn button whiteButton blkBorder",onClick:function(){return e=null===N||void 0===N?void 0:N.linkUrl,void g.push({pathname:e});var e},children:null===N||void 0===N?void 0:N.btnText})})]}),Object(u.jsxs)("div",{class:"faq-survey-block  m-adjust",children:[Object(u.jsx)("p",{className:"header-text",children:null===y||void 0===y?void 0:y.title}),Object(u.jsx)("div",{className:"section-text faq-text-block",children:null===y||void 0===y?void 0:y.description}),Object(u.jsx)("span",{className:"section-text mt-5",children:Object(u.jsx)("a",{href:null===y||void 0===y?void 0:y.linkUrl,"aria-hidden":"true",tabindex:"-1",target:"_blank",className:"anchorTags",rel:"noopener noreferrer",children:(null===y||void 0===y?void 0:y.btnText)&&Object(u.jsx)(ht.a,{className:"deepBlack font-bold help-btn image-full-text-btn button whiteButton blkBorder",children:null===y||void 0===y?void 0:y.btnText})})})]})]})]})},Fm=function(e){var t=e.onStartOrderClick,n=Object(i.useState)(Object(T.Lb)(window.innerWidth)),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Object(E.c)((function(e){return e.appStateReducer.userStatus})).localized,s=void 0!==r&&r;Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){return window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}));var d=function(){o(Object(T.Lb)(window.innerWidth))};return Object(u.jsxs)("div",{className:"get-help-container-section",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(Pm,")")},className:"get-help-header-image",children:Object(u.jsx)("h1",{className:"get-help-image-text",children:e.contentData.bannerTitle})}),Object(u.jsx)("div",{className:"get-help-offers-container",children:Object(u.jsx)(Mm,{onStartOrderClick:t,contentData:e.contentData,history:e.history,isLocalized:s,isMobile:c})})]})},Hm=function(e){var t,n,a,o,r,s=Object(E.c)((function(e){return e.appStateReducer.userStatus})),d=_e.a.DISPOSITION_DATA,l=Object(i.useContext)(I.a),b=l.userOrderState,v=l.userOrderStateDispatch,j=null,O=null,m=null,h=null,g=f.a.DISPOSITION,N=Object(E.b)(),S=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,getHelpContent:e.helpReducer.helpResponse||null}}));if(S.marketPageContent&&S.tenantReducerContent&&S.homePageContent){var A;j=Object(T.Y)(S.homePageContent);var y=(null===(A=S.marketPageContent)||void 0===A?void 0:A.headerData)||{},_=y.header,D=void 0===_?{}:_,R=y.tenant,w=void 0===R?[]:R,L=y.footer,k=void 0===L?{}:L;O=Object(T.Z)(D),h=Object(T.R)(k),Object(T.nb)(w),m=Object(T.ab)(S.getHelpContent)}return Object(i.useEffect)((function(){var e;N(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===S||void 0===S||null===(e=S.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":wa.b.channel,include:5}})),N(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:s}))}),[null===S||void 0===S||null===(t=S.tenantReducerContent)||void 0===t?void 0:t.country,N,s]),Object(i.useEffect)((function(){N(Object(sv.a)({object:Object(C.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Help",include:"5"}}))}),[]),Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(O)&&Object(u.jsx)($a,{contentData:O,tenantReducerData:S.tenantReducerContent,userParams:s})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(n=null===(a=j)||void 0===a?void 0:a[g])&&void 0!==n?n:{},contentDispositionData:null!==(o=null===(r=j)||void 0===r?void 0:r[g])&&void 0!==o?o:{}},userParams:s}),Object(T.Fb)(m)&&Object(u.jsx)(Fm,{"data-testid":"get-help-container",onStartOrderClick:function(){v({type:d,value:{showDisposition:!0}})},contentData:m,history:e.history}),Object(T.Fb)(h)&&Object(u.jsx)(ma,{history:e.history,contentData:h,tenantReducerData:S.tenantReducerContent})||null,b.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},Um=n.p+"static/media/confirmedSignOut.66163951.svg",Bm=function(e){var t=e.history,n=e.pageFlag,a=jj.TAKE_ME_HOME_TEXT,i=jj.SIGN_UP_TEXT,o=jj.SIGN_OUT_MESSAGE1,r=jj.SIGN_OUT_MESSAGE2,s=jj.DELETE_ACCOUNT_MESSAGE,d=jj.SIGN_IN_TEXT;return Object(u.jsx)(c.a.Fragment,{children:Object(Ae.e)(o)!==o&&Object(Ae.e)(r)!==r&&Object(u.jsxs)("div",{className:"account-remove-container",children:[Object(u.jsx)("div",{className:"account-remove-confirm-icon",children:Object(u.jsx)(Da.a,{src:Um})}),Object(u.jsx)("div",{className:"main-text-account-remove",children:"DELETE"===n?Object(Ae.e)(s):"".concat(Object(Ae.e)(o),"\n").concat(Object(Ae.e)(r))}),Object(u.jsxs)("div",{className:"account-remove-buttons",children:[Object(u.jsx)(ht.a,{"data-testid":"sign-upid",className:"sign-up-account-remove",onClick:function(e){Object(T.h)()},children:"DELETE"===n?Object(Ae.e)(i):Object(Ae.e)(d)}),Object(u.jsx)(ht.a,{"data-testid":"take-me-homeid",className:"take-me-home-account-remove",onClick:function(){t.push({pathname:"/"})},children:Object(Ae.e)(a)})]})]})})},Ym=function(e){var t,n,a,c,o,r,s=Object(E.c)((function(e){return e.tenantReducer})),d=Object(E.c)((function(e){return e.appStateReducer.userStatus})),l=s.tenantId,b=void 0===l?"":l,v=null,j=null,O=null,m=f.a.DISPOSITION,h=Object(E.b)(),N=Object(i.useContext)(I.a).userOrderState;Object(i.useEffect)((function(){N.cmsInitialized&&h(Object(x.a)({object:Object(C.a)(),contentFull:{include:5,content_type:"marketConfig","fields.location":null===s||void 0===s?void 0:s.country,"fields.channel":wa.b.channel}}))}),[h,null===s||void 0===s?void 0:s.country]),Object(i.useEffect)((function(){var t,n;"DELETE"===(null===(t=e.history)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.state)?(h(Object(Pa.a)()),h(Object(g.a)("in"))):d.loggedIn&&e.history.push("/"),N.cmsInitialized&&h(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:d}))}),[d,b,h]);var S=Object(E.c)((function(e){return{tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null,homePageContent:e.contentReducer.response||null}}));if(S.marketPageContent&&S.homePageContent&&S.tenantReducerContent){j=Object(T.Y)(S.homePageContent);var A=S.marketPageContent.headerData||{},y=A.header,_=A.footer;v=Object(T.Z)(y),O=Object(T.R)(_)}return Object(u.jsxs)(u.Fragment,{children:[Object(T.Fb)(v)&&Object(u.jsx)($a,{tenantReducerData:S.tenantReducerContent,userParams:d,contentData:v})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=j)||void 0===n?void 0:n[m])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(c=j)||void 0===c?void 0:c[m])&&void 0!==a?a:{}},userParams:d}),Object(u.jsx)(Bm,{pageFlag:null===(o=e.history)||void 0===o||null===(r=o.location)||void 0===r?void 0:r.state,history:e.history}),Object(T.Fb)(O)&&Object(u.jsx)(ma,{contentData:O,history:e.history})||null]})},Gm=n.p+"static/media/Arrow.0e41a9fb.svg",Km=function(){var e=Object(je.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.registerEvent(ke.a.accountViewFavItemList.name,{data:{event:"view_item_list",ecommerce:{item_list:{items:t}}}},T.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vm=function(e){var t=e.currentMenu,n=e.updateMenu,a=Object(E.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null})),c=Object(E.c)((function(e){var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})).categories,o=void 0===c?[]:c,r=Object(i.useState)(Object(T.Lb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=function(){Object(hd.d)(null===a||void 0===a?void 0:a.id),window.location.replace(Object(Ht.a)(Gt.J)),window.localStorage.clear()};Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(T.Lb)(window.innerWidth);l(e)}))}),[d]);var v=os.d.ORDER_HISTORY_TAG,O=os.d.MY_FAV_MENU,m=os.d.ADDRESS,f=os.d.ACCOUNT_SETTING,p=os.d.SIGN_OUT,h=Object(E.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]}));Object(i.useEffect)((function(){if(t===O&&(null===h||void 0===h?void 0:h.length)){var e=[];h.forEach((function(t,n){var a=(null===o||void 0===o?void 0:o.find((function(e){return e.products.find((function(e){return e.name===t.name}))})))||{},i=a.id,c=void 0===i?"NA":i,r=a.name,s=void 0===r?"NA":r;e.push({item_name:Object(T.v)(t.name,"NA"),item_id:Object(T.v)(t.id,"NA"),price:Object(T.v)(t.price,"NA"),item_category:s,item_list_name:"Account - Favorite Menu",item_list_id:c,index:n+1,quantity:t.quantity||"NA"})})),Km(e)}}),[t]);return d?Object(u.jsxs)("div",{className:"account-mobile-container",children:[Object(u.jsx)("div",{className:"account-mobile-header",children:Object(u.jsxs)("div",{className:"account-header-container",children:[Object(u.jsx)("img",{src:ws,className:"account-icon"}),Object(u.jsx)("h4",{className:"account-header",children:Object(Ae.e)("Good ".concat(Object(T.X)()," ").concat(a.firstName||a.phone,"!"))}),Object(u.jsx)(ht.a,{className:"button transparent-btn white-border sign-out-btn","data-id":S.l.HEADER_SIGN_IN_ATTR_DATA_ID,"aria-label":"",onClickHandler:b,type:"submit",children:Object(u.jsx)("span",{children:Object(Ae.e)(p)})})]})}),Object(u.jsxs)("div",{className:"account-mobile-menu-option",children:[Object(u.jsx)("section",{"data-testid":"order-history-mobile-testid",onClick:function(){return n(v)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ae.e)(v)}),Object(u.jsx)("img",{src:Gm,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"fav-menu-mobile-testid",onClick:function(){return n(O)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ae.e)(O)}),Object(u.jsx)("img",{src:Gm,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"saved-address-mobile-testid",onClick:function(){return n(m)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ae.e)(m)}),Object(u.jsx)("img",{src:Gm,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:function(){return n(f)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Ae.e)(f)}),Object(u.jsx)("img",{src:Gm,className:"account-icon"})]})})})]})]}):Object(u.jsxs)("div",{className:"account-header-container",children:[Object(u.jsx)("img",{src:ws,className:"account-icon"}),Object(u.jsx)("h4",{className:"account-header",children:Object(Ae.e)("".concat(Object(Ae.e)("greetingGood")," ").concat(Object(T.X)()," ").concat(a.firstName||Object(Ae.e)("kfcLover"),"!"))}),Object(u.jsxs)("div",{className:"account-menu-container",children:[Object(u.jsx)("div",{"data-testid":"order-history-testid",className:Object(T.pb)(t===v,"activeMenu account-menu","account-menu"),onClick:function(){return n(v)},children:Object(Ae.e)(v)}),Object(u.jsx)("div",{className:Object(T.pb)(t===O,"activeMenu account-menu","account-menu"),onClick:function(){return n(O)},"data-testid":"fav-menu-link",children:Object(Ae.e)(O)}),Object(u.jsx)("div",{"data-testid":"saved-address-testid",className:Object(T.pb)(t===m,"activeMenu account-menu","account-menu"),onClick:function(){return n(m)},children:Object(Ae.e)(m)}),Object(u.jsx)("div",{"data-testid":"account-settings-testid",className:Object(T.pb)(t===f,"activeMenu account-menu","account-menu"),onClick:function(){return n(f)},children:Object(Ae.e)(f)})]}),Object(u.jsx)(ht.a,{"data-id":S.l.HEADER_SIGN_IN_ATTR_DATA_ID,className:"button transparent-btn white-border sign-out-btn","aria-label":"",type:"submit",children:Object(u.jsx)("span",{"data-testid":"signout-button-testid",onClick:b,children:Object(Ae.e)(p)})})]})},Wm=n.p+"static/media/Calender.87526494.svg",qm=n.p+"static/media/Reload.bccb975e.svg",zm=function(e){var t,n=e.onClickHandler,a=e.isDarkMode,o=void 0!==a&&a,r=e.dataTestId,s=e.cardInfo,d=void 0===s?{}:s,l=e.title,b=e.occassionTime,v=e.onEditOccasionName,O=e.itemId,m=e.itemName,f=e.favouriteOrders,p=void 0===f?[]:f,h=e.tenantData,g=void 0===h?{}:h,x=os.d.AT,N=os.d.REFUND_INIT,E=os.d.SCHEDULE,I=os.d.REFUND_INIT_TEXT,C=os.d.EDIT_ITEM_TEXT,S=os.d.TODAY_AT,A=os.d.CANCELLED,y=os.d.DELIVERED,_=os.d.PICK_UP,D=Object(T.wb)(d),R=D.id,w=void 0===R?"":R,L=D.fulfillmentDateTime,k=void 0===L?"":L,P=D.service,M=void 0===P?"":P,F=D.status,H=void 0===F?"":F,U=D.fulfillmentDateTime,B=void 0===U?"":U,Y=g.pastOrderDateformat,G=void 0===Y?"":Y,K=g.pastOrderTimeFormat,V=void 0===K?"":K;t=p.length>0&&p.find((function(e){return e.id===w}))||{};var W=Object.keys(t).length>0?t.name:"".concat("pickup"===M?_:M," ").concat(Object(Ae.e)("order")),q=Object(De.l)(k,G),z=Object(De.l)(B,G),Q="".concat(Object(De.l)(k,G),"  ").concat(Object(Ae.e)(x)),J=Object(De.e)(new Date,G),X="".concat(z," ").concat(Object(Ae.e)(x)," "),Z=Object(De.e)(Object(De.q)(k),V),$=Object(De.p)(B);z===J&&(X=Object(Ae.e)(E)+" for "+Object(Ae.e)(S));var ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),oe=te[0],re=te[1],se=function(e){re(!oe),n&&!oe&&n(e,w)},de=$&&(q===J||z===J);return Object(u.jsxs)("div",{className:"global-accordian-container ".concat(oe?"account-accordian-open":""),children:[Object(u.jsxs)("div",{className:"global-accordian-header-container",children:[Object(u.jsxs)("span",{className:"global-accordian-header",children:[H===N&&!l&&Object(u.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(u.jsx)("img",{src:qm,className:"account-icon"}),Object(u.jsx)("span",{className:"order-status",children:Object(Ae.e)(I)})]}),de&&function(e){return e!==A&&e!==y}(H)?Object(u.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(u.jsx)("img",{src:Wm,className:"account-icon"}),Object(u.jsx)("span",{className:"order-status",children:Object(Ae.e)(E)})]}):null,l?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("span",{className:"order-accordian-heading",children:l}),Object(u.jsx)("span",{className:"edit-occasion-link",onClick:function(){return v(O,m)},children:Object(Ae.e)(C)})]}):Object(u.jsx)("span",{className:"order-accordian-heading",children:W})]}),Object(u.jsxs)("div",{className:"global-accordian-right",children:[b?Object(u.jsx)("span",{className:"order-time",children:b}):Object(u.jsx)("span",{className:"order-time",children:de?X+Z:Q+" "+Z}),o?Object(u.jsx)("img",{src:oe?ce:ie,onClick:se,className:"global-accordian-arrow","data-testid":"acordian-handle-dark"}):Object(u.jsx)("img",{src:oe?ae:ne,onClick:se,className:"global-accordian-arrow","data-testid":r})]})]}),oe&&Object(u.jsx)("div",{className:"global-accordian-content",children:e.children})]})},Qm=n(379),Jm=function(e){var t=Object(E.b)(),n=e.onCancel,a=e.cardInfo,c=e.tenantData.tenantId,o=Object(i.useState)([]),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(E.c)((function(e){return{customerInfo:e.profileReducer||{}}})).customerInfo||{},x=g.customerId,N=g.basic,T=(N=void 0===N?{}:N).phone,I=void 0===T?"":T,C=g.favouriteOrders,S=void 0===C?[]:C,A=os.d.CANCEL,y=os.d.SAVE,_=os.d.OCCASSOIN_HEADING,D=os.d.OREDER_PLACEHOLDER,R=os.d.NAME_EXIST,w=os.d.OCCASION_NAME_VALIDATION;Object(i.useEffect)((function(){var e=[];S.map((function(t){var n;return e.push(null===(n=t.name.toUpperCase())||void 0===n?void 0:n.trim())})),d(e)}),[]);var L=Object(i.useState)(""),k=Object(j.a)(L,2),P=k[0],M=k[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"InputHeading",children:Object(Ae.e)(_)}),Object(u.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(u.jsx)("input",{value:P,type:"tel","data-testid":"occasion-input",className:"occasion-input-box",placeholder:Object(Ae.e)(D),maxlength:"11",required:!0,onChange:function(e){return function(e){M(e.target.value),h(!1),O(!1)}(e)}}),v&&Object(u.jsx)("span",{className:"error-text",children:Object(Ae.e)(R)}),p&&Object(u.jsx)("span",{className:"error-text",children:Object(Ae.e)(w)})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(ht.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return n()},children:Object(Ae.e)(A)}),Object(u.jsx)(ht.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:function(){var e=null===P||void 0===P?void 0:P.trim(),i=s.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=Qm.a.test(P),r=e.replace(/ /g,"").length;if(!o||0===r||r<=2)h(!0);else if(o&&i>=0)O(!0),h(!1);else{var d=a.id;t(Object(Mj.a)({customerId:x,tenantId:c,phoneNumber:I},{orderId:d,name:P})),n()}},children:Object(Ae.e)(y)})]})]})},Xm=function(e){var t=e.isMobile,n=e.cardInfo,c=e.tenantData,r=e.customerId,s=e.orderItemArray,d=e.isGetOrdersLoading,l=s.find((function(e){return e.id===n.id})),b=Object(i.useState)(!1),v=Object(j.a)(b,2),m=v[0],f=v[1],p=Object(i.useState)(!1),h=Object(j.a)(p,2),g=h[0],x=h[1],N=os.d.REORDER_TEXT,I=os.d.ADD_TO_OCCASION,C=os.d.VIEW_RECEIPT,A=os.d.ACCOUNT_ORDERS,y=os.d.TRACK_ORDER,_=Object(E.c)((function(e){return e.cartReducer})),D=Object(E.c)((function(e){return e.tenantReducer})),R=Object(E.c)((function(e){var t;return Object(T.wb)(null===(t=e.menuReducer)||void 0===t?void 0:t.data)})),w=(Object(T.wb)(R).categories,Object(i.useState)(!1)),L=Object(j.a)(w,2),k=L[0],P=L[1],M=Object(i.useState)(!1),F=Object(j.a)(M,2),H=F[0],U=F[1],B=Object(i.useState)({}),Y=Object(j.a)(B,2),G=Y[0],K=Y[1],V=_.cartData,W=void 0===V?{}:V,q=D.tenantId,z=D.currencyConversionFactor,Q=Object(E.b)(),J=Object(o.f)(),X={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:m,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return f(!1)},modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},Z=Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},X),{},{children:Object(u.jsx)("div",{className:"ReceiptModal",children:Object(i.createElement)($u,Object(a.a)(Object(a.a)({},e),{},{key:"receipt-".concat(n.id),orderItem:l}))})})),$={id:"OccassionModal",role:"dialog",modalTitleId:"OccassionModal",show:g,classNames:"Base-modal ".concat(Object(T.pb)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return x(!1)},modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ee=Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},$),{},{children:Object(u.jsx)("div",{className:"OccassionModal",children:Object(u.jsx)(Jm,{onCancel:function(){return x(!1)},cardInfo:n,tenantData:c,customerId:r})})})),te=Object(T.wb)(W).foodLines,ne=void 0===te?[]:te,ae=function(){ne.length>0?P(!0):(Q(Object(_t.o)()),U(!0))},ie=function(e){var t=Object(O.first)(Object(O.get)(e,"response",{}),{}),n=Object(T.wb)(l).id;K(t),Q(Object(on.a)({tenantId:q,orderId:n,customerId:r},ae))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(u.jsxs)("span",{className:"global-accordian-header mobile-accordian-header",children:[Object(u.jsx)("span",{className:l?"order-receipt-option":"order-receipt-Disable-option","data-testid":"view-receipt",onClick:function(){return f(!0)},children:Object(Ae.e)(C)}),Object(u.jsx)("span",{className:"order-ocasion-option","data-testid":"view-occasion-modal",onClick:function(){return x(!0)},children:Object(Ae.e)(I)})]}),Object(u.jsxs)("div",{className:Object(NO.g)(l)||Object(NO.i)(l)?"global-accordian-right":"btn-algn global-accordian-right",children:[Object(NO.n)(l)&&new Date(1e3*(null===l||void 0===l?void 0:l.fulfillmentDateTime)).getTime()>=(new Date).getTime()&&Object(u.jsxs)(ht.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){!function(){var e=Object(T.wb)(l);localStorage.setItem(S.P.ORDER_TRACKING,JSON.stringify(Object(NO.w)(q,e))),bl((null===e||void 0===e?void 0:e.total)/z),Object(T.ec)({history:J})}()},"data-testid":"track-order-btn",children:[Object(u.jsx)("img",{alt:"account-icon",src:il,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Ae.e)(y)})]}),Object(u.jsxs)(ht.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){!function(){if(!d){var e=Object(T.wb)(l),t=e.store,n=void 0===t?{}:t,a=e.service,i=void 0===a?"":a,c=Object(T.wb)(n).storeId,o=[{storeId:void 0===c?"":c,channel:wa.b.channel,service:i}];Q(Object(pl.a)(o,q,ie)),sessionStorage.setItem("reorderClick",!0)}}(),localStorage.setItem(S.k,A)},"data-testid":"re-order-btn",children:[Object(u.jsx)("img",{alt:"account-icon",src:il,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Ae.e)(N)})]})]})]}),m&&l&&Z,g&&ee,Object(T.ub)(k,H)&&Object(u.jsx)(Qu,{storeInfo:G,currentOrderInfo:n,reorderModalOpen:k,setReorderModalOpen:P,isQuickReorderModalOpen:H,setQuickReorderModalOpen:U})]})},Zm=n.p+"static/media/Favourite.00df2772.svg",$m=function(e){var t=e.cardInfo,n=e.tenantData,a=e.orderItemArray,i=e.favouriteItems,c=e.customerId,o=n.tenantId,r=n.currencySymbol,s=n.currencyConversionFactor,d=n.addHope,l=n.carryBag,b=t.id,v=a.find((function(e){return e.id===b}))||{},j=v.foodLines,m=void 0===j?[]:j,f=(v.total,Object(T.Q)(m,d,l)),p=Object(E.b)();return Object(u.jsx)(u.Fragment,{children:f.map((function(e){var t,a,d=e.item,l=d.mdmId,b=d.unitPrice,v=Object(O.find)(i,{mdmId:l});return Object(u.jsxs)("div",{className:"global-accordian-header-container order-section",children:[Object(u.jsx)("span",{className:"global-accordian-header mobile-order-details-section",children:Object(u.jsx)(A.a,{className:"order-item-img",defaultPath:Object(T.V)(null,n,!0),srcFile:Object(T.V)(d.imageName,n)})}),Object(u.jsxs)("span",{className:"product-details-section",children:[Object(u.jsxs)("span",{className:"product-title",children:[d.quantity,"x ",d.name]}),Object(u.jsx)("span",{className:"product-desc",children:(a=d,fl()(a,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return"".concat(e.quantity,"x ").concat(e.name)})).join())}),Object(u.jsxs)("span",{className:"product-price",children:[r,(t=b,(t/s).toFixed(2))]})]}),Object(u.jsx)("div",{className:"global-accordian-right","data-testid":"favourite-btn",onClick:function(){return function(e,t,n){var a=e.mdmId,i=e.id,r=e.name,d=e.imageName,l=e.longDescription,u=e.quantity,b=e.customizable,v=(e.unitPrice,e.customProperties);p(t?Object(Oi.b)({customerId:c,tenantId:o,itemId:i}):Object(Oi.a)({customerId:c,tenantId:o},{mdmId:a,id:i,name:r,imageName:d,description:l,quantity:u,isCustomized:b,price:(null===n||void 0===n?void 0:n.unitPrice)/s,additionalProperties:v}))}(d,v,e)},children:Object(u.jsx)("img",{src:v?ys:Zm,className:"account-icon"})})]})}))})},ef=function(e){var t=e.renderSwitch,n=e.updateMenu,a=Object(o.f)(),c=os.d.NO_ORDER_MSG,r=os.d.REFUND_MSG,s=os.d.HAVE_A_QUESTION,d=os.d.CONNECT_WITH_SPECIALIST,l=os.d.YOUR_PAST_ORDER,b=os.d.LOOKING_FOR_OFFER,v=os.d.ORDER_HISTORY_TAG,O=os.d.REFUND_INIT,f=os.d.GET_HELP,p=os.d.LOAD_MORE,h=os.d.VIEWED,g=os.d.OF,x=os.d.ORDER_LOOKUP,N=os.d.VIEW_MENU,I=Object(E.c)((function(e){return{tenantData:e.tenantReducer||{},orderHistoryInfo:e.orderHistoryReducer||{},orderInfo:e.orderReducer||{},customerInfo:e.profileReducer||{}}})),C=I.tenantData,S=I.orderHistoryInfo,A=I.orderInfo,y=I.customerInfo,_=Object(i.useState)(Object(T.Lb)(window.innerWidth)),D=Object(j.a)(_,2),R=D[0],w=D[1];Object(i.useEffect)((function(){return function(){localStorage.setItem("LoadMoreOrderHistory",!1)}}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(T.Lb)(window.innerWidth);w(e)}))}),[R]);var L=Object(E.b)(),k=C.tenantId,P=S.orderHistory,M=y.favouriteItems,F=y.customerId,H=y.favouriteOrders,U=void 0===H?[]:H,B=A.response,Y=A.isGetOrdersLoading,G=Object(i.useState)([]),K=Object(j.a)(G,2),V=K[0],W=K[1],q=Object(i.useState)([]),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(!1),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1];console.log("orders",V);var te=function(){var e=function(e){for(var t,n=["01","02","03","04","05","06","07","08","09","10","11","12"],a=[],i=new Date,c=i.getMonth()+1,o=e;o>0;o-=1){t=n[new Date(i.getFullYear(),c-o,1).getMonth()];var r=i.getFullYear();t>c&&(r-=1),a.push({yearMonth:"".concat(r,"-").concat(t)})}return a}(12);L(Object(Mj.d)({customerId:F,tenantId:k},e))};Object(i.useEffect)((function(){k&&!m.a.isEmpty(Lr.d)&&te()}),[k,F,Lr.d]),Object(i.useEffect)((function(){var e=Q.find((function(e){return e.id===B.id}))||{};Object(T.Fb)(e)||J([].concat(Object(vo.a)(Q),[B]))}),[B]),Object(i.useEffect)((function(){ne(10)}),[P]);var ne=function(e){if(P&&m.a.isArray(P)){var t=null===P||void 0===P?void 0:P.sort((function(e,t){return t.orderDateTimeInEpoch-e.orderDateTimeInEpoch}));W(Object(vo.a)(t).splice(0,e))}else W([])},ae=function(e,t){var n=Q.find((function(e){return e.id===t}))||{};Object(T.Fb)(n)||L(Object(gt.c)({orderId:t,tenantId:k}));var a=e.target.parentElement.parentElement.parentElement;a.classList.contains("account-accordian-open")?a.classList.remove("account-accordian-open"):a.classList.add("account-accordian-open")},ie=function(){a.push("/help")},ce=Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-refund-section",children:[Object(u.jsx)("span",{className:"global-accordian-header",children:Object(u.jsx)("span",{className:"order-refund-msg",children:Object(Ae.e)(r)})}),Object(u.jsx)("div",{className:"global-accordian-right",children:Object(u.jsx)(ht.a,{className:"button transparent-btn","aria-label":"","data-testid":"get-Help-Btn",type:"submit",onClickHandler:ie,children:Object(u.jsx)("span",{children:Object(Ae.e)(f)})})})]}),oe=Object(u.jsxs)("div",{className:"pageFooter",children:[V.length>0&&P.length>V.length&&P.length>10&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"load-more",children:Object(u.jsx)(ht.a,{className:"button transparent-btn footer-btn","data-testid":"load-more-btn","aria-label":"",onClickHandler:function(){return ne(P.length)},children:Object(u.jsx)("span",{children:Object(Ae.e)(p)})})}),Object(u.jsx)("div",{className:"view-order-count",children:Object(u.jsx)("span",{children:"".concat(Object(Ae.e)(h)," ").concat(V.length," ").concat(Object(Ae.e)(g)," ").concat(P.length)})})]}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"get-help-section",children:[Object(u.jsxs)("div",{className:"footer-bootm-left",children:[Object(u.jsx)("span",{className:"have-a-question",children:Object(Ae.e)(s)}),Object(u.jsx)("span",{className:"connect-specialist",children:Object(Ae.e)(d)})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ht.a,{className:"button transparent-btn footer-btn","aria-label":"",onClickHandler:ie,children:Object(u.jsx)("span",{children:Object(Ae.e)(f)})})})]})]});return Object(u.jsxs)(u.Fragment,{children:[R&&Object(u.jsxs)("div",{className:"order-history-header",children:[Object(u.jsx)("img",{src:Gm,className:"back-icon","data-testid":"order-history-back-btn",data:!0,onClick:function(){t(),n("")}}),Object(u.jsx)("span",{className:"page-heading",children:Object(Ae.e)(v)})]}),Object(u.jsxs)("div",{className:"account-order-desktop",children:[Object(u.jsxs)("div",{className:"page-header",children:[Object(u.jsx)("span",{className:"page-heading",children:Object(Ae.e)(v)}),Object(u.jsxs)("div",{className:"headingItemsRight",children:[Object(u.jsx)("span",{className:"heading-item-text",children:Object(Ae.e)(b)}),Object(u.jsx)(ht.a,{className:"button transparent-btn order-lookup","data-testid":"order-lookup-order-history",type:"submit",onClickHandler:function(){L(Object(gt.a)({})),ee(!0)},children:Object(u.jsx)("span",{children:Object(Ae.e)(x)})})]})]}),V.length>0&&Object(u.jsxs)("div",{className:"sub-section",children:[Object(u.jsxs)("span",{className:"sub-heading-text",children:[Object(Ae.e)(l)," (",P.length,")"]}),Object(u.jsx)("section",{children:V.map((function(e,t){return Object(u.jsx)("section",{className:"account-accordian",children:Object(u.jsxs)(zm,{onClickHandler:ae,cardInfo:e,dataTestId:"order-details-".concat(t),favouriteOrders:U,tenantData:C,children:[e.status===O&&ce,Object(u.jsxs)("section",{className:"account-accordian-details-section",children:[Object(u.jsx)("div",{className:"option-section",children:Object(u.jsx)($m,{cardInfo:e,tenantData:C,orderItemArray:Q,favouriteItems:M,customerId:F},t)}),Object(u.jsx)(Xm,{isMobile:R,orderItemArray:Q,cardInfo:e,tenantData:C,customerId:F,isGetOrdersLoading:Y},"Reorder-".concat(t))]})]})})}))})]}),0===V.length&&Object(u.jsx)("div",{className:"sub-section sub-section-no-order",children:Object(u.jsxs)("div",{className:"no-order",children:[Object(u.jsx)("span",{className:"no-order-msg",children:Object(Ae.e)(c)}),Object(u.jsx)("div",{children:Object(u.jsx)(ht.a,{className:"button transparent-btn view-menu-btn","aria-label":"","data-testid":"goto-menu-page-btn",onClickHandler:function(){a.push("/menu")},children:Object(u.jsx)("span",{children:Object(Ae.e)(N)})})})]})}),oe,$&&Object(u.jsx)(Oa,{isOpen:!0,handleClose:function(){return ee(!1)},tenantReducerData:C})]})]})},tf=function(e){var t,n,c=e.communicationPreferences,o=e.basicData,r=e.tenantId,s=os.b.COMMUNICATION_PREFERENCES_TEXT,d=os.b.SAVE,l=Object(E.c)((function(e){return e.marketConfigReducer.response||null})),b=Object(i.useState)([]),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(E.b)();Object(i.useEffect)((function(){var e,t,n,i=[];null===l||void 0===l||null===(e=l.headerData)||void 0===e||null===(t=e.communicationPreferences)||void 0===t||t.map((function(e){var t,n,a;i.push({mainText:null===(t=e.fields)||void 0===t?void 0:t.value,subText:null===(n=e.fields)||void 0===n?void 0:n.subValue,checked:!!(null===c||void 0===c?void 0:c.find((function(t){var n;return t===(null===(n=e.fields)||void 0===n?void 0:n.code)}))),code:null===e||void 0===e||null===(a=e.fields)||void 0===a?void 0:a.code})})),(null===o||void 0===o||null===(n=o.marketingPreferences)||void 0===n?void 0:n.length)>0?m(i.map((function(e){return o.marketingPreferences.find((function(t){return t===e.code}))?Object(a.a)(Object(a.a)({},e),{},{checked:!0}):e}))):m(i)}),[null===l||void 0===l||null===(t=l.headerData)||void 0===t||null===(n=t.communicationPreferences)||void 0===n?void 0:n.length]);var p=function(e){var t=O.map((function(t){return t.code===e.target.value?Object(a.a)(Object(a.a)({},t),{},{checked:!t.checked}):t}));m(t)};return Object(u.jsxs)("div",{className:"preferences-card",children:[Object(u.jsx)("div",{className:"preferences-card-left-side",children:Object(Ae.e)(s)}),Object(u.jsxs)("div",{className:"preferences-card-right-side",children:[Object(u.jsx)("p",{children:"Colonels Club"}),Object(u.jsx)("p",{children:"(member since 2016)"}),Object(u.jsx)("div",{className:"horizontal-line-club"}),Object(u.jsx)("div",{className:"preferences-container",children:Object(u.jsx)("ul",{className:"preferences-item",children:null===O||void 0===O?void 0:O.map((function(e){return Object(u.jsxs)("li",{className:"preferences-item-list",children:[Object(u.jsx)("input",{id:e.code,type:"checkbox",value:e.code,checked:e.checked,"data-testid":"communication-preferences-".concat(e.mainText,"-test"),onChange:p}),Object(u.jsxs)("div",{className:"preferences-text",children:[Object(u.jsx)("label",{htmlFor:e.mainText,children:e.mainText}),""!==e.subText&&Object(u.jsx)("span",{className:"preference-subText",children:e.subText})]})]},e.code)}))})}),Object(u.jsx)(ht.a,{className:"save-account-button","data-testid":"save-communication-preferences",onClickHandler:function(){var e=[];O.forEach((function(t){if(t.checked)return e.push(t.code)})),Object(hd.e)(e),f(Object(h.f)({tenantId:r,customerId:null===o||void 0===o?void 0:o.id,phoneNumber:null===o||void 0===o?void 0:o.phone,body:{marketingPreferences:e}}))},children:Object(Ae.e)(d)})]})]})},nf=function(e){var t,n,o,r,s,d=e.handleClose,l=e.customerData,b=e.updateCustomerData,v=e.isLoading,O=os.a.EDIT_PERSONAL_INFO,m=os.a.emailHelpText,f=os.a.phoneHelpText,p=os.a.firstNameHelpText,h=os.a.lastNameHelpText,g=os.a.SAVE,x=os.a.CANCEL,N=os.a.FIRST_NAME_TEXT,E=os.a.LAST_NAME_TEXT,T=os.a.EMAIL_TEXT,I=os.a.PHONE_NUMBER_TEXT,C=Object(i.useState)({firstName:null===l||void 0===l?void 0:l.firstName,lastName:null===l||void 0===l?void 0:l.lastName,emailId:null===l||void 0===l?void 0:l.email,phoneNumber:null===l||void 0===l?void 0:l.phone}),S=Object(j.a)(C,2),A=S[0],y=S[1],_=function(e){"phoneNumber"===e.target.name&&e.target.value.length>10||y(Object(a.a)(Object(a.a)({},A),{},Object(Le.a)({},e.target.name,e.target.value)))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{classNames:"personal-information-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:d,modalTitleRequired:!0,modalTitle:Object(Ae.e)(O),children:Object(u.jsxs)("div",{className:"personal-information-card",children:[Object(u.jsx)("p",{className:"personal-information-text",children:"PERSONAL INFORMATION"}),Object(u.jsx)(At,{name:"firstName",placeholder:Object(Ae.e)(N),value:null===A||void 0===A?void 0:A.firstName,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(t=A.firstName)||void 0===t?void 0:t.length)>0&&!gm(null===A||void 0===A?void 0:A.firstName),helperText:Object(Ae.e)(p),helperTextClassName:"error-text",maxlength:"20"}),Object(u.jsx)(At,{name:"lastName",placeholder:Object(Ae.e)(E),value:null===A||void 0===A?void 0:A.lastName,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(n=A.lastName)||void 0===n?void 0:n.length)>0&&!gm(null===A||void 0===A?void 0:A.lastName),helperText:Object(Ae.e)(h),helperTextClassName:"error-text",maxlength:"20"}),Object(u.jsx)(At,{name:"emailId",type:"email",placeholder:Object(Ae.e)(T),value:null===A||void 0===A?void 0:A.emailId,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(o=A.emailId)||void 0===o?void 0:o.length)>0&&!xm(A.emailId),helperText:Object(Ae.e)(m),helperTextClassName:"error-text",maxlength:"320"}),Object(u.jsx)(At,{readOnly:(null===l||void 0===l||null===(r=l.phone)||void 0===r?void 0:r.length)>0,name:"phoneNumber","data-testid":"phone-number-testid",placeholder:Object(Ae.e)(I),value:null===A||void 0===A?void 0:A.phoneNumber,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(s=A.phoneNumber)||void 0===s?void 0:s.length)>0&&!Nm(null===A||void 0===A?void 0:A.phoneNumber),helperText:Object(Ae.e)(f),helperTextClassName:"error-text"}),Object(u.jsxs)("div",{className:"buttons-container",children:[Object(u.jsx)(ht.a,{className:"buttons-group cancel",onClickHandler:d,children:Object(Ae.e)(x)}),Object(u.jsx)(ht.a,{className:"buttons-group save",disabled:v||!Tm({firstNameText:A.firstName,lastNameText:A.lastName,phoneNoText:A.phoneNumber,emailText:A.emailId}),"data-testid":"update-account-button-testid",onClickHandler:function(){return b(A)},children:Object(Ae.e)(g)})]})]})})})},af=function(e){var t=e.basicData,n=e.isLoading,a=os.a.PERSONAL_INFO_TEXT,c=os.a.EDIT,o=Object(i.useState)(!1),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(E.c)((function(e){return e.tenantReducer})),b=Object(E.c)((function(e){return e.authReducer})),v=Object(E.c)((function(e){return e.profileReducer.customerId})),O=Object(E.b)();return Object(u.jsxs)("div",{className:"personal-info-card",children:[Object(u.jsx)("div",{className:"personal-card-left-side",children:Object(Ae.e)(a)}),Object(u.jsxs)("div",{className:"personal-card-right-side",children:[Object(u.jsx)("div",{className:"edit-input",children:Object(u.jsx)(H,{"data-testid":"edit-account-button-testid",onClickHandler:function(){d(!0)},children:Object(Ae.e)(c)})}),Object(u.jsxs)("p",{children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),Object(u.jsx)("p",{children:t.email}),Object(u.jsx)("p",{children:Object(T.r)(null===t||void 0===t?void 0:t.phone)})]}),s&&Object(u.jsx)(nf,{handleClose:function(){d(!1)},isLoading:n,customerData:t,updateCustomerData:function(e){Object(hd.c)(e),O(Object(h.g)({tenantId:null===l||void 0===l?void 0:l.tenantId,customerId:v,token:"Bearer ".concat(null===b||void 0===b?void 0:b.token),body:e})),d(!1)}})]})},cf=n.p+"static/media/SingleArrowback.99fd8fc5.svg",of=function(e){var t=e.handleClose,n=e.deleteAccountCallback,a=os.a.DELETE_ACCOUNT_TEXT,i=os.a.DELETE_ACCOUNT_MESSAGE,o=os.a.CANCEL,r=os.a.CONFIRM;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(pt,{classNames:"confirm-delete-account-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:t,modalTitleRequired:!1,children:Object(u.jsxs)("div",{className:"confirm-delete-account-content",children:[Object(u.jsx)("p",{className:"main-heading",children:Object(Ae.e)(a)}),Object(u.jsx)("p",{className:"delete-account-text",children:Object(Ae.e)(i)}),Object(u.jsxs)("div",{className:"buttons-container",children:[Object(u.jsx)(ht.a,{className:"buttons-group cancel",onClickHandler:t,children:Object(Ae.e)(o)}),Object(u.jsx)(ht.a,{className:"buttons-group save",onClickHandler:n,"data-testid":"delete-account-confirm",children:Object(Ae.e)(r)})]})]})})})},rf=function(e){var t=e.updateMenu,n=os.a.ACCOUNT_SETTINGS_TEXT,a=os.a.DELETE_ACCOUNT_TEXT,c=Object(E.b)(),r=Object(o.f)(),s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(E.c)((function(e){return e.profileReducer||null})),O=Object(E.c)((function(e){return e.tenantReducer}));return Object(u.jsxs)("div",{className:"account-settings-container",children:[Object(u.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting",onClick:function(){return t("")},src:cf}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Ae.e)(n)})]}),Object(u.jsx)("p",{className:"account-setting-text-heading",children:Object(Ae.e)(n)}),Object(u.jsx)(af,{basicData:null===v||void 0===v?void 0:v.basic,isLoading:null===v||void 0===v?void 0:v.isLoading}),Object(u.jsx)(tf,{tenantId:null===O||void 0===O?void 0:O.tenantId,communicationPreferences:null===v||void 0===v?void 0:v.marketingPreferences,basicData:null===v||void 0===v?void 0:v.basic}),Object(u.jsx)(ht.a,{"data-testid":"delete-button-testid",className:"delete-account-button",onClickHandler:function(){b(!0),st({popupTitle:Object(Ae.e)(a)})},children:Object(Ae.e)(a)}),l&&Object(u.jsx)(of,{handleClose:function(){b(!1)},deleteAccountCallback:function(){Object(hd.b)(null===v||void 0===v?void 0:v.customerId),c(Object(h.c)({tenantId:null===O||void 0===O?void 0:O.tenantId,customerId:null===v||void 0===v?void 0:v.customerId,sucessCallback:function(){localStorage.clear(),r.replace({pathname:"/signout",state:"DELETE"})}})),b(!1)}})]})},sf=n(51),df=function(e){var t=e.occassionOrder,n=e.checkProductAvailabity,o=e.additemToUnfavourite,r=e.addItemToFavourite,s=e.availableProductPrice,d=e.getPrice,l=Object(E.c)((function(e){return e.tenantReducer||null})),b=l.tenantId,v=l.currencySymbol,O=l.addHope,m=l.carryBag,f=Object(E.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||null})),p=Object(E.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic.id)||null})),h=Object(E.c)((function(e){var t,n;return(null===(t=e.menuReducer)||void 0===t||null===(n=t.flatResponse)||void 0===n?void 0:n.items)||[]})),g=Object(i.useState)([]),x=Object(j.a)(g,2),N=x[0],I=x[1],C=t.items;return Object(i.useEffect)((function(){var e=C.filter((function(e){return(null===e||void 0===e?void 0:e.name)!==O&&(null===e||void 0===e?void 0:e.name)!==m}));I(e)}),[t]),Object(u.jsx)(c.a.Fragment,{children:N.map((function(e,t){var i,c,j,O,m,g=e.customProperties||[],x=n(e.id),N=Object(T.d)(e.id,h),E=d(s(e.id)),I=d(e.priceWithTax)-E;g.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Le.a)({},n,"True"===i||"False"!==i&&i))}),{});return Object(u.jsx)("section",{className:x?"account-accordian-details-section":"account-accordian-details-section product-unavailable",children:Object(u.jsxs)("div",{className:"option-section option-section-fav-menu",children:[Object(u.jsx)(A.a,{className:"favourite-order-img",srcFile:Object(T.V)(e.imageName,l),alt:"No-Image",defaultPath:Object(T.V)(null,l,!0)}),Object(u.jsxs)("div",{className:"favourite-order-details",children:[Object(u.jsx)("span",{className:"order-item-name",children:e.name}),Object(u.jsx)("div",{className:"fav-order-details",children:e.modGroups&&e.modGroups.map((function(e,t){return Object(u.jsx)("span",{children:e&&e.modifiersDetails.map((function(e,t){return Object(u.jsxs)("span",{children:[" ",e.quantity,"x ",e.name]})}))})}))}),x&&Object(u.jsx)("div",{className:"occasion-item-price",children:0!==I?Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{className:"prev-price",children:[v,null===(i=d(e.price))||void 0===i?void 0:i.toFixed(2)]}),"  ",Object(u.jsxs)("span",{className:"new-current-price",children:[v,null===(c=d(null===(j=N[0])||void 0===j?void 0:j.availability[0].price))||void 0===c?void 0:c.toFixed(2)]})]}):Object(u.jsxs)("span",{className:"current-price",children:[v,null===(O=d(null===(m=N[0])||void 0===m?void 0:m.availability[0].price))||void 0===O?void 0:O.toFixed(2)]})}),!x&&Object(u.jsxs)("div",{className:"occasion-item-price-unavailable",children:[Object(u.jsx)("img",{src:an,alt:"Item Unavailable"})," ","Unavailable"]})]}),Object(u.jsx)("div",{className:"occasion-fav-item",children:Object(u.jsx)("img",{src:Array.isArray(f)&&f.find((function(t){return(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e?void 0:e.id)}))?ns:as,alt:"",className:"pdp-product-save","data-testid":"save-product-handler-".concat(t),onClick:function(){return Array.isArray(f)&&f.find((function(t){return(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e?void 0:e.id)}))?o(b,p,e.id):r(b,e,null===e||void 0===e?void 0:e.availability,p)}})})]})})}))})},lf=function(e){var t=e.isOpen,n=e.handleClose,a=e.occasionName,o=e.onSaveOccassion,r=e.onChangeOccasionName,s=e.occasionNameResponse,d=e.handleClearEditInput,l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=os.d.CANCEL,f=os.d.SAVE,p=os.d.EDIT_OCCASSION_DIALOG_TITLE,h=os.d.OCCASSION_LABEL,g=os.d.SAME_OCCASSIONNAME_ERROR,x=os.d.EMPTY_OCCASSION_FIELD_ERROR;return Object(u.jsx)(c.a.Fragment,{children:t&&Object(u.jsxs)(pt,{show:t,showCloseBtn:!0,closeButtonHandler:function(){n(),O(!1)},classNames:"edit-occasion-modal",autoFocus:!0,children:[Object(u.jsx)("h1",{children:Object(Ae.e)(p)}),Object(u.jsxs)("div",{className:"edit-occassion-input-container",children:[Object(u.jsx)("label",{for:"occasion-name",children:Object(Ae.e)(h)}),Object(u.jsx)("input",{type:"text",id:"occasion-name","data-testid":"occasion-input",name:"occasion-name",value:a,onChange:function(e){r(e),O(!0)}}),Object(u.jsx)("img",{src:_b,alt:"Clear Icon",className:"edit-input-clear-icon",onClick:d})]}),v&&a===s&&Object(u.jsx)("div",{className:"errorMessageEditOccasion",children:Object(Ae.e)(g)}),0===a.length&&Object(u.jsx)("div",{className:"errorMessageEditOccasion",children:Object(Ae.e)(x)}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(ht.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:n,children:Object(Ae.e)(m)}),Object(u.jsx)(ht.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",disabled:a===s||0===a.length,onClick:o,children:Object(Ae.e)(f)})]})]})})};lf.defaultProps={isOpen:!1};var uf=lf,bf=n.p+"static/media/heart_favIcon_active_white.707ea51a.svg",vf=function(e,t){return e?"cardwithQuantity "+t:"cardwithNoquantity"},jf=function(e){var t,n,a,o,r,s,d,l,b,v,O,m=e.isProductAvailable,f=e.catalogueData,p=e.maxItemCountPerLineItem,h=e.product,g=e.customerId,x=e.differencePrice,N=e.currencySymbol,C=e.additionalProperties,y=e.addItemToUnFavouriteFunction,_=e.addToCartFunction,D=e.userParams,R=e.getPrice,w=e.storeClosedData,L=mi.a.RESET_MODGROUP_IDS_UPDATE,k=_e.a.MINI_PDP_DATA,P=_e.a.FROMFLAGEDIT,M=_e.a.EDIT_CLICKED,F=Object(i.useState)(Object(T.Lb)(window.innerWidth)),H=Object(j.a)(F,2),U=H[0],B=H[1],Y=os.d.ITEM_UNAVAILABLE,G=sr.ITEM_QUANTITY,K=kn.a.QUANTITY_ACTION,V=Object(E.c)((function(e){return e.cartReducer})),W=Object(T.wb)(V).cartData,q=void 0===W?{}:W,z=Object(i.useState)(0),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(null),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(0),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=Object(i.useState)(0),re=Object(j.a)(oe,2),se=re[0],de=re[1],le=Object(i.useState)(!1),ue=Object(j.a)(le,2),be=ue[0],ve=ue[1],je=Object(i.useState)([]),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(""),he=Object(j.a)(pe,2),ge=he[0],xe=he[1],Ne=Object(E.c)((function(e){var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),Ee=Object(i.useState)(!1),Te=Object(j.a)(Ee,2),Ie=Te[0],Ce=Te[1],Se=Ne.categories,ye=void 0===Se?[]:Se,De=Object(i.useContext)(I.a).userOrderStateDispatch,Re=Object(T.pb)(D.loggedIn,S.Bb,""),we=Object(E.b)(),Le=Object(E.c)((function(e){return e})).tenantReducer,ke=Le.tenantId,Pe=Le.currencyConversionFactor,Me=(Ii(void 0,void 0,void 0,ye,De,void 0,void 0).showCartAlert,function(e){if(null===q||void 0===q?void 0:q.id){var t=null===q||void 0===q?void 0:q.foodLines.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id)===e}));fe(t)}xe(e),ve(!0)}),Fe=function(e,t){var n,a,i=Number((se/Pe).toFixed(2)),c={foodName:null===(n=f[0])||void 0===n?void 0:n.name,foodItemId:null===(a=f[0])||void 0===a?void 0:a.mdmId,cartPrice:i,modifiers:[],quantity:J,foodLineId:ee},o=Ii({cartId:q.id},ke,void 0,ye,De,we,void 0).itemQuantityHandler;t===K.Increase?h.isCustomized?Me(null===c||void 0===c?void 0:c.foodItemId):o(c,K.Increase):ie>1?Me(null===c||void 0===c?void 0:c.foodItemId):o(c,K.Decrease)},Ue=function(){B(Object(T.Lb)(window.innerWidth))};Object(i.useEffect)((function(){window.addEventListener("resize",Ue)}),[U]);Object(i.useEffect)((function(){var e=Object(T.Fb)(q)?Object(T.bb)(h.id,q):{},t=Object(T.pb)(Object(T.Fb)(e),e.count,0),n=Object(T.pb)(Object(T.Fb)(e),e.matchedItemFoodLineId,""),a=Object(T.pb)(Object(T.Fb)(e),e.entriesCount,0),i=Object(T.pb)(Object(T.Fb)(e),e.itemUnitPrice,"");X(t),te(n),ce(a),de(i)}),[q,h.id]);var Be=function(e){return Object(u.jsxs)("div",{className:"medium-menu-vegOrNonVeg",children:[(null===e||void 0===e?void 0:e.veg)?Object(Ae.e)(He.VEG):Object(Ae.e)(He.NON_VEG),(null===e||void 0===e?void 0:e.servings)&&Object(u.jsx)("div",{className:"Dot"}),He.SERVES,null===e||void 0===e?void 0:e.servings]})},Ve=function(e,t){var n,a;return Object(u.jsx)("div",{className:"medium-menu-product-price",children:e?Object(u.jsx)("span",{className:"price-difference-container",children:0!==x?Object(u.jsxs)("span",{className:"prev-price",children:[N,h.price]})-Object(u.jsxs)("span",{className:"new-current-price",children:[N,R(null===(n=t[0])||void 0===n?void 0:n.availability[0].price)]}):Object(u.jsxs)("span",{className:"current-price",children:[N,R(null===(a=t[0])||void 0===a?void 0:a.availability[0].price)]})}):""})},We=function(){var e,t;1===J?(De({type:k,value:{id:null===(e=f[0])||void 0===e?void 0:e.mdmId,flag:P,foodLineId:ee}}),De({type:L}),De({type:M,value:{cartEditClicked:!1}}),we(Object(Oi.c)({tenantId:ke,catalogName:null===q||void 0===q?void 0:q.catalog,itemId:null===(t=f[0])||void 0===t?void 0:t.mdmId})),we(Object(_t.s)({showProductListingModal:!0,categorySelected:h.id.split("-")[0]}))):(!function(){var e;h.isCustomized&&Me(null===(e=f[0])||void 0===e?void 0:e.mdmId)}(),Ce(!0),ve(!0))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:m?"medium-menu-container medium-menu-container-fav-menu":"medium-menu-container medium-menu-container-fav-menu medium-menu-container-fav-menu-disabled",children:[Object(u.jsx)("div",{className:"product-container",children:Object(u.jsxs)("div",{className:"medium-menu-product-card product-card-active","data-testid":"",children:[m?Object(u.jsx)(A.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(T.V)(null===(t=f[0])||void 0===t?void 0:t.imageName,Le),alt:"No-Image",defaultPath:Object(T.V)(null,Le,!0)}):Object(u.jsx)(A.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(T.V)(h.imageName,Le),alt:"No-Image",defaultPath:Object(T.V)(null,Le,!0)}),Object(u.jsx)("div",{className:"discount-product-ribbon"}),Object(u.jsx)("span",{className:"discount-ribbon-text"}),Object(u.jsx)("img",{src:bf,alt:"favourite menu product",className:"menu-product-save","data-testid":"on-image-fav",onClick:function(){return y(ke,g,h.id)}}),Object(u.jsxs)("div",{className:"menu-card-content menu-card-content-fav","data-testid":"menu-card-content-pdp-nav",children:[Object(u.jsx)("div",{className:"medium-menu-product-header",children:m?null===(n=f[0])||void 0===n?void 0:n.name:h.name}),U?Object(u.jsxs)("div",{className:"product-details-mobile-view",children:[Object(u.jsxs)("div",{className:"medium-menu-product-description",id:"longDescription",children:[m?null===(s=f[0])||void 0===s||null===(d=s.longDescription[0])||void 0===d?void 0:d.value:null===(l=h.description[0])||void 0===l?void 0:l.value," "]}),Object(u.jsxs)("div",{className:"price-veg-nonveg",children:[Ve(m,f),Be(C),Object(u.jsx)("div",{className:"heart-icon",children:m?Object(u.jsx)("img",{src:ns,alt:"favourite menu product",className:"mobile-fav-menu-style","data-testid":"mobile-view-fav",onClick:function(){return y(ke,g,h.id)}}):Object(u.jsx)("img",{src:ns,alt:"un-favourite menu product",className:"mobile-fav-menu-style-unavailable","data-testid":"unavailable-fav",onClick:function(){return y(ke,g,h.id)}})})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:"menu-vegOrNonVeg-icon",src:(null===C||void 0===C?void 0:C.veg)?Cs:Is,alt:"favourite menu product-vegOrNonVeg-icon"}),Be(C),Ve(m,f),Object(u.jsx)("div",{className:"medium-menu-product-description",id:"longDescription",children:m?null===(a=f[0])||void 0===a||null===(o=a.longDescription[0])||void 0===o?void 0:o.value:null===(r=h.description[0])||void 0===r?void 0:r.value})]})]}),Object(u.jsxs)("div",{className:"quantityAddtocart ".concat(vf(J,Re)),children:[!!J&&function(e,t,n){return Object(u.jsx)(is,{itemCount:e,itemQuantity:G,updateItemQuantity:t,quantityAction:K,item:void 0,maxItemCountPerLineItem:n,cartItemCount:1})}(J,Fe,p),m&&Object(u.jsx)("div",{className:"cart-btn-container",children:Object(u.jsx)("div",{className:Vs(J,Re),children:J<1?Object(u.jsxs)("button",{disabled:fs(w),onClick:function(e){var t;return _(e,h,{productName:f[0].dname,productImage:f[0].imageName,productPrice:R(null===(t=f[0])||void 0===t?void 0:t.availability[0].price)})},className:"button activeBtn redButton medium-menu-cart-button ","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-fav-menu",children:[ps(w).btnText,Object(T.k)(w.isStoreClosed)]}):h.isCustomized&&Object(u.jsx)("span",{className:"edit-selection","data-testid":"edit-section-fav-menu",onClick:function(){return We()},children:Object(Ae.e)(Ye)})})}),!m&&Object(u.jsx)("div",{className:"cart-btn-container",children:Object(u.jsx)("div",{className:"cardButtonOnly",children:Object(u.jsx)("button",{disabled:!0,className:"button activeBtn redButton medium-menu-cart-button medium-menu-cart-button-disabled","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-L-402983",children:Object(Ae.e)(Y)})})})]})]})}),be&&Object(u.jsx)(Ts,{isFavouriteMenu:!0,handleClose:function(){ve(!1),Ce(!1)},filteredPreviousData:me,updateItemQuantity:Fe,tenantData:Le,dname:null===(b=f[0])||void 0===b?void 0:b.dname,clickHandler:_,cardId:h.id,itemCount:J,availability:null===(v=f[0])||void 0===v?void 0:v.availability,imageName:null===(O=f[0])||void 0===O?void 0:O.imageName,itemFoodlineId:ee,customizable:h.isCustomized,setOpenCostomizedModal:ve,openCostomizedModal:be,cartData:q,product:h,foodId:ge,isEditSelection:Ie,headerText:Ie?Object(Ae.e)(Ge):Object(Ae.e)(Ke),categoryId:h.id.split("-")[0]})]})})},Of=function(e){var t,n,o=e.limitSize,r=e.checkProductAvailabity,s=e.availableProductPrice,d=e.getPrice,l=Object(i.useContext)(I.a).userOrderState,b=Object(i.useState)(!1),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useMemo)((function(){return Object(T.Eb)(l.currentStoreInfo)?Object(T.b)(localStorage.getItem("currentStoreInfo")):l.currentStoreInfo}),[l.currentStoreInfo]),p=Object(T.wb)(null===f||void 0===f||null===(t=f.summary)||void 0===t?void 0:t.timings),h=p.futureDates,g=p.scheduled,x=p.asap,N=Object(T.wb)(g).unavailibilities,C=Object(T.wb)((null===g||void 0===g||null===(n=g.periods)||void 0===n?void 0:n.length)&&(null===g||void 0===g?void 0:g.periods[0])),S=C.interval,A=void 0===S?0:S,y=C.startEndTime,_=void 0===y?{}:y,D=_.from,R=_.to,w=Object(i.useCallback)((function(){if(Object(T.Fb)(f)){var e,t,n=null===(e=f.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=$i(D,R,A,null===x||void 0===x?void 0:x.isAvailable,1===(null===h||void 0===h?void 0:h.length)&&(null===P||void 0===P?void 0:P.toUpperCase())===nt,N);"CLOSED"!==n||a.length?m(!1):m(!0)}else m(!1)}),[f]);Object(i.useEffect)((function(){w()}),[w]);var L=Object(E.c)((function(e){return e.tenantReducer||{}})),k=L.country,P=void 0===k?"":k,M=L.currencySymbol,F=L.maxItemCountPerLineItem,H=Object(E.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),U=Object(E.c)((function(e){var t,n;return(null===(t=e.profileReducer)||void 0===t||null===(n=t.basic)||void 0===n?void 0:n.id)||""})),B=Object(E.c)((function(e){var t,n;return(null===(t=e.menuReducer)||void 0===t||null===(n=t.flatResponse)||void 0===n?void 0:n.items)||[]}));return Object(u.jsx)(c.a.Fragment,{children:H.slice(0,o).map((function(t,n){var i,c=Object(T.d)(t.id,B),o=r(t.id),l=c?null===(i=c[0])||void 0===i?void 0:i.additionalProperties:null===t||void 0===t?void 0:t.additionalProperties,b=d(s(t.id)),v=t.price-b,j=l&&l.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Le.a)({},n,"True"===i||"False"!==i&&i))}),{});return Object(u.jsx)(jf,Object(a.a)(Object(a.a)({isProductAvailable:o,catalogueData:c,maxItemCountPerLineItem:F,product:t,customerId:U,differencePrice:v,currencySymbol:M,additionalProperties:j},e),{},{"data-testid":"favourite-menu-card-".concat(t.id),storeClosedData:{isStoreClosed:O}}))}))})},mf=function(e){var t,n,a,c,r,s,d,l=e.isMobile,b=e.updateMenu,v=Object(E.b)(),m=Object(o.f)(),f=os.d.LOAD_MORE,p=os.d.ADD_ITEM_TO_CART_TEXT,g=mi.a.RESET_MODGROUP_IDS_UPDATE,x=_e.a.MINI_PDP_DATA,N=_e.a.FROMFLAGPLP,C=_e.a.EDIT_CLICKED,y=_e.a.ADD_TO_CART_CLICK,_=Object(i.useContext)(I.a),D=_.userOrderState,R=_.userOrderStateDispatch,w=Object(i.useState)(!1),L=Object(j.a)(w,2),k=(L[0],L[1]),P=Object(i.useState)(""),M=Object(j.a)(P,2),F=M[0],H=M[1],U=Object(i.useState)(9),B=Object(j.a)(U,2),Y=B[0],G=B[1],K=Object(i.useState)(""),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(""),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(E.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),$=Object(E.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),ee=Object(E.c)((function(e){var t;return Object(T.wb)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),te=ee.id,ne=ee.phone,ae=Object(E.c)((function(e){return e.tenantReducer||{}})),ie=ae.tenantId,ce=ae.currencyConversionFactor,oe=(ae.currencySymbol,Object(E.c)((function(e){return e.tenantReducer}))),re=Object(E.c)((function(e){return e.cartReducer})),se=Object(E.c)((function(e){var t,n;return(null===(t=e.menuReducer)||void 0===t||null===(n=t.flatResponse)||void 0===n?void 0:n.items)||[]})),de=Object(E.c)((function(e){var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})).categories,le=void 0===de?[]:de,ue=Object(E.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails})),be=Object(E.c)((function(e){return e.appStateReducer.userStatus})),Oe=Object(i.useState)(!1),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=os.d.ORDER_HISTORY_TAG,ge=os.d.VIEW_ORDER_HISTORY_BTN,xe=os.d.MY_OCCASSION_TEXT,Ne=os.d.MY_OCCASSION_UNAVAILABLE_TITLE,Ee=os.d.DELETE_OCCASSION_TEXT,Te=os.d.REORDER_TEXT,Ie=os.d.MY_FAVOURITE_MENU_TITLE_TEXT,Ce=os.d.MY_FAVOURITE_NO_ITEMS_TEXT,Se=os.d.MY_FAVOURITE_BROWSE_MENU,ye=(os.d.ACCOUNT_FAV_PAGE,os.d.MY_FAV_MENU),Re=os.d.UNFAVOURITE_ITEM_MESSAGE,we=Object(T.N)(Object(O.get)(re,"cartData",{})),Le=Object(i.useState)(!1),ke=Object(j.a)(Le,2),Pe=ke[0],Me=ke[1],Fe=Object(i.useState)(!1),He=Object(j.a)(Fe,2),Ue=He[0],Be=He[1],Ye=Object(i.useState)({}),Ge=Object(j.a)(Ye,2),Ke=Ge[0],Ve=Ge[1],We=Object(i.useState)({}),qe=Object(j.a)(We,2),ze=qe[0],Qe=qe[1],Je=function(e,t){var n,a,i,c=null===(n=e.target)||void 0===n||null===(a=n.parentElement)||void 0===a||null===(i=a.parentElement)||void 0===i?void 0:i.parentElement;(null===c||void 0===c?void 0:c.classList.contains("account-accordian-open"))?null===c||void 0===c||c.classList.remove("account-accordian-open"):null===c||void 0===c||c.classList.add("account-accordian-open")},Xe=function(e){return e/ce},Ze=Object(T.Eb)(D.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):D.dispositionNew,$e=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(oe)?oe:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:Ze?Ze.store:{},dispositionType:Ze&&Ze.type?Object(T.L)(Ze.type):Object(T.L)(null===(e=oe.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[Ze,oe,D]),et=(null===$e||void 0===$e||null===(t=$e.storeInfo)||void 0===t||null===(n=t.summary)||void 0===n||null===(a=n.menu)||void 0===a||null===(c=a.catalogs)||void 0===c?void 0:c.length)&&(null===$e||void 0===$e||null===(r=$e.storeInfo)||void 0===r||null===(s=r.summary)||void 0===s||null===(d=s.menu)||void 0===d?void 0:d.catalogs[0])||Object(T.yb)(null===oe||void 0===oe?void 0:oe.genericMenuName),tt=function(e,t,n){v(Object(Oi.a)({tenantId:e,customerId:n},t))},nt=function(e,t){var n=arguments.length>3?arguments[3]:void 0,a={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.description,quantity:1,isCustomized:t.customizable,price:t.priceWithTax/ce,additionalProperties:t.additionalProperties};tt(e,a,n)},at=function(e,t,n){v(Object(Oi.b)({tenantId:e,customerId:t,itemId:n}));var a=Object(u.jsx)(A.a,{srcFile:vi});setTimeout((function(){Object(T.oc)(Object(Ae.e)(Re),a)}),2e3),setTimeout((function(){Jt.b.dismiss()}),4e3)},it=function(){var e=Object(je.a)(ve.a.mark((function e(t,n,a){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(Object(Mj.b)({tenantId:t,customerId:n,itemId:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ct=function(e){var t,n,a,i,c=Object(De.h)(),o=se&&se.filter((function(t){return t.id===e}))||{},r=null===(t=o[0])||void 0===t||null===(n=t.availability[0])||void 0===n?void 0:n.availableHours.startTime.time,s=null===(a=o[0])||void 0===a||null===(i=a.availability[0])||void 0===i?void 0:i.availableHours.endTime.time;return Object(De.d)(c,r,s)},ot=function(e){var t;return!!ct(e)&&(null===(t=(se&&se.filter((function(t){return t.id===e}))||{})[0])||void 0===t?void 0:t.availability[0].price)},rt=function(e,t){e&&(H(e),k(!0),q(t),X(t))},st=function(){H(""),k(!1)},dt=function(){q("")},lt=function(){var e,t=null===(e=Sc.a.getItem("access_token"))||void 0===e?void 0:e.secret,n=sf.a.getPhoneNumberFromToken(t),a={tenantId:ie,customerId:te,phoneNumber:n},i={orderId:F,name:W};v(Object(Mj.a)(a,i)),H("")},ut=function(e){q(e.target.value)},bt=Object(i.useCallback)((function(){var e;if((e=Y+9)>$.length){var t=$.length-Y;G(Y+t)}else G(e)}),[Y,$]);Object(i.useEffect)((function(){$.length<Y&&G($.length)}),[v,$,Y]),Object(i.useEffect)((function(){!function(e,t,n,a){if(e){var i={customerId:t,tenantId:e,phoneNumber:n};a(Object(h.d)(i))}}(ie,te,ne,v)}),[v,ie,te,ne]),Object(i.useEffect)((function(){ue&&D.minipdpData.itemId===ue.id&&D.cartEditClicked&&v(Object(_t.s)({showProductListingModal:!0,categorySelected:""}))}),[ue,D.minipdpData.itemId,D.cartEditClicked]),Object(i.useEffect)((function(){(null===re||void 0===re?void 0:re.isItemAdded)&&(Jt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(A.a,{srcFile:wt.a})," ",Object(u.jsx)("span",{className:"text",children:Object(Ae.e)(p)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Jt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Jt.b.dismiss()}),3e3))}),[null===re||void 0===re?void 0:re.isItemAdded]),Object(i.useEffect)((function(){pe(!1)}));var vt=we.foodLines,jt=void 0===vt?[]:vt,Ot=function(){jt.length>0?Me(!0):(v(Object(_t.o)()),Be(!0))};return Object(u.jsxs)("div",{className:"account-order-desktop",children:[Object(u.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:function(){return b("")},src:cf,alt:"back button"}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Ae.e)(ye)})]}),Object(u.jsx)("div",{className:"page-header page-header-favourite-occasion",children:Object(u.jsxs)("span",{className:"page-heading",children:[Object(Ae.e)(xe)," ",Z.length>0?"(".concat(Z.length,")"):""]})}),0===Z.length&&Object(u.jsxs)("div",{className:"no-occasion-container",children:[Object(u.jsx)("p",{children:Object(Ae.e)(Ne)}),Object(u.jsx)(ht.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:function(){return b(he)},children:Object(Ae.e)(ge)})]}),Z&&Z.map((function(e,t){return Object(u.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(u.jsxs)("section",{children:[Object(u.jsx)("section",{className:"account-accordian",children:Object(u.jsxs)(zm,{title:e.name,occassionTime:l?"".concat(Object(De.l)(e.fulfillmentDateTime,"ll")):"".concat(Object(De.l)(e.fulfillmentDateTime,"ll")," at ").concat(Object(De.l)(e.fulfillmentDateTime,"hh:mm a")),onClickHandler:Je,onEditOccasionName:rt,itemId:e.id,itemName:e.name,"data-testid":"order-details",children:[Object(u.jsx)(df,{occassionOrder:e,checkProductAvailabity:ct,addItemToFavourite:nt,additemToUnfavourite:at,availableProductPrice:ot,getPrice:Xe,"data-testid":"occasion-component"}),Object(u.jsx)("section",{className:"fav-menu-event",children:Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(u.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(u.jsx)("span",{className:"order-receipt-option","data-testid":"delete-occassion",onClick:function(){return it(ie,te,e.id)},children:Object(Ae.e)(Ee)})}),Object(u.jsx)("div",{className:"global-accordian-right",children:Object(u.jsxs)(ht.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){e.items,localStorage.setItem(S.k,ol),function(e){var t=Object(O.get)(e,"store",{}),n=Object(O.get)(e,"service",""),a=[{storeId:Object(O.get)(t,"storeId",""),channel:wa.b.channel,service:n}];v(Object(pl.a)(a,ie,(function(t){var n=Object(O.first)(Object(O.get)(t,"response",{}),{}),a=e.id;Ve(n),v(Object(on.a)({tenantId:ie,orderId:a,customerId:te},Ot))}))),Qe(e),sessionStorage.setItem("reorderClick",!0)}(e)},"data-testid":"re-order-btn",children:[Object(u.jsx)("img",{src:il,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Ae.e)(Te)})]})})]})})]})}),Object(u.jsx)(uf,{isOpen:e.id===F,handleClose:st,occasionName:W,onSaveOccassion:lt,onChangeOccasionName:ut,occasionNameResponse:J,handleClearEditInput:dt})]})})})),Object(u.jsx)("div",{className:"page-header page-header-favourite",children:Object(u.jsxs)("span",{className:"page-heading",children:[Object(Ae.e)(Ie)," ",$.length>0?"(".concat($.length,")"):""]})}),(null===re||void 0===re?void 0:re.showProductListingModal)&&Object(u.jsx)(Ed,{}),Object(u.jsxs)("div",{className:"favorite-items-container",children:[0===$.length&&Object(u.jsxs)("div",{className:"no-occasion-container",children:[Object(u.jsx)("p",{children:Object(Ae.e)(Ce)}),Object(u.jsx)(ht.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:function(){m.push({pathname:"/menu"})},children:Object(Ae.e)(Se)})]}),Object(u.jsx)(Of,{limitSize:Y,checkProductAvailabity:ct,addItemToUnFavouriteFunction:at,addToCartFunction:function(e,t,n){e&&e.stopPropagation();var a,i=(null===le||void 0===le?void 0:le.find((function(e){return e.products.find((function(e){return e.name===t.name}))})))||{},c=i.id,o=void 0===c?"NA":c,r=i.name,s=void 0===r?"NA":r,d=t.id,l=t.isCustomized;be.localized?l?(R({type:x,value:{id:d,flag:N,foodLineId:""}}),R({type:g}),R({type:C,value:{cartEditClicked:!0}}),v(Object(Oi.c)({tenantId:ie,catalogName:et,itemId:d}))):(!function(e,t,n,a){v(Object(_t.a)({params:{basketId:a},tenantId:e},[{Id:t,categoryId:n,quantity:1,modGrps:[]}]))}(ie,d,o,null===re||void 0===re||null===(a=re.cartData)||void 0===a?void 0:a.id),v(Object(_t.r)(new Date)),Object(hd.a)({item_name:Object(T.ub)(t.name,"NA"),item_id:Object(T.ub)(t.id,"NA"),item_category:s,price:Object(T.ub)(t.price,"NA"),item_variant:"NA",item_list_name:s,item_list_id:o,index:1,quantity:Object(T.ub)(t.quantity||1)})):(pe(!0),R({type:y,value:{addToCart:!0,productItemId:d,categoryId:o,oldProduct:n,customizable:l,catalogs:et,fromPdpPage:!1}}))},availableProductPrice:ot,getPrice:Xe,"data-testid":"favourite-menu",userParams:be})]}),$.length>9&&Object(u.jsxs)("div",{className:"load-more-button-container",children:[Object(u.jsx)(ht.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"load-more-favourite-items",onClick:bt,children:Object(Ae.e)(f)}),Object(u.jsx)("div",{className:"load-more-text",children:Object(Ae.e)("Viewed ".concat(Y," of ").concat($.length))})]}),fe&&Object(u.jsx)(mb,{}),(Pe||Ue)&&Object(u.jsx)(Qu,{storeInfo:Ke,currentOrderInfo:ze,reorderModalOpen:Pe,setReorderModalOpen:Me,isQuickReorderModalOpen:Ue,setQuickReorderModalOpen:Be})]})},ff={ADD_NEW_ADDRESS:"Add New Address",EDIT_DELIVERY_ADDRESS:"Edit Delivery Address",HIDDEN:"hidden",OK:"OK",KM:"km",DEFAULT_DISPOSITION_TAKEWAY:"Pickup",mapText:"map",ZERO_RESULTS:"ZERO_RESULTS",DELIVERY_SERVICE:"delivery",CHANNEL:"web",REMOVED_MSG:"Store removed from favorite list",INDIA:"India",NOT_SERVICEABLE:"The Delivery location is not serviceable. Please choose a different address",INITIAL_STATE:{addressId:"",addressName:"",city:"",pinCode:"",name:"",state:"",country:"",isPrimary:!1,location:{latitude:"",longitude:""},addressLines:["",""]},MYDELIVERYADDRESSES:"MyDeliveryAddresses",ADDRESS:"address"},pf=function(e){var t=e.favouriteStores,n=e.removeFromFavoriteHandler,o=e.history,r=e.isMobile,s=Object(E.b)(),d=Object(i.useState)(!1),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(i.useState)({}),g=Object(j.a)(h,2),x=g[0],N=g[1],C=Object(i.useState)(0),S=Object(j.a)(C,2),y=S[0],_=S[1],D=Object(i.useState)(325),R=Object(j.a)(D,2),w=R[0],L=(R[1],Object(i.useState)(null)),k=Object(j.a)(L,2),P=k[0],M=k[1],F=Object(i.useContext)(I.a),U=F.userOrderState,B=F.userOrderStateDispatch,Y=Object(T.Eb)(U.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):U.dispositionNew,G=_i.a.BROWSE_MENU,K=_i.a.STORE_STATUS_CLOSED,V=_i.a.PICK_UP,W=_i.a.TAKE_AWAY,q=_i.a.LIST_TEXT,z=_i.a.STORE_STATUS_CLOSED_CAPS,Q=_e.a.SCHEDULE_ORDER_DATA,J=_e.a.SEARCH_ORDER_DATA,X=_e.a.SELECTED_TILE_DATA,Z=_e.a.MENU_URL,$=_e.a.SET_DISPOSITION,ee=_e.a.USER_LOCALIZED,te=_e.a.DISPOSITION_DATA,ne=_e.a.SCHEDULE_ORDER_TIME_DATA,ae=_e.a.CURRENT_STORE_INFO,ie=ff.DEFAULT_DISPOSITION_TAKEWAY,ce=ff.mapText,oe=Object(E.c)((function(e){return e.appStateReducer.userStatus})),re=Object(E.c)((function(e){return e.profileReducer})),se=Object(E.c)((function(e){return e.tenantReducer})),de=se.componentOptions,le=void 0===de?{}:de,ue=Object(T.ub)(null===le||void 0===le?void 0:le.ScheduledDeliveryComponent,!0).allowScheduleOrder,be=function(e){var t,n=e.summary,a=Object(T.pb)(null===n||void 0===n||null===(t=n.timings)||void 0===t?void 0:t.operatingHours,null===n||void 0===n?void 0:n.timings,[]).operatingHours,i=void 0===a?[]:a;return Object(wi.b)(e.isOpen,i)},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e&&Object(wi.f)(e),n=Object(T.ub)(t[0],[]),a=n.services,i=void 0===a?[]:a;return i.map((function(e,t){return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:Ri,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:Object(T.pb)(e===V,Object(Ae.e)(W),e)})]},t)}))},me=function(){s(Object(Pa.b)(Object(a.a)(Object(a.a)({},oe),{},{localized:!0})))},fe=function(){B({type:J,value:{showSearchStore:!1}})},pe=function(e){return e.additionalProperties=e.storeBasic.additionalProperties,e.addresses=e.storeBasic.address,e.amenities=e.storeBasic.amenities,e.name=e.storeBasic.dname,e.id=e.storeBasic.id,e.location=e.storeBasic.location,e},he=function(e){B({type:ae,value:e})},ge=function(t,n){var a=t;Ne(),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),he(a),me(),B({type:ne,value:{selectedDateTime:n}}),localStorage.setItem("tenantReducer",JSON.stringify(se)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ie),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),e.history.push({pathname:"".concat(Z)})},xe=function(e,t){e.preventDefault(),e.stopPropagation(),localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),localStorage.setItem("dispositionType",ie),t=pe(t),Ce(),B({type:Q,value:{showScheduleOrder:!0,selectedStoreInfo:t,isAddressFlow:!0}}),B({type:J,value:{showSearchStore:!1}}),Object(wi.j)(),Ee(t),bi(ie)},Ne=function(){B({type:X,value:{selectedData:{}}})},Ee=function(e){var t=e;Ne(),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),he(t)},Te=function(e){var t,n,a=Object(T.wb)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.timings),i=a.futureDates,c=a.scheduled,o=a.asap,r=Object(T.wb)(c&&c.periods.length&&c.periods[0]),s=r.interval,d=void 0===s?0:s,l=r.startEndTime,u=void 0===l?{}:l,b=Object(T.wb)(u),v=b.from,j=b.to,O=Object(T.wb)(c).unavailibilities;return $i(v,j,d,null===o||void 0===o?void 0:o.isAvailable,Object(T.u)(1===(null===i||void 0===i?void 0:i.length),"INDIA"===(null===se||void 0===se||null===(n=se.country)||void 0===n?void 0:n.toUpperCase())),O)},Ie=function(){var e=Object(je.a)(ve.a.mark((function e(t,n){var a,i,c,o,r,d,l,u,b,v,j,O,m,f,p,h,g,x,N,E,I;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(wi.k)(),b=null===(a=n)||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timings,v=b.futureDates,j=b.scheduled,O=b.asap,m=j&&j.periods.length&&j.periods[0],f=m.interval,p=void 0===f?0:f,h=m.startEndTime,x=(g=void 0===h?{}:h).from,N=g.to,$i(x,N,p,null===O||void 0===O?void 0:O.isAvailable,Object(T.u)(1===v.length,"INDIA"===(null===se||void 0===se?void 0:se.country))),E={time:"ASAP",interval:null===(c=n)||void 0===c||null===(o=c.summary)||void 0===o||null===(r=o.timings.scheduled.periods[0])||void 0===r?void 0:r.interval,date:new Date,selectedTime:"ASAP"},n=pe(n),null!==Y&&Y.type===ie&&Y.store.id===n.id&&Y.deliveryAddress===(null===U||void 0===U||null===(d=U.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress)){e.next=15;break}return e.next=12,Object(T.g)(n,Object(T.L)(ie),re.customerId,E);case 12:I=e.sent,s(Object(_t.j)("")),s(Object(_t.e)({data:I,tenantId:se.tenantId}));case 15:ge(n,E),B({type:$,value:{oldvalue:Y,newValue:{type:ie,store:n,date:E.date,time:E.time,interval:E.interval,selectedTime:E.selectedTime,deliveryAddress:null===U||void 0===U||null===(l=U.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(Y)),localStorage.setItem("dispositionNew",JSON.stringify({type:ie,store:n,date:E.date,time:E.time,interval:E.interval,selectedTime:E.selectedTime,deliveryAddress:null===U||void 0===U||null===(u=U.scheduleOrderData)||void 0===u?void 0:u.deliveryAddress})),bi(ie),fe(),Ce();case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){B({type:ee,value:{isLocalized:!0}})},Se=function(){v(!b),p(!b)};Object(i.useEffect)((function(){p(!0),ye()}),[y,P]);var ye=function(){var e=t.map((function(e){return{lat:e.storeBasic.location.latitude,lng:e.storeBasic.location.longitude}}));N(e)},Re=function(e){var t=Te(e).length;return Object(T.pb)(t,"Today","Tomorrow")},we=function(e,a,i){var r,s,d,l,v,j,O,m,f,p,h,g,x,N,E,I,C,S,D,R,w,L,k,P,F,U,V,W,q,Q,J,X,ee,ne;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"bgv-set store-card d-flex flex-dir ".concat(i),children:[Object(u.jsxs)("div",{className:"address-block d-flex",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"card-store-name",children:null===e||void 0===e||null===(r=e.storeBasic)||void 0===r?void 0:r.dname[0].value}),Object(u.jsx)("span",{className:"store-distance",children:null===e||void 0===e||null===(s=e.distance)||void 0===s?void 0:s.text}),b&&Object(u.jsx)("span",{className:"store-index fl-rgt",children:"".concat(y+1," of ").concat(t.length)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:Oe(null===e||void 0===e?void 0:e.availableServicesPerChannel)}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:(ne=null===e||void 0===e||null===(d=e.storeBasic)||void 0===d?void 0:d.address[0].address,"".concat(ne.addressLines.join(" ")," ").concat(ne.city," ").concat(ne.state," ").concat(ne.country," ").concat(ne.pinCode))}),!b&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){!function(e,t){M(e),_(t)}(e,a),Se(),ye()},children:Object(u.jsx)(H,{className:"card-map-link",children:Object(Ae.e)(ce)})})]}),(null===e||void 0===e?void 0:e.summary)&&(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsxs)("div",{className:"info-timing ".concat(!(null===e||void 0===e?void 0:e.isOpen)&&"info-timingClosed"),children:[(null===e||void 0===e?void 0:e.isOpen)?"":Object(u.jsx)("span",{children:Object(Ae.e)(K)}),Object(u.jsx)("span",{className:"".concat(!(null===e||void 0===e?void 0:e.isOpen)&&be(e)&&"list-circle"),children:be(e)})]}),(null===e||void 0===e?void 0:e.summary)&&!(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsx)("div",{className:"info-timingClosed",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:(null===(l=e.summary.status)||void 0===l?void 0:l.currentStatus)===z?Object(u.jsx)("span",{className:"closed-text",children:K}):""}),Object(u.jsx)("li",{children:(null===(v=e.summary)||void 0===v||null===(j=v.timings)||void 0===j||null===(O=j.scheduled)||void 0===O||null===(m=O.unavailibilities)||void 0===m?void 0:m.length)>0&&Object(De.s)(null===(f=e.summary)||void 0===f||null===(p=f.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||null===(g=h.unavailibilities[0])||void 0===g?void 0:g.to,"HH MM","HH:MM")<=Object(De.s)(null===(x=e.summary)||void 0===x||null===(N=x.timings)||void 0===N||null===(E=N.operatingHours[0])||void 0===E||null===(I=E.availableHours)||void 0===I?void 0:I.to,"HH MM","HH:MM")?"Open Today ".concat((null===(C=e.summary)||void 0===C||null===(S=C.timings)||void 0===S||null===(D=S.scheduled)||void 0===D||null===(R=D.unavailibilities[0])||void 0===R?void 0:R.to)&&Object(De.s)(null===(w=e.summary)||void 0===w||null===(L=w.timings)||void 0===L||null===(k=L.scheduled)||void 0===k||null===(P=k.unavailibilities[0])||void 0===P?void 0:P.to,"hh mm","hh:mm a")):"Open ".concat(Re(e)," ").concat((null===(F=e.summary)||void 0===F||null===(U=F.timings)||void 0===U||null===(V=U.operatingHours[0])||void 0===V||null===(W=V.availableHours)||void 0===W?void 0:W.from)&&Object(De.s)(null===(q=e.summary)||void 0===q||null===(Q=q.timings)||void 0===Q||null===(J=Q.operatingHours[0])||void 0===J||null===(X=J.availableHours)||void 0===X?void 0:X.from,"hh mm","hh:mm a"))})]})}),Object(u.jsx)("div",{className:"facilities",children:(null===(ee=Qi(null===e||void 0===e?void 0:e.storeBasic))||void 0===ee?void 0:ee.length)>0&&Qi(null===e||void 0===e?void 0:e.storeBasic).map((function(e){return Object(u.jsx)(A.a,{"data-testid":"",srcFile:e.image,alt:Object(T.ub)(e.label,""),className:"facility-img",title:e.label},e.key)}))})]})]}),!b&&Object(u.jsx)("div",{className:"d-flex flex-dir mt5 flex-dir-pos",children:Object(u.jsx)(A.a,{"data-testid":"favorite-img",srcFile:Xi,alt:"favorite",className:"favorite-img",onClick:function(){var t;return n(null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id)}})})]}),Object(u.jsxs)("div",{className:"button-block align-center d-flex mt-2",children:[(null===e||void 0===e?void 0:e.isOpen)&&ue&&Object(u.jsx)(ht.a,{"data-testid":"schedule-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:function(t){return xe(t,e)},children:Object(Ae.e)("scheduleOrder")}),(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsx)(ht.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml5 button redButton search-store-card-btn",onClickHandler:function(t){return Ie(t,e)},children:"Order Now"}),hf(e,Te,xe),Object(T.u)(!(null===e||void 0===e?void 0:e.isOpen),!Te(e).length)&&Object(u.jsx)(ht.a,{className:"padding-set wdth-set browse-pad ml5 ml-0 font-bold button whiteButton blkBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){return function(e){var t=pe(e);localStorage.setItem("currentStoreInfo",JSON.stringify(t)),he(),me(),B({type:$,value:{oldvalue:Y,newValue:{type:ie,store:t,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem("dispositionOld",JSON.stringify(Y)),localStorage.setItem("dispositionNew",JSON.stringify({type:ie,store:t,date:"",time:"",interval:"",deliveryAddress:""})),B({type:te,value:{showDisposition:!1}}),fe(),o.push({pathname:"".concat(Z)})}(e)},children:Object(Ae.e)(G)})]})]})})},Le=function(e){return e.sort((function(e,t){var n,a,i,c;return(null===(n=e.storeBasic)||void 0===n?void 0:n.dname[0].value)<(null===(a=t.storeBasic)||void 0===a?void 0:a.dname[0].value)?-1:(null===(i=e.storeBasic)||void 0===i?void 0:i.dname[0].value)>(null===(c=t.storeBasic)||void 0===c?void 0:c.dname[0].value)?1:0}))}(t).map((function(e,t){return we(e,t)}));return Object(u.jsxs)("div",{className:"favorite-stores-section",children:[t.length>0&&Object(u.jsxs)("div",{className:"header-text",children:["My Favorite Stores (",t.length,")",b&&Object(u.jsx)("span",{"data-testid":"list-handler",onClick:function(){Se(),ye()},children:Object(u.jsxs)(H,{className:"map-link-list",children:[Object(u.jsx)("span",{children:Object(u.jsx)(A.a,{"data-testid":"",srcFile:vc,alt:"map",className:"map-img"})}),Object(Ae.e)(q)]})})]}),t.length>0&&!b>0&&Le,b&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"takeawayDineInMap delivery-map",children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Nc,{"data-testid":"mymap-id",latLongValue:x,loadingElement:Object(u.jsx)("div",{style:{height:"100%"}}),containerElement:Object(u.jsx)("div",{style:{height:"400px"}}),mapElement:Object(u.jsx)("div",{style:{height:"100%"}}),isVisible:!0,isMobile:r,centerIndex:y,onPositionChangeHandler:function(e){var n=e?y+1:y-1;_(n),M(Object(T.wb)(t[n]))},setShowCard:p,setStoreMarker:function(e){var n=t.findIndex((function(t){return t.storeBasic.location.latitude===e.lat()&&t.storeBasic.location.longitude===e.lng()}));n>-1&&(_(n),M(Object(T.wb)(t[n])))},storeCardHeight:w}),f&&P&&r?we(P,"","Selected-mobile-Card"):null]}),f&&P&&!r?we(P,"","Selected-desktop-Card"):null]})})]})};function hf(e,t,n){return Object(u.jsx)(u.Fragment,{children:Object(T.u)(!(null===e||void 0===e?void 0:e.isOpen),t(e).length>0)&&Object(u.jsx)(ht.a,{"data-testid":"closed-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:function(t){return n(t,e)},children:Object(Ae.e)("scheduleOrder")})})}var gf=n(226),xf=function(e){var t=Object(E.b)(),n=e.isOpen,c=e.modalType,o=e.handleClose,r=e.storeSearch,s=e.tenantId,d=e.allStores,l=ff.ADD_NEW_ADDRESS,b=ff.EDIT_DELIVERY_ADDRESS,v=ff.HIDDEN,O=ff.DELIVERY_SERVICE,m=ff.CHANNEL,f=ff.NOT_SERVICEABLE,p=ff.INITIAL_STATE,g=ff.INDIA,x=Object(T.Fb)(e.address)?e.address:p,N=Object(i.useState)(x),I=Object(j.a)(N,2),C=I[0],S=I[1],y=Object(i.useState)(!1),_=Object(j.a)(y,2),D=_[0],R=_[1],w=null===r||void 0===r?void 0:r.geohashprecision,L=(null===r||void 0===r?void 0:r.boundingBoxSizeMeters)/1e3,k=Object(gf.a)({requestOptions:{componentRestrictions:{country:"in"}},debounce:300}),P=k.ready,M=k.value,F=k.suggestions,H=F.status,U=F.data,B=k.setValue,Y=k.clearSuggestions,G=Object(i.useRef)(null);Object(i.useEffect)((function(){var e,t;c&&ho.a.calculateGH({lat:parseFloat((null===C||void 0===C||null===(e=C.location)||void 0===e?void 0:e.latitude)||(null===C||void 0===C?void 0:C.latitude)),lon:parseFloat((null===C||void 0===C||null===(t=C.location)||void 0===t?void 0:t.longitude)||(null===C||void 0===C?void 0:C.longitude)),distanceFromCurrentLoc:L,geoHashPrecision:w});document.querySelector("body").style.overflow=v}),[]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",K),function(){document.removeEventListener("mousedown",K)}}));var K=function(e){G.current&&!G.current.contains(e.target)&&Y()},V=function(e){var t=e.target,n=t.name,i=t.value;if("floor"!==n)"checkbox"!==t.type?S(Object(a.a)(Object(a.a)({},C),{},Object(Le.a)({},n,i))):S(Object(a.a)(Object(a.a)({},C),{},Object(Le.a)({},n,!("true"===i))));else{S(Object(a.a)(Object(a.a)({},C),{},Object(Le.a)({},n,i)));var c=[i,null===C||void 0===C?void 0:C.addressLines[1]];S(Object(a.a)(Object(a.a)({},C),{},{addressLines:c}))}},W=function(e){var t=e.address_components.reduce((function(e,t){var n=t.long_name;return t.types.forEach((function(t){return e[t]=n})),e}),{}),n=function(e){var t=[];return Object.entries(e).forEach((function(e){switch(e[0]){case"route":case"street_address":case"neighborhood":case"sublocality_level_1":case"sublocality_level_2":case"sublocality_level_3":t.push(e[1])}t.length||("sublocality"===e[0]||"administrative_area_level_2"===e[0])&&t.push(e[1])})),t=t.join(",")}(t),i=[(null===t||void 0===t?void 0:t.street_number)||"",n];B(n),S((function(e){return Object(a.a)(Object(a.a)({},e),{},{country:null===t||void 0===t?void 0:t.country,addressLines:i,city:(null===t||void 0===t?void 0:t.administrative_area_level_2)||(null===t||void 0===t?void 0:t.locality),state:(null===t||void 0===t?void 0:t.administrative_area_level_1)||"",pinCode:(null===t||void 0===t?void 0:t.postal_code)||""})})),z(),setTimeout((function(){Y()}),800)},q=function(e){var n=e.description,i=e.structured_formatting;i.main_text,i.secondary_text;return function(){R(!1),Y(),t(Object(ti.j)()),Object(gf.b)({address:n,componentRestrictions:{country:"in"}}).then((function(e){return W(e[0]),Object(gf.c)(e[0])})).then((function(e){ho.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:L,geoHashPrecision:w}),S((function(t){return Object(a.a)(Object(a.a)({},t),{},{latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng})}))})).catch((function(e){console.log("Error: ",e)}))}},z=function(){var e,t,n,a;return!!((null===C||void 0===C?void 0:C.addressLines[1].length)&&(null===C||void 0===C||null===(e=C.name)||void 0===e?void 0:e.length)&&(null===C||void 0===C||null===(t=C.city)||void 0===t?void 0:t.length)&&(null===C||void 0===C||null===(n=C.pinCode)||void 0===n?void 0:n.length)&&(null===C||void 0===C||null===(a=C.state)||void 0===a?void 0:a.length))},Q=function(e){var t,n,a;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.availableServicesPerChannel)||void 0===a?void 0:a.filter((function(e){var t;return(null===e||void 0===e?void 0:e.channel)===m&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===O})))},J={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:n,classNames:"address-module-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:o,modalTitle:c?b:l,autoFocus:!0},X=function(e){return e.preventDefault(),!1};return Object(u.jsxs)(pt,Object(a.a)(Object(a.a)({},J),{},{"data-testid":"address-modal-landing-page",children:[Object(u.jsx)("div",{className:"address-form-section",children:Object(u.jsxs)("div",{className:"form-container",children:[D&&Object(u.jsx)("div",{className:"error-service-msg",children:f}),Object(u.jsx)("div",{className:"form-header",children:"Address"}),Object(u.jsxs)("form",{autocomplete:"off",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===C||void 0===C?void 0:C.name,onChange:V}),Object(u.jsx)("label",{children:"Address Nickname*"})]}),Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{"data-testid":"search-input-address",value:M||(null===C||void 0===C?void 0:C.addressLines[1]),onChange:function(e){B(e.target.value);var t=[null===C||void 0===C?void 0:C.addressLines[0],e.target.value];S(Object(a.a)(Object(a.a)({},C),{},{addressLines:t}))},disabled:!P,name:"addressName",onFocus:function(){B(M)},required:!0,type:"text"}),Object(u.jsx)("label",{children:"Address*"}),"OK"===H&&Object(u.jsx)("ul",{ref:G,className:"address-list",children:U.map((function(e){var t,n=e.place_id,a=e.structured_formatting,i=a.main_text,c=a.secondary_text;return Object(u.jsx)(u.Fragment,{children:(null===(t=e.terms.filter((function(e){return e.value===g})))||void 0===t?void 0:t.length)>0&&Object(u.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:q(e),children:[Object(u.jsx)(A.a,{srcFile:jc,alt:"googleMapLocation",className:"suggetion-pin"}),Object(u.jsxs)("span",{className:"address-text",children:[Object(u.jsx)("strong",{children:i})," ",c]})]},n)})}))})]}),Object(u.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{required:!0,type:"text",name:"floor",value:(null===C||void 0===C?void 0:C.floor)||(null===C||void 0===C?void 0:C.addressLines[0]),onChange:V}),Object(u.jsx)("label",{children:"Apt / Suite / Floor"})]}),Object(u.jsxs)("div",{className:"input-container ml5",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",name:"pinCode",onKeyDown:function(e){return X(e)},onKeyPress:function(e){return X(e)},value:null===C||void 0===C?void 0:C.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:V}),Object(u.jsx)("label",{children:"Postal Code*"})]})]}),Object(u.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:function(e){return X(e)},onKeyPress:function(e){return X(e)},value:null===C||void 0===C?void 0:C.city,"data-testid":"city-id",onChange:V}),Object(u.jsx)("label",{children:"City / Town*"})]}),Object(u.jsxs)("div",{className:"input-container ml5",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:function(e){return X(e)},onKeyPress:function(e){return X(e)},value:null===C||void 0===C?void 0:C.state,"data-testid":"state-id",onChange:V}),Object(u.jsx)("label",{children:"State*"})]})]}),Object(u.jsxs)("div",{className:"default-address-section",children:[Object(u.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===C||void 0===C?void 0:C.isPrimary,checked:null===C||void 0===C?void 0:C.isPrimary,onChange:V}),Object(u.jsx)("div",{className:"default-label-text",children:Object(u.jsx)("label",{htmlFor:"default-address",children:"Make this my default address"})})]})]})]})}),Object(u.jsxs)("div",{className:"input-container text-center",children:[Object(u.jsx)(ht.a,{onClick:o,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:"Cancel"}),Object(u.jsx)(ht.a,{disabled:!z(),className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:function(){var e=function(e){var t,n,a=["",""];return a[1]=e.addressLines[1],a[0]=(null===e||void 0===e?void 0:e.floor)||e.addressLines[0],{addressId:(null===e||void 0===e?void 0:e.id)||"",addressName:e.name||"",city:e.city,postalCode:e.pinCode,state:e.state,country:e.country||"",isPrimary:e.isPrimary||!1,location:{latitude:(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)||(null===e||void 0===e?void 0:e.latitude),longitude:(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)||(null===e||void 0===e?void 0:e.longitude)},addressLines:a}}(C),n=null===d||void 0===d?void 0:d.filter(Q),a=null===r||void 0===r?void 0:r.maxDriveTimeMins,i=ho.a.checkAndProceed({stores:n,disposition:O,distanceMetrics:null===r||void 0===r?void 0:r.distanceMetrics,driveTime:a});if(null===i||void 0===i?void 0:i.length){var c=sf.a.getPhoneNumberFromToken(),l=sf.a.getCustomerIdFromToken();t(Object(h.a)({customerId:l,phoneNumber:c,tenantId:s,data:e})),o()}else R(!0)},children:"Save"})]})]}))},Nf=function(e){var t=Object(E.b)(),n=e.savedAddresses,a=e.storeSearch,o=e.tenantId,r=e.allStores,s=e.driveTime,d=Object(i.useState)(!1),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],g=Object(i.useState)({}),x=Object(j.a)(g,2),N=x[0],T=x[1],I=ff.MYDELIVERYADDRESSES,C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="edit"===e;T(t),v(!0),p(n)},S=function(e){return e.sort((function(e,t){return t.isPrimary-e.isPrimary}))}(n).map((function(e){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"delivery-card bgv-set d-flex",children:[Object(u.jsxs)("div",{className:"address-description d-flex",children:[Object(u.jsxs)("p",{className:"address-mode",children:[Object(u.jsx)("span",{className:"text-transform-capitalize",children:null===e||void 0===e?void 0:e.name})," ",(null===e||void 0===e?void 0:e.isPrimary)?"(Default)":""]}),Object(u.jsx)("div",{className:"delivery-details",children:Object(u.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.city)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})})]}),Object(u.jsxs)("div",{className:"action-btn d-flex",children:[Object(u.jsx)("a",{onClick:function(){return C("edit",e)},"data-testid":"edit-testid",className:"anchor-info edit-adjust",children:"Edit"}),Object(u.jsx)("a",{onClick:function(){return function(e){var n=sf.a.getPhoneNumberFromToken(),a=sf.a.getCustomerIdFromToken();t(Object(h.b)({customerId:a,phoneNumber:n,tenantId:o,addressId:e}))}(null===e||void 0===e?void 0:e.id)},"data-testid":"delete-testid",className:"anchor-info del-adjust",children:"Delete"})]})]})})}));return Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsxs)("div",{className:"header-text",children:[Object(Ae.e)(I)," ",(null===n||void 0===n?void 0:n.length)>0&&"(".concat(n.length,")")]}),(null===n||void 0===n?void 0:n.length)>0&&S,Object(u.jsx)("div",{className:"add-address",children:Object(u.jsx)(ht.a,{"data-testid":"add-testid",onClickHandler:function(){return C("add")},className:"mt-10 button font-bold whiteButton blackBorder",children:"Add New Address"})}),b&&Object(u.jsx)(xf,{"data-testid":"address-modal",isOpen:b,modalType:f,storeSearch:a,address:N,tenantId:o,driveTime:s,allStores:r,handleClose:function(){return document.querySelector("body").style.overflow="",v(!1),void t(Object(ti.j)())}})]})},Ef=function(e){var t,n=ff.KM,c=ff.REMOVED_MSG,o=ff.ADDRESS,r=_i.a.STORE_STATUS_OPEN,s=Object(E.b)(),d=Object(i.useContext)(I.a).userOrderState,l=Object(E.c)((function(e){return e.storesReducer})),b=l.storesWithStatus,v=l.allStores,O=Object(E.c)((function(e){return e.profileReducer})),m=O.favouriteStores,f=O.savedAddresses,p=Object(E.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})).localized,h=void 0!==p&&p,g=Object(E.c)((function(e){return e.tenantReducer})),x=g.tenantId,N=void 0===x?"":x,C=g.storeSearch,S=void 0===C?{}:C,y=g.driveTime,_=Object(i.useState)([]),D=Object(j.a)(_,2),R=D[0],w=D[1],L=Object(i.useState)(!1),k=Object(j.a)(L,2),P=k[0],M=k[1],F=Object(T.Eb)(d.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):d.dispositionNew,H=F&&F.type?Object(T.L)(F.type):Object(T.L)(null===(t=g.authoredContent)||void 0===t?void 0:t.defaultdisposition);Object(i.useEffect)((function(){if((null===R||void 0===R?void 0:R.length)&&N){var e=[];R.forEach((function(t){e.push({storeId:t.storeBasic.id,channel:wa.b.channel,service:H})}));localStorage.getItem("setFav")||s(Object(ti.c)({data:e,tenantId:N,isFavoritePage:!0}))}}),[N,null===R||void 0===R?void 0:R.length]),Object(i.useEffect)((function(){return window.scrollTo(0,0),s(Object(ti.j)()),function(){s(Object(ti.j)())}}),[]),Object(i.useEffect)((function(){(null===R||void 0===R?void 0:R.length)&&(null===b||void 0===b?void 0:b.length)&&(R.forEach((function(e){var t=b.find((function(t){return t.storeId===e.storeBasic.id}));t&&(e.summary=t.summary,e.isOpen=t.summary.status.currentStatus===r)})),w(R.filter((function(e){return e.summary}))))}),[null===b||void 0===b?void 0:b.length,null===R||void 0===R?void 0:R.length]),Object(i.useEffect)((function(){localStorage.getItem("renderComp")&&localStorage.getItem("setFav")&&(localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),s(Object(ti.j)()),U())})),Object(i.useEffect)((function(){U(),P&&(Jt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(A.a,{srcFile:wt.a})," ",Object(u.jsx)("span",{className:"text",children:c})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Jt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Jt.b.dismiss()}),3e3))}),[m.length,P]);var U=function(){var e=JSON.parse(localStorage.getItem("storeInfo")),t=(null===f||void 0===f?void 0:f.length)?f.filter((function(e){return e.isPrimary})):[],a=e&&h?e:(null===t||void 0===t?void 0:t.length)&&t[0];if(a){var i=null===S||void 0===S?void 0:S.distanceMetrics;i=i!==n?window.google.maps.UnitSystem.IMPERIAL:window.google.maps.UnitSystem.METRIC;var c,o,r=m.map((function(e){var t,n=null===(t=e.storeBasic)||void 0===t?void 0:t.location;return{lat:n.latitude,lng:n.longitude}}));if(null===m||void 0===m?void 0:m.length)B([{lat:null===a||void 0===a||null===(c=a.location)||void 0===c?void 0:c.latitude,lng:null===a||void 0===a||null===(o=a.location)||void 0===o?void 0:o.longitude}],r,i);else w([]),M(!1)}else w(m),M(!1)},B=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(vo.a)(e).slice(0,24),destinations:Object(vo.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:n,avoidHighways:!1,avoidTolls:!1},Y)},Y=function(e,t){var n,i;i=e&&e.rows&&e.rows[0].elements.map((function(e){return e})),n=m.map((function(e,t){return Object(a.a)(Object(a.a)({},e),i[t])})),w(n),M(!1)};return Object(u.jsxs)("div",{className:"addresses-and-stores-container",children:[Object(u.jsxs)("div",{className:"my-delivery-addresses-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting",onClick:function(){return e.updateMenu("")},src:cf}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Ae.e)(o)})]}),((null===R||void 0===R?void 0:R.length)>0||(null===b||void 0===b?void 0:b.length)>0)&&Object(u.jsx)(pf,{"data-testid":"favStore-list",removeFromFavoriteHandler:function(e){var t=sf.a.getCustomerIdFromToken();s(Object(ti.m)({tenantId:N,customerId:t,storeId:e,dispatch:"dispatch"})),M(!0)},localized:h,history:e.history,storesReducer:b,favouriteStores:R,isMobile:e.isMobile}),Object(u.jsx)(Nf,{storeSearch:S,savedAddresses:f,isMobile:e.isMobile,tenantId:N,driveTime:y,allStores:v,updateMenu:e.updateMenu})]})},Tf=function(e){var t=e.history,n=e.setShowKfcHeader,a=os.d.ACCOUNT_SETTING,c=os.d.ORDER_HISTORY_TAG,o=os.d.ADDRESS,r=os.d.MY_FAV_MENU,s=Object(i.useState)(Object(T.Lb)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(""),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useContext)(I.a).userOrderState;Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(T.Lb)(window.innerWidth);b(e)}))}),[l]),Object(i.useEffect)((function(){return"GoToOrderHistory"!=localStorage.getItem("LoadMoreOrderHistory")&&!0!==t.location.isNavigatingFromReorder||f(c),function(){localStorage.setItem("LoadMoreOrderHistory",!1)}}),[]);var h=function e(i){switch(i){case a:return n(!1),Object(u.jsx)(rf,{updateMenu:function(e){return f(e)}});case c:return n(!1),Object(u.jsx)(ef,{isMobile:l,renderSwitch:e,updateMenu:function(e){return f(e)}});case o:return Object(u.jsx)(Ef,{history:t,isMobile:l,updateMenu:function(e){return f(e)}});case r:return Object(u.jsx)(mf,{isMobile:l,updateMenu:function(e){return f(e)}});default:return n(!0),l?Object(u.jsx)(Vm,{isMobile:l,currentMenu:m,updateMenu:function(e){return f(e)}}):Object(u.jsx)(ef,{isMobile:l,renderSwitch:e,updateMenu:function(e){return f(e)}})}};return l?Object(u.jsxs)("div",{className:"mobile-order-history",children:[h(m),p.showCartClearAlert?Object(u.jsx)(Zd,{}):null]}):Object(u.jsxs)("div",{className:"account-desktop-container mt-5",children:[Object(u.jsx)("div",{className:"account-section-left",children:Object(u.jsx)(Vm,{isMobile:l,currentMenu:m,updateMenu:function(e){return f(e)}})}),Object(u.jsx)("div",{className:"account-section-right",children:h(m)}),p.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},If=function(e){var t,n,a,o,r,s,d=f.a.DISPOSITION,l=Object(i.useState)(!0),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(E.b)(),h=Object(E.c)((function(e){return e.appStateReducer.userStatus})),g=null,N=null,S=null,A=Object(i.useContext)(I.a),y=A.userOrderState,_=(A.userOrderStateDispatch,Object(E.c)((function(e){var t;return{marketPageContent:e.marketConfigReducer.response||null,tenantData:e.tenantReducer||null,userParams:e.appStateReducer.userStatus||null,homePageContent:Object(T.zb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),tenantReducerContent:Object(T.zb)(null===e||void 0===e?void 0:e.tenantReducer)}})));if(Object(i.useEffect)((function(){var e;m(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===_||void 0===_||null===(e=_.tenantData)||void 0===e?void 0:e.country,"fields.channel":wa.b.channel,include:5}}))}),[null===_||void 0===_||null===(t=_.tenantData)||void 0===t?void 0:t.country,m]),Object(i.useEffect)((function(){m(Object(p.c)({object:Object(C.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":wa.b.channel,include:"5"},userParams:_.userParams}))}),[_.userParams,m]),_.marketPageContent&&_.tenantData&&_.homePageContent){var D=_.marketPageContent.headerData,R=D.header,w=D.footer;g=Object(T.Z)(R),N=Object(T.Y)(_.homePageContent),S=Object(T.R)(w)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(g)&&(!Object(T.Lb)(window.innerWidth)||v)&&Object(u.jsx)($a,{contentData:g,tenantReducerData:_.tenantData,userParams:_.userParams})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(n=null===(a=N)||void 0===a?void 0:a[d])&&void 0!==n?n:{},contentDispositionData:null!==(o=null===(r=N)||void 0===r?void 0:r[d])&&void 0!==o?o:{}},userParams:h,showHeader:!Object(T.Lb)(window.innerWidth)||v}),Object(u.jsx)(Tf,{history:e.history,setShowKfcHeader:function(e){return O(e)}}),Object(T.Fb)(S)&&Object(u.jsx)(ma,{history:e.history,contentData:S,tenantReducerData:_.tenantData})||null,(null===(s=y.cartAlertData)||void 0===s?void 0:s.showCartAlert)&&Object(u.jsx)(Hb,{}),y.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},Cf=["ComponentToRender"],Sf=function(e){var t=e.ComponentToRender,n=Object(P.a)(e,Cf),i=Object(E.c)((function(e){return e.appStateReducer.userStatus||null})).loggedIn;return Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},n),{},{render:function(e){return i?Object(u.jsx)(t,Object(a.a)({},e)):Object(T.h)()}}))},Af=function(e){var t=function(){var e=JSON.parse(localStorage.getItem("dispositionNew")),t=e&&e.type?e.type:"NA",n=e&&e.store&&e.store.id?e.store.id:"NA",a="undefined"!==typeof sessionStorage.getItem("userId")?sessionStorage.getItem("userId"):"NA",i=Object(E.c)((function(e){return e.appStateReducer})),c=null===i||void 0===i?void 0:i.userStatus;return{CollectionPoint:"NA",DispositionType:t,loggedIn:c.loggedIn,localized:c.localized,Platform:"web",StoreID:n,UserId:a}}(),n=Object(o.g)();return Object(i.useEffect)((function(){var e=n.pathname.substring(1)?n.pathname.substring(1):"NA";setTimeout((function(){sessionStorage.setItem("setAttributePayload",JSON.stringify(t)),Object(T.sc)(t),Object(T.lc)({triggeredEvent:"virtualPageView",path:"".concat(window.location.origin).concat(n.pathname),pageHeading:e})}),120)}),[n]),Object(u.jsx)(c.a.Fragment,{children:e.children})},yf=function(e){var t,n,a;return(null===e||void 0===e?void 0:e.fulfillmentDateTime)&&(null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.phoneNumber)&&(null===e||void 0===e||null===(n=e.foodLines)||void 0===n?void 0:n.length)&&(null===e||void 0===e?void 0:e.subTotal)&&(null===e||void 0===e?void 0:e.total)&&(null===e||void 0===e||null===(a=e.paymentReferences)||void 0===a?void 0:a.length)&&(null===e||void 0===e?void 0:e.posOrderId)&&(null===e||void 0===e?void 0:e.service)},_f=function(){var e=Object(i.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(E.c)((function(e){return e})),s=r.tenantReducer,d=r.profileReducer,l=r.postOrderReducer,b=(void 0===l?{}:l).orderAccepted,v=void 0===b?{}:b,O=Object(E.b)(),m=Object(o.f)(),f=Object(o.h)().order_id,p=function(){c(!1),m.push({pathname:S.eb.ORDER_DETAILS})};Object(i.useEffect)((function(){var e={tenantId:null===s||void 0===s?void 0:s.tenantId,orderId:f,customerId:null===d||void 0===d?void 0:d.customerId};(null===s||void 0===s?void 0:s.tenantId)&&Lr.d&&O(Object(on.a)(e,(function(e){var t;(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toUpperCase())===S.X.SENT_TO_POS_COMPLETED&&yf(e)?c(!0):p()}),p))}),[null===s||void 0===s?void 0:s.tenantId,null===d||void 0===d?void 0:d.customerId,Lr.d]);var h={role:"dialog",modalTitleId:"order-details-modal",show:!0,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,closeButtonHandler:function(){c(!1),m.push({pathname:S.eb.HOME_PAGE})},modalTitle:Object(Ae.e)("orderReceipt"),showBackBtn:!1,closeDataTestId:"close-order-details-modal",id:"OrderDetailsModal",autoFocus:!0};return yf(v)&&n?Object(u.jsx)(pt,Object(a.a)(Object(a.a)({},h),{},{children:Object(u.jsx)("div",{"data-testid":"order-details-receipt-modal",className:"ReceiptModal",children:Object(u.jsx)($u,{orderItem:v})})})):null},Df=function(e){var t=Object(E.b)(),n=Object(E.c)((function(e){return e.tenantReducer})),a=Object(i.useContext)(I.a),c=a.userOrderState,o=a.userOrderStateDispatch,r=(Object(T.Eb)(c.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===c||void 0===c?void 0:c.dispositionNew)||{},s=r.type,d=void 0===s?"":s,l=r.store,b=l&&l.summary&&l.summary.menu&&l.summary.menu.catalogs&&l.summary.menu.catalogs.length&&l.summary.menu.catalogs[0]||(null===n||void 0===n?void 0:n.genericMenuName)||"",v={CLEAR_ALL_MSG:{MSGTXT1:Object(Ae.e)("cartError_explore"),MSGTXT2:Object(Ae.e)("outOfStock"),MSGTXT3:Object(Ae.e)("cartError_sorryFoodNotAvailable")},CONTINUE:Object(Ae.e)("continue")},j=function(){o({type:_e.a.SHOW_CART_ERROR_MODAL,value:{showCartErrorModal:!1}}),t(Object(_t.d)({type:_e.a.CART_DATA_ERROR_RESET})),t(Object(Oi.d)({tenantId:null===n||void 0===n?void 0:n.tenantId,catalogName:b},{storeId:l.id,channel:Be,service:d}))};return Object(u.jsx)(u.Fragment,{children:!0===(null===c||void 0===c?void 0:c.showCartErrorModal)&&Object(u.jsx)(yi,{handleClose:j,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(Ci,{splitTitle:v.CLEAR_ALL_MSG,imageSrc:Xd,altText:"cart-error",confirmButtonText:"Continue",confirmHandler:j})})})},Rf={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},wf=n(714),Lf=n(713),kf=function(e){var t=e.children,n=e.id,a=e.title,i=e.placement,c=void 0===i?"top":i;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(wf.a,{placement:c,overlay:Object(u.jsx)(Lf.a,{id:"tooltip-".concat(n),children:a}),children:t},n)})},Pf=function(e){return(null===e||void 0===e?void 0:e.filter((function(e){return null===e||void 0===e?void 0:e.isDefault})))[0]};function Mf(e){var t=e.pdpData,n=e.getDname,a=e.veg,i=e.Non_veg_dot_Icon,o=e.Veg_dot_Icon,r=e.modgrps,s=e.customizable,d=e.isActive,l=e.itemStatus,b=e.IS_OUT_OF_STOCK,v=e.setAsActiveLink,j=e.PDPEditIconDisabled,O=e.PDPEditIcon,m=e.isMobile,f=e.quantityUpdateTemplate,p=e.addToCartTemplate,h=e.makeItComboHandler,g=e.isIpad,x=e.comboData,N=r.length>0&&s&&function(e){return e.map((function(e){return!e.isHidden&&Object(u.jsxs)("div",{className:"pdp-receipt-modGrp-container".concat(d===e.id?" activeGroup":""),children:[d===e.id?Object(u.jsx)("span",{className:"arrowed"}):null,Object(u.jsxs)("span",{className:"pdp-receipt-modgrp",children:[Object(T.pc)(n(e),14,g)," :"]}),Object(u.jsx)(kf,{id:e.id,placement:"top",title:n(Pf(e.modifiers)),children:Object(u.jsx)("span",{className:"pdp-receipt-modifiers",children:Object(T.pc)(n(Pf(e.modifiers)),16,g)})}),Object(u.jsx)("a",{className:"editIcon","data-testid":"set-active-link-handler-".concat(e.id),onClick:function(t){return v(t,e.id)},disabled:l===b&&!0,children:Object(u.jsx)("img",{className:"pdp-summary-edit-icon",src:l===b?j:O})})]},e.id)}))}(r),E=!s&&Object(u.jsxs)("div",{className:"d-flex item_details",children:[Object(u.jsxs)("label",{children:[Object(Ae.e)("mainEntree"),":"]}),Object(u.jsx)(kf,{id:"entree",placement:"top",title:n(t),children:Object(u.jsx)("span",{children:Object(T.pc)(n(t),26,g)})})]}),I=m?Object(u.jsxs)("div",{className:"pdp-mobile-quantity-price fixedDiv",children:[Object(u.jsx)("div",{className:"pdp-quantity-block",children:f()}),p()]}):Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"pdp-quantity-block",children:[Object(u.jsx)("label",{className:"qty",children:Object(Ae.e)("quantity")}),f()]}),p()]}),C=Object(T.u)(!s,x>0)&&Object(u.jsx)(cs.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(u.jsx)(Qa.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:h,children:Object(u.jsx)("span",{children:Object(Ae.e)("makeItACombo")})})});return Object(u.jsx)("div",{className:"pdp-receipt-card",children:Object(u.jsxs)("form",{className:"pdp-receipt-form",children:[Object(u.jsx)("div",{className:"pdp-receipt-header",children:n(t)}),Object(u.jsx)("img",{className:"pdp-summary-vegOrNonVeg-icon",src:a?o:i}),Object(u.jsxs)("div",{className:"pdp-receipt-veg",children:[a?Object(Ae.e)("veg"):Object(Ae.e)("nonveg")," \u2022 Serves 4"]}),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"pdp-receipt-list",children:[N,E]}),I,C]})]})})}var Ff=c.a.memo(Mf),Hf=n.p+"static/media/PDPEditIcon.8cbb7590.svg",Uf=n.p+"static/media/PDPEditIconDisabled.ec35a770.svg",Bf=function(e){return(null===e||void 0===e?void 0:e.dname)&&(null===e||void 0===e?void 0:e.dname[0])?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name"},Yf=function(e){var t=e.pdpData,n=e.addtoCartClinckHandler,a=e.customModGrps,c=void 0===a?{}:a,o=e.modifiedPrice,r=e.categoryId,s=e.isIpad,d=e.comboData,l=t||{},b=l.id,v=l.additionalProperties,O=void 0===v?{}:v,m=l.customizable,f=void 0!==m&&m,p=l.availability,h=l.modgrps,g=sr.ITEM_QUANTITY,x=kn.a.QUANTITY_ACTION,N=mi.a.EXPAND_ACCORDIAN,C=mi.a.IS_OUT_OF_STOCK,S=mi.a.IS_IN_STOCK,A=Object(i.useState)(Object(T.Lb)(window.innerWidth)),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(),w=Object(j.a)(R,2),L=w[0],k=w[1],P=Object(i.useState)(1),M=Object(j.a)(P,2),F=M[0],H=M[1],U=Object(i.useState)(S),B=Object(j.a)(U,2),Y=B[0],G=B[1],K=Object(E.b)(),V=Object(E.c)((function(e){return e.tenantReducer})),W=Object(E.c)((function(e){return e.appStateReducer.userStatus})),q=(Object(E.c)((function(e){return e.cartReducer}))||{}).cartData,z=void 0===q?{}:q,Q=O.veg,J=function(){var e=Object(T.Lb)(window.innerWidth);D(e)},X=Object(i.useContext)(I.a),Z=X.userOrderState,$=X.userOrderStateDispatch,ee=Z.pdpScreenCommons.currentAccordian;Object(i.useEffect)((function(){c.length&&h.length&&k(h[0].id)}),[c,h]),Object(i.useEffect)((function(){window.addEventListener("resize",J)}),[_]);var te=function(e,t){if(Y===C)return!1;e&&(e.preventDefault(),e.stopPropagation()),$({type:N,value:t});var n=document.getElementById("accordion-"+t);null===n||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),k(t)};Object(i.useEffect)((function(){return function(){$({type:N,value:""})}}),[]),Object(i.useEffect)((function(){ee&&te(null,ee)}),[ee]);var ne=function(){var e=Object(je.a)(ve.a.mark((function e(t){var a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),W.localized){e.next=5;break}n(),e.next=9;break;case 5:return a=f?c:[],e.next=8,K(Object(_t.a)({params:{basketId:z.id},tenantId:null===V||void 0===V?void 0:V.tenantId},[{Id:b,categoryId:r,quantity:F,modGrps:a}]));case 8:H(1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e,t,n){n.preventDefault(),n.stopPropagation(),t===x.Decrease&&F>1&&H(F-1),t===x.Increase&&H(F+1)},ie=function(e){var t;if(Object(T.Fb)(e)&&(t=Object(T.jb)(e,null===V||void 0===V?void 0:V.currencyConversionFactor)||0),f)t=e;else if(0===t)return G(C),Object(Ae.e)("outOfStock");var n=F*t;return"".concat(null===V||void 0===V?void 0:V.currencySymbol," ").concat(Math.round(100*n)/100)};return Object(T.Fb)(t)?Object(u.jsx)(Ff,{"data-testid":"pdp-summary-view",pdpData:t,getDname:Bf,veg:Q,Non_veg_dot_Icon:Is,Veg_dot_Icon:Cs,modgrps:h,customizable:f,isActive:L,itemStatus:Y,IS_OUT_OF_STOCK:C,setAsActiveLink:te,PDPEditIconDisabled:Uf,PDPEditIcon:Hf,isMobile:_,isIpad:s,quantityUpdateTemplate:function(){return Object(u.jsx)("div",{className:"quantityAddtocart qty-calc mg-set ".concat(F?"cardwithQuantity "+W.loggedIn:"cardwithNoquantity"),children:Object(u.jsx)(is,{itemCount:F,itemQuantity:g,updateItemQuantity:ae,quantityAction:x,item:void 0,itemName:Bf(t),maxItemCountPerLineItem:null===V||void 0===V?void 0:V.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})},addToCartTemplate:function(){return Object(u.jsx)(Qa.a,{tabIndex:"1",className:"button redButton pdp-cart-button","data-testid":"add-to-cart-handler",onClick:function(e){return ne(e)},disabled:Y===C,children:Y===C?Object(u.jsx)("span",{className:"outofstock",children:Object(Ae.e)("outOfStock")}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:Object(Ae.e)("addToCart")}),p&&p.length&&Object(u.jsx)("span",{children:ie(f?o:p[0])})]})})},makeItComboHandler:function(e){if(Y===C)return!1;e.preventDefault()},comboData:d}):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(Ae.e)("turnedNoResult")})},Gf=function(e){var t=e.shortDescription,n=e.longDescription,a=e.isMobile,c=e.tenantData,o=mi.a.SHORT,r=mi.a.READ_MORE,s=mi.a.READ_LESS,d=mi.a.LONG,l=mi.a.INDIA,b=mi.a.MAX_LENGTH_READ,v=Object(i.useState)(""),O=Object(j.a)(v,2),m=(O[0],O[1]),f=Object(i.useState)(""),p=Object(j.a)(f,2),h=p[0],g=p[1],x=Object(i.useState)(o),N=Object(j.a)(x,2),E=N[0],I=N[1];Object(i.useEffect)((function(){t&&t.length&&m(t[0].value)}),[t]),Object(i.useEffect)((function(){n&&n.length&&g(n[0].value)}),[n]);var C=function(){I(E===o?d:o)};return Object(u.jsxs)("div",{className:"pdp-desc",children:[Object(u.jsx)("div",{className:"d-flex mb-4",children:Object(u.jsx)(A.a,{srcFile:Ra,className:"stripes-img"})}),Object(u.jsxs)("span",{className:"pdp-desc-header",children:[" ",Kf(Ae.e,c,l)," "]}),a?Object(u.jsxs)("div",{className:"desc-box",children:[E===o?Object(T.pc)(h,b,!1):h,Object(u.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:C,children:E===o?Object(Ae.e)(r):Object(Ae.e)(s)})]}):Object(u.jsx)("div",{className:"desc-box",children:h})]})};function Kf(e,t,n){return(null===t||void 0===t?void 0:t.country)===n?e("insideYourMeal"):e("mealOptions")}var Vf=function(e){var t=e.redirectLink,n=Object(i.useState)(!1),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1];Object(i.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop;o(!(e<100)),l(e<=0?0:e)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[d]);return Object(u.jsxs)(H,{href:t,className:"".concat(c?"floating view_menu_link":"view_menu_link"),spy:!0,"data-testid":"viewMenu-test-id",children:[Object(u.jsxs)("span",{className:"grid-icon grid-icon--line2",children:[Object(u.jsxs)("span",{class:"layer layer--primary",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("span",{class:"layer layer--secondary",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]})]}),Object(u.jsx)("label",{className:"view_menu",children:function(){var e=Object(Ae.e)("view"),t=Object(Ae.e)("menuTitle");return"".concat(e," ").concat(t)}()})]})},Wf=function(e,t,n,a){return Object(u.jsxs)(u.Fragment,{children:[!e&&Object(u.jsx)(Vf,{redirectLink:"/menu"}),Object(u.jsx)(A.a,{defaultPath:Object(T.V)(null,n,!0),srcFile:Object(T.V)(t.imageName,n),className:"".concat(a?"pdp-product-mobile-image":"pdp-product-image")})]})},qf=function(e){var t=e.productDetails,n=e.tenantData,c=e.isMobile,o=e.displayBreadcrumbPDP,r=e.isIpad,s=e.product_name,d=_e.a.ADD_TO_CART_CLICK,l=_e.a.DISPOSITION_DATA,b=mi.a.CUSTM_EXPAND_TYPE,v=mi.a.MAKE_IT_COMBO_HEADER,O=mi.a.MAKE_IT_COMBO_SUBHEADER,m=mi.a.UPSELL,f=mi.a.CROSSELL,p=mi.a.PDP,h=Vr,g=Object(T.wb)(t).isFromPlp,x=void 0!==g&&g,N=Object(i.useState)({}),C=Object(j.a)(N,2),S=C[0],A=C[1],y=Object(i.useState)(),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(i.useState)(0),L=Object(j.a)(w,2),k=L[0],P=L[1],M=Object(i.useState)([]),F=Object(j.a)(M,2),H=F[0],U=F[1],B=Object(i.useState)([]),Y=Object(j.a)(B,2),G=Y[0],K=Y[1],V=Object(i.useState)({}),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=Object(i.useContext)(I.a).userOrderStateDispatch,J=Object(E.c)((function(e){return e.menuReducer.currentItemDetails}));Object(i.useEffect)((function(){Q({type:b,value:"single"})}),[]),Object(i.useEffect)((function(){if(Object(T.u)(Object(T.Fb)(J),(null===J||void 0===J?void 0:J.url)===s)){var e=J.additionalProperties,n=Object(T.Rb)(e)||{};A(Object(a.a)(Object(a.a)({},J),{},{additionalProperties:n,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:t.catalogName,itemId:t.productId}));var i=function(e,t,n){var a={combo:[],recommendation:[]};if(Object(T.eb)(e)){var i=e.find((function(e){return e.recommendationType===t})),c=e.find((function(e){return e.recommendationType===n}));a.combo=Object(T.pb)(Object(T.Fb)(i),null===i||void 0===i?void 0:i.recommendedItems,[]),a.recommendation=Object(T.pb)(Object(T.Fb)(c),null===c||void 0===c?void 0:c.recommendedItems,[])}return a}(null===J||void 0===J?void 0:J.recommendationRules,m,f);U(i.combo),K(i.recommendation),z(J)}}),[JSON.stringify(J)]);var X=function(e,t,a,i,c){return Object(u.jsx)(qd,{products:t,country:null===n||void 0===n?void 0:n.country,cssClass:c,header:a,subHeader:i,recommendedRule:e,source:p})},Z=function(){Q({type:l,value:{showDisposition:!0}}),Q({type:d,value:{addToCart:!0,productItemId:t.productId,categoryId:t.categoryId,oldProduct:t.productInfo,customizable:t.customizable,catalogs:t.catalogName,fromPdpPage:!0}})},$=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Yf,{pdpData:S,isMobile:c,isIpad:r,addtoCartClinckHandler:Z,customModGrps:D,modifiedPrice:k,categoryId:t.categoryId,comboData:null===H||void 0===H?void 0:H.length})})};return Object(T.Fb)(S)&&Object(T.Fb)(q)&&Object(T.Fb)(n)?Object(u.jsxs)(u.Fragment,{children:[!c&&Object(u.jsx)("div",{className:"pdp-navigation",children:o}),Object(u.jsxs)("div",{className:"".concat(c?"pdp-mobile-container ":"pdp-details-container"),children:[!c&&Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("div",{className:"image-container",children:Wf(x,S,n,c)}),q.modgrps&&$()]}),c&&Object(u.jsxs)("div",{className:"pdp-mobile-image-container",children:[Wf(x,S,n,c),Object(u.jsx)("div",{className:"pdp-mobile-navigation",children:o}),q.modgrps&&$()]})]}),Object(u.jsx)("div",{className:"pdp-desc-container ".concat(c?"mobile":""),children:!!Object(T.Fb)(q)&&Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(Gf,{shortDescription:q.shortDescription,longDescription:q.longDescription,isMobile:c,tenantData:n})})}),S.customizable&&Object(u.jsx)("div",{className:"pdp-custm-container ".concat(c?"mobile":""),children:Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(Ed,{data:q,isModal:!1,showPriceContent:!1,isMobile:c,callBackToPDP:function(e){var t=e.modifierGrp,n=void 0===t?{}:t,a=e.modifiedItemPrice,i=void 0===a?0:a;R(n),P(i)},source:p})})}),Object(T.u)((null===H||void 0===H?void 0:H.length)>0,!q.customizable)&&X(m,H,Object(Ae.e)(v),Object(Ae.e)(O),"pdp-combo"),(null===G||void 0===G?void 0:G.length)>0&&X(f,G,h,"","pdp-recommendations")]}):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(Ae.e)("turnedNoResult")})},zf=function(e,t,n,a){var i,c,o=null===n||void 0===n||null===(i=n.categories)||void 0===i?void 0:i.find((function(t){return t.id===e})),r=o?Object(T.O)(o,n,[o.name],a):"",s=null===n||void 0===n||null===(c=n.items)||void 0===c?void 0:c.find((function(e){return e.id===t}));return Object(T.u)(o,s)?"".concat(r," > ").concat(s.dname[0].value):""},Qf=function(e,t,n,a,i,c,o,r,s,d){return Object(u.jsx)("div",{className:"pdp-container",children:e&&(null===t||void 0===t?void 0:t.tenantId)&&Object(u.jsx)(qf,{tenantData:t,isIpad:d,productDetails:e,isMobile:n,displayBreadcrumbPDP:zf(a,i,o,s),isStoreClosed:r,product_name:c})})},Jf=function(e){var t,n,o,r,s=e.tenantData,d=e.contentData,l=e.match,b=e.history,v=e.setStoreClosedInfo,O=l.params,m=O.category_name,p=void 0===m?"":m,h=O.product_name,g=void 0===h?"":h,x=d.storeInfo,N=d.dispositionType,C=d.selectedDate,A=d.selectedTime,y=s.tenantId,_=s.currencyConversionFactor,D=s.country,R=mi.a.SET_PDP_DEEPLINK_MODE,w=mi.a.RESET_MODGROUP_IDS_UPDATE,L=mi.a.YYYYMMDD,k=mi.a.YYYYMMDD_hhmm_A,P=_e.a.PLP_PDP_DETAILS,M=_e.a.MENU_URL,F=_e.a.CLOSED,H=Object(i.useContext)(I.a),U=H.userOrderStateDispatch,B=H.userOrderState,Y=B.pdpDeepLinking,G=B.ProductDetails,K=Object(T.wb)(G).isFromPlp,V=void 0!==K&&K,W=Object(i.useState)(Object(T.Lb)(window.innerWidth)),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(Object(T.Ib)()),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(S.cb),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(""),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)(""),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useMemo)((function(){return Object(T.Fb)(G)?G:{}}),[G]),fe=f.a.SERVICE_CHANNEL,pe=(null===x||void 0===x||null===(t=x.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(o=n.catalogs)||void 0===o?void 0:o.length)&&x.summary.menu.catalogs[0]||(null===s||void 0===s?void 0:s.genericMenuName)||"",he=(null===x||void 0===x?void 0:x.id)||"",ge=N,xe=Object(E.b)(),Ne=Object(E.c)((function(e){return e.menuReducer.currentItemDetails})),Ee=Object(E.c)((function(e){return e.menuReducer.flatResponse})),Te=Object(E.c)((function(e){return e.menuReducer})),Ie=Object(E.c)((function(e){return e.storesReducer})).storesTimeSlots,Ce=Object(i.useState)(!1),Se=Object(j.a)(Ce,2),ye=Se[0],Re=Se[1],we=function(){var e=Object(T.Lb)(window.innerWidth),t=Object(T.Ib)();Q(e),$(t)};return Object(i.useEffect)((function(){if(U({type:w}),window.scrollTo(0,0),U({type:R,value:{pdpDeepLinking:!V}}),Object(T.u)(C,A)){var e=ko(A),t=Object(De.k)(Object(De.e)(C,L)+" "+e,k),n={storeid:he,channel:wa.b.channel,service:ge,futureDateTimeInEpochFormat:t};xe(Object(ti.g)({data:n,tenantId:y}))}!function(){if(Object(T.Fb)(me)){var e,t,n,a=[{item_name:(null===me||void 0===me||null===(e=me.productInfo)||void 0===e||null===(t=e.productName[0])||void 0===t?void 0:t.value)||"NA",item_id:(null===me||void 0===me?void 0:me.productId)||"NA",price:(null===me||void 0===me||null===(n=me.productInfo)||void 0===n?void 0:n.productPrice)||"NA",item_category:(null===me||void 0===me?void 0:me.catalogName)||"NA",item_list_name:(null===me||void 0===me?void 0:me.catalogName)||"NA",item_list_id:(null===me||void 0===me?void 0:me.categoryId)||"NA",index:1,quantity:1}];ut(a)}}()}),[]),Object(i.useEffect)((function(){if(Object(T.Fb)(Ie)){var e,t,n,i=Object(a.a)(Object(a.a)({},x),{},{summary:Ie}),c=Object(T.wb)(null===i||void 0===i||null===(e=i.summary)||void 0===e?void 0:e.timings),o=c.futureDates,r=c.scheduled,s=c.asap,d=Object(T.wb)(r).unavailibilities,l=Object(T.wb)((null===r||void 0===r||null===(t=r.periods)||void 0===t?void 0:t.length)&&(null===r||void 0===r?void 0:r.periods[0])),u=l.interval,j=void 0===u?0:u,O=l.startEndTime,m=void 0===O?{}:O,f=m.from,p=m.to,h=Bv(f,p,j,s,o,D,d);(null===Ie||void 0===Ie||null===(n=Ie.status)||void 0===n?void 0:n.currentStatus)!==F||h.length?Re(!1):(v(i),Re(!0),b.push({pathname:"".concat(M)}))}}),[Ie]),Object(i.useEffect)((function(){(function(e,t,n){return e===(null===n||void 0===n?void 0:n.genericMenuName)||e&&t})(pe,ge,s)&&xe(Object(Oi.d)({tenantId:y,catalogName:pe},{storeId:he,channel:fe,service:ge}))}),[he,ge]),Object(i.useEffect)((function(){if(Object(T.u)(le===(null===Ne||void 0===Ne?void 0:Ne.id),Y)){var e,t={productImage:null===Ne||void 0===Ne?void 0:Ne.imageName,productName:null===Ne||void 0===Ne?void 0:Ne.dname,productPrice:Object(T.jb)(null===Ne||void 0===Ne?void 0:Ne.availability[0],_)},n={productId:le,customizable:null===Ne||void 0===Ne?void 0:Ne.customizable,categoryId:je,catalogName:null===Te||void 0===Te||null===(e=Te.response)||void 0===e?void 0:e.id,productInfo:t,isFromPlp:V};U({type:P,value:n})}}),[JSON.stringify(Ne)]),Object(i.useEffect)((function(){if(Object(T.Fb)(Ee)){var e,t,n,a,i,c,o,r=null===Ee||void 0===Ee||null===(e=Ee.items)||void 0===e?void 0:e.filter((function(e){return e.url===g})),d=null===Ee||void 0===Ee||null===(t=Ee.categories)||void 0===t?void 0:t.filter((function(e){return e.url===p}));Oe(null===d||void 0===d||null===(n=d[0])||void 0===n?void 0:n.id),ue(null===r||void 0===r||null===(a=r[0])||void 0===a?void 0:a.id);var l=null===d||void 0===d||null===(i=d[0])||void 0===i?void 0:i.name,u=null===r||void 0===r||null===(c=r[0])||void 0===c?void 0:c.name,v=Jb(s,null===Ee||void 0===Ee?void 0:Ee.categories,l,u),j=v.seoPage,O=v.seoObject;ae(j),re(O);var m=function(e,t,n,a,i,c){var o=e.history,r=e.productDetails,s=e.tenantData,d=e.pdpDeepLinking,l="";if(Object(T.Fb)(r)&&Object(T.Fb)(s)&&!d)l=r.productId;else if(d){var u,b,v,j,O,m=null===t||void 0===t||null===(u=t.items)||void 0===u?void 0:u.filter((function(e){return e.id===a})),f=null===c||void 0===c||null===(b=c.data)||void 0===b||null===(v=b.categories)||void 0===v?void 0:v.filter((function(e){return(null===e||void 0===e?void 0:e.url)===i})),p=null===f||void 0===f||null===(j=f[0])||void 0===j||null===(O=j.products)||void 0===O?void 0:O.filter((function(e){var t;return(null===e||void 0===e?void 0:e.name)===(null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.name)}));if(!(null===f||void 0===f?void 0:f.length)||!(null===p||void 0===p?void 0:p.length))return o.push({pathname:"".concat(n)}),Object(T.nc)(Object(Ae.e)("exploreFoodItem")),!1;l=(null===p||void 0===p?void 0:p.length)>0&&a}return l}({history:b,productDetails:me,tenantData:s,pdpDeepLinking:Y},Ee,M,null===r||void 0===r||null===(o=r[0])||void 0===o?void 0:o.id,p,Te);m&&xe(Object(Oi.c)({tenantId:y,catalogName:pe,itemId:m}))}}),[JSON.stringify(Ee),Y]),Object(i.useEffect)((function(){window.addEventListener("resize",we)}),[z,Z]),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Kr,{page:ne,seoObj:oe}),Qf(me,s,z,je,le,g,Ee,ye,pe,Z),B.addToCart&&B.isLocalized&&B.fromPdpPage&&Object(u.jsx)(Fb,{flatResponse:Ee,tenantReducer:s}),(null===(r=B.cartAlertData)||void 0===r?void 0:r.showCartAlert)&&Object(u.jsx)(Hb,{})]})},Xf=function(e){var t,n,o,r,s=Object(i.useContext)(I.a),d=s.userOrderState,l=s.userOrderStateDispatch,b=Object(E.c)((function(e){return e.tenantReducer})),v=Object(T.Eb)(d.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):d.dispositionNew,j=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(T.Fb)(b)?b:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:v?v.store:{},selectedDate:null===v||void 0===v?void 0:v.date,selectedTime:null===v||void 0===v?void 0:v.time,dispositionType:v&&v.type?Object(T.L)(v.type):Object(T.L)(null===(e=b.authoredContent)||void 0===e?void 0:e.defaultdisposition),selectedTile:d&&Object(T.Fb)(d.selectedTile)?d.selectedTile:JSON.parse(localStorage.getItem("selectedTile"))}}),[v,b,d]),O=null,m=null,f=null,p=Rf.DISPOSITION,h=Object(E.b)(),g=Object(E.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){h(fj(b))}),[h,null===b||void 0===b?void 0:b.country]),Object(i.useEffect)((function(){h(pj(g))}),[h,g]);var x=Object(E.c)((function(e){return{homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantReducerContent:e.tenantReducer}}));if(x.marketPageContent&&x.tenantReducerContent&&x.homePageContent){O=Object(T.Y)(x.homePageContent)||null;var N=x.marketPageContent.headerData||{},C=N.header,S=void 0===C?{}:C,A=N.tenant,y=void 0===A?[]:A,_=N.footer,D=void 0===_?{}:_;m=Object(T.Z)(S),f=Object(T.R)(D),Object(T.nb)(y)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(T.Fb)(m)&&Object(u.jsx)($a,{contentData:m,tenantReducerData:x.tenantReducerContent,userParams:g})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(t=null===(n=O)||void 0===n?void 0:n[p])&&void 0!==t?t:{},contentDispositionData:null!==(o=null===(r=O)||void 0===r?void 0:r[p])&&void 0!==o?o:{}},userParams:g}),Object(u.jsx)(Jf,Object(a.a)(Object(a.a)({tenantData:b,contentData:j},e),{},{setStoreClosedInfo:function(e){Object(T.jc)(e,l,v,Object(T.J)(j.dispositionType))}})),Object(T.Fb)(f)&&Object(u.jsx)(ma,{history:e.history,contentData:f,tenantReducerData:x.tenantReducerContent})||null,d.showCartClearAlert?Object(u.jsx)(Zd,{}):null]})},Zf=n(125),$f={"/cart":S.db.CART,"/offers":S.db.OFFERS,"/login":S.db.LOGIN,"/help":S.db.HELP,"/checkout":S.db.CHECKOUT,"/payment-failure":S.db.PAYMENT_FAILURE,"/payment-success":S.db.PAYMENT_SUCCESS,"/payment-status-check":S.db.PAYMENT_STATUS,"/ourads":S.db.OUR_ADDS,"/contactus":S.db.CONTACT_US,"/terms-of-use":S.db.TERMS_OF_USE,"/terms-and-conditions":S.db.TERMS_CONDITIONS,"/faq":S.db.FAQ,"/giftcards":S.db.GIFT_CARD,"/privacypolicy":S.db.PRIVACY_POLICY,"/signout":S.db.SIGN_OUT,"/account":S.db.ACCOUNT},ep=function(e){var t,n,c,o=Object.assign({},e),r=Object(i.useState)(""),s=Object(j.a)(r,2),d=s[0],l=s[1],b=null===(t=window)||void 0===t||null===(n=t.location)||void 0===n||null===(c=n.pathname)||void 0===c?void 0:c.trim().toLowerCase();return Object(i.useEffect)((function(){var e,t=null===$f||void 0===$f?void 0:$f[b],n=t&&Object(Ae.e)(t),a=null!==(e=null!==n&&void 0!==n?n:Object(O.startCase)(b))&&void 0!==e?e:S.N;l(a)}),[b]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ur.a,{children:Object(u.jsx)("title",{children:d})}),Object(u.jsx)(M.a,Object(a.a)({},o))]})},tp=n(142),np=function(e){var t,n,a,c,r,s,d=e.routePath,l=e.hideNav,b=Object(i.useState)(Object(T.Lb)(window.innerWidth)),v=Object(j.a)(b,2),m=v[0],p=v[1],h=Object(o.f)(),g=Object(E.c)((function(e){var t,n,a,i,c;return{marketPageContent:null!==(t=e.marketConfigReducer.response)&&void 0!==t?t:null,tenantReducerContent:null!==(n=e.tenantReducer)&&void 0!==n?n:null,userParams:null!==(a=e.appStateReducer.userStatus)&&void 0!==a?a:null,brandPageContent:null!==(i=e.brandPageReducer.response)&&void 0!==i?i:null,homePageContent:null!==(c=e.contentReducer.response)&&void 0!==c?c:null}})),N=g.marketPageContent,I=g.tenantReducerContent,S=g.userParams,A=g.brandPageContent,y=g.homePageContent,_=null!==(t=N.headerData)&&void 0!==t?t:{},D=_.header,R=void 0===D?{}:D,w=_.footer,L=void 0===w?{}:w,k=(null!==A&&void 0!==A?A:{}).headerData,P=void 0===k?{}:k,M=Object(O.get)(P,"hostUrl",""),F=null!==(n=Object(T.Z)(R))&&void 0!==n?n:null,H=null!==(a=Object(T.R)(L))&&void 0!==a?a:null,U=null!==(c=Object(T.Y)(y))&&void 0!==c?c:{},B=f.a.DISPOSITION,Y=Object(E.b)(),G='<iframe src="'.concat(M,'" onload=\'(function(o){o.style.height=o.contentWindow.document.body.scrollHeight+"px";}(this));\' style="height:100vh;width:100%;border:none;overflow:hidden;"></iframe>'),K=Object(u.jsx)("div",{children:Object(u.jsx)("div",{id:"hostedContentFrame",dangerouslySetInnerHTML:{__html:G}})}),V=function(){var e=Object(T.Lb)(window.innerWidth);p(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",V),function(){window.removeEventListener("resize",V)}}),[m]),Object(i.useEffect)((function(){d&&Y(Object(tp.c)({object:Object(C.a)(),contentFull:{content_type:"brandPageTemplate1","fields.routePath":d,include:5}})),Y(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===I||void 0===I?void 0:I.country,"fields.channel":wa.b.channel,include:5}}))}),[Y,null===I||void 0===I?void 0:I.country,d]),Object(u.jsxs)(u.Fragment,{children:[Object(T.Fb)(F)&&(!l||!1===l)&&Object(u.jsx)($a,{contentData:F,tenantReducerData:I,userParams:S})||null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(r=null===U||void 0===U?void 0:U[B])&&void 0!==r?r:{},contentDispositionData:null!==(s=null===U||void 0===U?void 0:U[B])&&void 0!==s?s:{}},userParams:S,showHeader:!1}),K,Object(T.Fb)(H)&&(!l||!1===l)&&Object(u.jsx)(ma,{history:h,contentData:H,tenantReducerData:I})||null]})};np.defaultProps={history:{},hideNav:!1};var ap=np,ip=function(e){var t=e.body,n=e.headline;return Object(u.jsxs)("div",{className:"container brand-page",children:[Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"row pt-3 pb-3",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("h1",{className:"title text-uppercase font-weight-bold position-relative ng-binding",children:n})})})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:Object(Yr.documentToHtmlString)(t)}})})]})},cp=function(e){var t,n,c,r,s,d,l,b,v,m,p=e.routePath,h=e.hideNav,g=Object(i.useState)(Object(T.Lb)(window.innerWidth)),N=Object(j.a)(g,2),I=N[0],S=N[1],A=Object(o.f)(),y=Object(E.c)((function(e){var t,n,a,i,c;return{marketPageContent:null!==(t=e.marketConfigReducer.response)&&void 0!==t?t:null,tenantReducerContent:null!==(n=e.tenantReducer)&&void 0!==n?n:null,userParams:null!==(a=e.appStateReducer.userStatus)&&void 0!==a?a:null,brandPageContent:null!==(i=e.brandPageReducer.response)&&void 0!==i?i:null,homePageContent:null!==(c=e.contentReducer)&&void 0!==c?c:null}})),_=y.marketPageContent,D=y.tenantReducerContent,R=y.userParams,w=y.brandPageContent,L=y.homePageContent,k=null!==(t=_.headerData)&&void 0!==t?t:{},P=k.header,M=void 0===P?{}:P,F=k.footer,H=void 0===F?{}:F,U=(null!==w&&void 0!==w?w:{}).headerData,B=void 0===U?{}:U,Y=Object(O.get)(B,"carousalContent.fields.carousalContent",""),G=null!==(n=Y&&nr(Y))&&void 0!==n?n:[],K=null!==(c=Object(T.Z)(M))&&void 0!==c?c:null,V=null!==(r=Object(T.R)(H))&&void 0!==r?r:null,W=null!==(s=Object(T.Y)(L))&&void 0!==s?s:{},q=Object(E.b)(),z=f.a.DISPOSITION,Q=Object(u.jsxs)(u.Fragment,{children:[null!==(d=Object(T.Fb)(G)&&Object(u.jsx)("div",{className:"market-hero",children:Object(u.jsx)(tr,{contentData:G,isMobile:I})}))&&void 0!==d?d:null,Object(u.jsx)(ip,Object(a.a)({},B))]}),J=function(){var e=Object(T.Lb)(window.innerWidth);S(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",J),function(){window.removeEventListener("resize",J)}}),[I]),Object(i.useEffect)((function(){p&&q(Object(tp.c)({object:Object(C.a)(),contentFull:{content_type:"brandPageTemplate2","fields.routePath":p,include:5}})),q(Object(x.a)({object:Object(C.a)(),contentFull:{content_type:"marketConfig","fields.location":null===D||void 0===D?void 0:D.country,"fields.channel":wa.b.channel,include:5}}))}),[q,null===D||void 0===D?void 0:D.country,p]),Object(u.jsxs)(u.Fragment,{children:[null!==(l=Object(T.Fb)(K)&&(!h||!1===h)&&Object(u.jsx)($a,{contentData:K,tenantReducerData:D,userParams:R}))&&void 0!==l?l:null,Object(u.jsx)(Ko,{contentData:{segmentedHomePageData:null!==(b=null===W||void 0===W?void 0:W[z])&&void 0!==b?b:{},contentDispositionData:null!==(v=null===W||void 0===W?void 0:W[z])&&void 0!==v?v:{}},userParams:R,showHeader:!1}),Q,null!==(m=Object(T.Fb)(V)&&(!h||!1===h)&&Object(u.jsx)(ma,{history:A,contentData:V,tenantReducerData:D}))&&void 0!==m?m:null]})};cp.defaultProps={history:{},hideNav:!1};var op=cp,rp=n(228),sp=n.n(rp),dp=n(382),lp=n.n(dp),up=Zf.a.Template1,bp=Zf.a.Template2,vp=function(e){var t,n=Object.assign({},e),c=Object(o.g)(),r=Object(E.b)(),s=null!==(t=Object(E.c)((function(e){var t=e.contentReducer,n=(t=void 0===t?{}:t).navigationLinkResponse,a=(n=void 0===n?{}:n).fields,i=void 0===a?[]:a,c=t.isContentfulLoading;return{fields:i,isLoading:void 0===c||c}})))&&void 0!==t?t:{},d=Object(i.useState)(!0),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(null),m=Object(j.a)(O,2),f=m[0],h=m[1],g=Object(i.useState)(null),x=Object(j.a)(g,2),N=x[0],T=x[1],I=Object(i.useState)(!1),S=Object(j.a)(I,2),A=S[0],y=S[1],_=Object(i.useState)(!0),D=Object(j.a)(_,2),R=D[0],w=D[1];return Object(i.useLayoutEffect)((function(){r(Object(p.d)({cmsClient:Object(C.a)(),query:{content_type:"navigationLink",select:"sys.id,fields",include:"5"}}))}),[r]),Object(i.useEffect)((function(){T(function(e,t){var n=e;if((null===e||void 0===e?void 0:e.includes("/true"))||(null===e||void 0===e?void 0:e.includes("/false"))){var a,i=null!==(a=null===e||void 0===e?void 0:e.includes("/true"))&&void 0!==a?a:!(null===e||void 0===e?void 0:e.includes("/false"));t(i),n=(null===e||void 0===e?void 0:e.split("/".concat(i)))[0]}return n}(null===c||void 0===c?void 0:c.pathname,y)),w(!0)}),[null===c||void 0===c?void 0:c.pathname]),Object(i.useEffect)((function(){if(!sp()(null===s||void 0===s?void 0:s.fields)&&!sp()(N)&&R){w(!1);var e=function(e){var t={};return lp()(e,(function(e){return Object.values(Zf.a).includes(e.brandPageTemplate)})).forEach((function(e){t[e.internalurl]=e.brandPageTemplate})),t}(null===s||void 0===s?void 0:s.fields),t=null===e||void 0===e?void 0:e[N],i=function(e,t,n,i){if(!sp()(i))return Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},e),{},{render:function(e){return i===up?Object(u.jsx)(ap,Object(a.a)({routePath:t,hideNav:n},e)):i===bp?Object(u.jsx)(op,Object(a.a)({routePath:t,hideNav:n},e)):void 0}}))}(n,N,A,t);h(i),v(!1)}}),[R,null===s||void 0===s?void 0:s.fields,N]),b?Object(u.jsx)(Lj.a,{isInProgress:!0}):f?Object(u.jsx)(u.Fragment,{children:f}):Object(u.jsx)(o.a,{component:hj})},jp=DO((function(e){var t=Object(E.b)(),n=Object(E.c)((function(e){return e})),c=n.tenantReducer,o=n.orderReducer;return Object(i.useEffect)((function(){Object(NO.t)(t)}),[]),Object(i.useEffect)((function(){if(Lr.d&&(null===c||void 0===c?void 0:c.tenantId)){var e=window.location.search.split("?")[1],n=new URLSearchParams(e),i=Object.fromEntries(n.entries());Object(NO.b)(t,Object(a.a)({tenantId:null===c||void 0===c?void 0:c.tenantId},i))}}),[Lr.d,null===c||void 0===c?void 0:c.tenantId]),Object(i.useEffect)((function(){var t;if(Lr.d&&(null===c||void 0===c?void 0:c.tenantId)&&(null===o||void 0===o?void 0:o.pastOrderResponse)&&(null===o||void 0===o||null===(t=o.pastOrderResponse)||void 0===t?void 0:t.length)){var n=null===o||void 0===o?void 0:o.pastOrderResponse[0];(null===n||void 0===n?void 0:n.id)?(localStorage.setItem(S.P.ORDER_TRACKING,JSON.stringify(Object(NO.w)(null===c||void 0===c?void 0:c.tenantId,n,!0))),Object(T.ec)(e)):(console.error(JSON.stringify(n)),Object(T.dc)(e))}}),[Lr.d,null===c||void 0===c?void 0:c.tenantId,null===o||void 0===o?void 0:o.pastOrderResponse]),Object(u.jsx)("div",{className:"PostPaymentProcessComponent",children:Object(u.jsx)(Pj,{showLoader:"false"})})})),Op=function(e){var t,n;return(null===e||void 0===e?void 0:e.orderHistoryReducer)&&(null===e||void 0===e||null===(t=e.orderHistoryReducer)||void 0===t?void 0:t.activeOrderHistory)&&(null===e||void 0===e||null===(n=e.orderHistoryReducer)||void 0===n?void 0:n.activeOrderHistory.map((function(t){return Object(u.jsxs)("div",{className:"active-orders-panel col-12 col-lg-7",children:[Object(u.jsx)("div",{class:"circle-top-left"}),Object(u.jsxs)("div",{className:"active-orders-details",children:[Object(u.jsx)("div",{className:"active-orders-details-info col-12",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getTitle(t)})}),Object(u.jsxs)("div",{className:"active-orders-details-panel col-12",children:[Object(u.jsx)("div",{className:"active-orders-details-panel-info col-12 col-lg-8",children:Object(u.jsx)("span",{className:"col-12",children:null===e||void 0===e?void 0:e.getInfo(t)})}),Object(u.jsx)("div",{className:"active-track-order-btn col-12 col-lg-4",children:Object(u.jsx)(ht.a,{"data-testid":"active-track-order-button",className:"button col-12","aria-label":null===e||void 0===e?void 0:e.getBtnTxt(t),onClickHandler:function(){return null===e||void 0===e?void 0:e.onTrackOrderBtnClickHandler(t)},id:"activeTrackOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getBtnTxt(t)})})})]}),Object(u.jsx)("div",{className:"active-orders-details-add-info col-12",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getAdditionalInfo(t)})})]}),Object(u.jsx)("div",{class:"circle-bottom-right"})]})})))},mp=c.a.memo(Op),fp="currentOrders",pp="orderHash",hp="orderGettingReady",gp="yourOrderIsScheduled",xp="pickupDetails",Np="scheduled",Ep="trackDelivery",Tp="trackOrder",Ip="scheduledTime",Cp="readyForPickup",Sp=DO((function(e){var t,n=Object(E.c)((function(e){return e})),c=n.tenantReducer,o=n.orderHistoryReducer,r=n.profileReducer,s=Object(i.useCallback)((function(e){var t,n="";return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?n=Object(T.gc)(Object(Ae.e)(Np)):Object(T.gc)(null===e||void 0===e?void 0:e.service)!==S.x.DELIVERY&&Object(T.gc)(null===e||void 0===e?void 0:e.service)!==S.x.PICKUP||(n=Object(T.gc)(null===e||void 0===e?void 0:e.service)),"".concat(n," ").concat(Object(T.gc)(Object(Ae.e)(pp))," ").concat(null===e||void 0===e?void 0:e.posOrderId)}),[]),d=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Ae.e)(gp):Object(T.gc)(null===e||void 0===e?void 0:e.service)===S.x.DELIVERY||Object(T.gc)(null===e||void 0===e?void 0:e.service)===S.x.PICKUP?Object(Ae.e)(hp):void 0}),[]),l=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Ae.e)(Tp):Object(T.gc)(null===e||void 0===e?void 0:e.service)===S.x.DELIVERY?Object(Ae.e)(Ep):Object(T.gc)(null===e||void 0===e?void 0:e.service)===S.x.PICKUP?Object(Ae.e)(xp):void 0}),[]),b=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Ae.e)(Ip):Object(T.gc)(null===e||void 0===e?void 0:e.service)===S.x.PICKUP?Object(Ae.e)(Cp):void 0}),[]),v=Object(i.useCallback)((function(t){var n=Object(a.a)(Object(a.a)({},t),{},{customer:null===r||void 0===r?void 0:r.basic}),i=Object(NO.w)(null===c||void 0===c?void 0:c.tenantId,n);i.postOrderDetails={},localStorage.setItem(S.P.ORDER_TRACKING,JSON.stringify(i)),Object(T.ec)(e)}),[]);return Object(u.jsxs)("div",{className:"active-orders col-12",children:[Object(u.jsxs)("div",{className:"active-orders-title col-12",children:[Object(u.jsx)("img",{src:Ls.Strips,alt:"Red Strip",class:"account-icon"}),Object(u.jsx)("h4",{class:"currentStatus",children:"".concat(Object(Ae.e)(fp)," (").concat(null===o||void 0===o||null===(t=o.activeOrderHistory)||void 0===t?void 0:t.length,")")})]}),Object(u.jsx)("div",{className:"active-orders-list col-12",children:Object(u.jsx)(mp,{orderHistoryReducer:o,getTitle:s,getInfo:d,getBtnTxt:l,getAdditionalInfo:b,onTrackOrderBtnClickHandler:v})})]})}));t.a=function(){var e=Object(Ht.a)(Gt.D);return Object(u.jsxs)(ep,{children:[Object(u.jsx)(v,{children:Object(u.jsx)(Af,{children:Object(u.jsx)("div",{style:{backgroundColor:Zf.b.WHITE},children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(u.jsx)(rb,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/qrhome",render:function(e){return Object(u.jsx)(rb,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/menu/:category_name?",render:function(e){return Object(u.jsx)(Xb,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/menu/:category_name?/:product_name?",render:function(e){return Object(u.jsx)(Xf,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/cart",render:function(e){return Object(u.jsx)(qv,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/offers",render:function(e){return Object(u.jsx)(ov,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:e,render:function(e){return Object(u.jsx)(rv.a,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/help",render:function(e){return Object(u.jsx)(Hm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/checkout",render:function(e){return Object(u.jsx)(dj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-failure",render:function(e){return Object(u.jsx)(FO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-success",render:function(e){return Object(u.jsx)(_O,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-status-check",render:function(e){return Object(u.jsx)(LO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/ourAds",render:function(e){return Object(u.jsx)(wj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/contactus",render:function(e){return Object(u.jsx)(_m,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/terms-of-use",render:function(e){return Object(u.jsx)(km,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/terms-and-conditions",render:function(e){return Object(u.jsx)(km,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/faq",render:function(e){return Object(u.jsx)(ZO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/giftcards",render:function(e){return Object(u.jsx)(vm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/privacyPolicy",render:function(e){return Object(u.jsx)(Cj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/PHRedirection/NavigateToMobileAppGet",render:function(e){return Object(u.jsx)(VO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/signout",render:function(e){return Object(u.jsx)(Ym,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/track-order",render:function(e){return Object(u.jsx)(jp,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/active-orders",render:function(e){return Object(u.jsx)(Sp,Object(a.a)({},e))}}),Object(u.jsx)(Sf,{path:"/order-details/:order_id",ComponentToRender:_f}),Object(u.jsx)(Sf,{path:"/account",ComponentToRender:If}),Object(u.jsx)(vp,{}),Object(u.jsx)(o.a,{component:hj})]})})})}),Object(u.jsx)(Lj.a,{}),Object(u.jsx)(Df,{})]})}},39:function(e,t,n){"use strict";n.d(t,"p",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"l",(function(){return j})),n.d(t,"f",(function(){return O})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return x})),n.d(t,"k",(function(){return N})),n.d(t,"r",(function(){return T})),n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"v",(function(){return D})),n.d(t,"q",(function(){return R})),n.d(t,"u",(function(){return w})),n.d(t,"w",(function(){return L})),n.d(t,"e",(function(){return M})),n.d(t,"t",(function(){return F}));var a=n(2),i=n(85),c=n(76),o=n(20),r=n(3),s=n(100),d=n(8),l=n(16),u=n(99),b=function(e){return E(e)===d.W.STAGED_ACCEPTED},v=function(e){return E(e)===d.W.PICKUP_DELIVERY_DINE_IN},j=function(e){return Object(r.gc)(null===e||void 0===e?void 0:e.service)===d.x.DELIVERY&&v(e)},O=function(e){return Object(r.gc)(null===e||void 0===e?void 0:e.service)===d.x.DELIVERY&&(j(e)||p(e)||h(e)||g(e))},m=function(e){return O(e)&&(null===e||void 0===e?void 0:e.deliveryPartner)},f=function(e){return O(e)&&!g(e)&&!x(e)},p=function(e){return E(e)===d.W.DELIVERY_DISTA_CREATE_ASSIGN},h=function(e){return E(e)===d.W.DELIVERY_DISTA},g=function(e){return E(e)===d.W.DELIVERY_DISTA_DELIVERED},x=function(e){return E(e)===d.W.CANCELLED},N=function(e){return h(e)||x(e)||g(e)},E=function(e){switch(Object(r.gc)(null===e||void 0===e?void 0:e.status)){case d.X.STAGED:case d.X.ACCEPTED:return l.b.shouldGoogleSpotIgnoreOloFailure?d.W.PICKUP_DELIVERY_DINE_IN:d.W.STAGED_ACCEPTED;case d.X.SENT_TO_POS_COMPLETED:if(Object(r.gc)(null===e||void 0===e?void 0:e.service)===d.x.PICKUP||Object(r.gc)(null===e||void 0===e?void 0:e.service)===d.x.DINE_IN||Object(r.gc)(null===e||void 0===e?void 0:e.service)===d.x.DELIVERY)return d.W.PICKUP_DELIVERY_DINE_IN;break;case d.X.CREATED:case d.X.ASSIGNED:return d.W.DELIVERY_DISTA_CREATE_ASSIGN;case d.X.PICKED_UP:case d.X.OUT_FOR_DELIVERY:case d.X.ARRIVED:return d.W.DELIVERY_DISTA;case d.X.DELIVERED:return d.W.DELIVERY_DISTA_DELIVERED;case d.X.CANCELLED:case d.X.CANCEL:return Object(r.gc)(null===e||void 0===e?void 0:e.service)===d.x.DELIVERY?d.W.CANCELLED:d.W.FAILED;case d.X.SENT_TO_POS_FAILED:case d.X.PAYMENT_FAILED:return d.W.FAILED}},T=function(e,t,n){if(null===e||void 0===e?void 0:e.orderAcceptedLoading)return Promise.resolve(!1);switch(E(e)){case d.W.STAGED_ACCEPTED:return t(!0),Promise.resolve(!1);case d.W.PICKUP_DELIVERY_DINE_IN:return t(!1),Promise.resolve(!0);case d.W.DELIVERY_DISTA_CREATE_ASSIGN:case d.W.DELIVERY_DISTA:case d.W.DELIVERY_DISTA_DELIVERED:case d.W.CANCELLED:return t(!1),Promise.resolve(!1);case d.W.FAILED:return localStorage.setItem(d.Y.STATUS_TEXT,d.Y.FAILED),Object(r.dc)(n),Promise.resolve(!1)}},I=function(e,t,n,a,i,c,s,u,b){if(u){var v=c.userStatus,j=l.b.shouldGoogleSpotIgnoreOloFailure||Object(r.gc)(null===n||void 0===n?void 0:n.status)===d.X.SENT_TO_POS_COMPLETED;Object(r.f)(j,!s,null===a||void 0===a?void 0:a.id,v.localized,null===t||void 0===t?void 0:t.tenantId)&&Object(r.j)(e,o.e,null===t||void 0===t?void 0:t.tenantId,i,b)}},C=function(e,t,n){t&&(n=setTimeout((function(){t(e),n&&clearTimeout(n)}),s.c))},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null,o={emailId:null===t||void 0===t?void 0:t.userEmail,phoneNo:null===t||void 0===t?void 0:t.userPhone,orderNo:null===t||void 0===t?void 0:t.posOrderId,tenantId:null===t||void 0===t?void 0:t.tenantId},r=n+1;e(Object(c.d)(o,(function(){return C(r,a,i)})))},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=null,o={orderId:null===t||void 0===t?void 0:t.orderId,tenantId:null===t||void 0===t?void 0:t.tenantId,customerId:null===t||void 0===t?void 0:t.customerId},r=n+1;e(Object(i.a)(o,(function(){return C(r,a,c)})))},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(null===t||void 0===t?void 0:t.isExternalTrackOrder)?S(e,t,n,a):A(e,t,n,a)},_=function(e,t,n,a,i,c){t&&(null===t||void 0===t?void 0:t.orderId)?0===n||b(a)&&n<s.a?y(e,t,n,i):b(a)&&n>=s.a&&(localStorage.setItem("paymentStatus",d.Y.FAILED),Object(r.dc)(c)):Object(r.cc)(c)},D=function(e,t,n,i,c){i&&j(e)?Object(r.dc)(c):(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.status)!==(null===t||void 0===t?void 0:t.status)?n(Object(a.a)(Object(a.a)({},t),{},{status:null===e||void 0===e?void 0:e.status,orderAcceptedLoading:null===e||void 0===e?void 0:e.orderAcceptedLoading,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1})):n(Object(a.a)(Object(a.a)({},t),{},{deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1}))},R=function(e,t,n){if(j(e)&&!t)var a=setTimeout((function(){a&&clearTimeout(a)}),s.d)},w=function(e,t,n,i){var c,o;return Object(a.a)(Object(a.a)({},L(e,t,!1,n)),{},{orderAcceptedLoading:(null===t||void 0===t?void 0:t.orderAcceptedLoading)||!1,deliveryPartner:null,deliveryDistaRetryCountFlag:0,operatingTime:null===i||void 0===i||null===(c=i.store)||void 0===c||null===(o=c.summary)||void 0===o?void 0:o.timings})},L=function(e,t){var n,a,i,c,o,r,s,d,l,u,b,v=arguments.length>2&&void 0!==arguments[2]&&arguments[2],j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},O=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},m={orderId:(null===t||void 0===t?void 0:t.id)||(null===j||void 0===j?void 0:j.id),customerId:(null===t||void 0===t||null===(n=t.customer)||void 0===n?void 0:n.id)||(null===j||void 0===j||null===(a=j.customer)||void 0===a?void 0:a.id),tenantId:e,service:(null===t||void 0===t?void 0:t.service)||(null===j||void 0===j?void 0:j.service),status:(null===t||void 0===t?void 0:t.status)||(null===j||void 0===j?void 0:j.status),orderTime:(null===t||void 0===t?void 0:t.fulfillmentDateTime)||(null===j||void 0===j?void 0:j.fulfillmentDateTime),deliveryPartner:(null===t||void 0===t?void 0:t.deliveryPartner)||(null===j||void 0===j?void 0:j.deliveryPartner),posOrderId:(null===t||void 0===t?void 0:t.posOrderId)||(null===j||void 0===j?void 0:j.posOrderId),userEmail:(null===t||void 0===t||null===(i=t.customer)||void 0===i?void 0:i.email)||(null===j||void 0===j||null===(c=j.customer)||void 0===c?void 0:c.email),userPhone:(null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.phoneNumber)||(null===t||void 0===t||null===(r=t.customer)||void 0===r?void 0:r.phone)||(null===j||void 0===j||null===(s=j.customer)||void 0===s?void 0:s.phoneNumber),postOrderDetails:t,isExternalTrackOrder:v};O&&(null===O||void 0===O||null===(d=O.storesWithStatus)||void 0===d?void 0:d.length)&&(m.operatingTime=null===O||void 0===O||null===(l=O.storesWithStatus)||void 0===l||null===(u=l[0])||void 0===u||null===(b=u.summary)||void 0===b?void 0:b.timings);return m},k=function(e){return e&&(null===e||void 0===e?void 0:e.pastOrderResponse)&&(null===e||void 0===e?void 0:e.pastOrderResponse.length)&&(null===e||void 0===e?void 0:e.pastOrderResponse[0].id)?null===e||void 0===e?void 0:e.pastOrderResponse[0]:null},P=function(e){var t;return e&&(null===e||void 0===e?void 0:e.orderAccepted)&&Object.keys(null===e||void 0===e?void 0:e.orderAccepted).length&&(null===e||void 0===e||null===(t=e.orderAccepted)||void 0===t?void 0:t.id)?null===e||void 0===e?void 0:e.orderAccepted:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=P(e);return null===i&&(i=k(t),a&&null===i&&(i=n&&Object.keys(null===n||void 0===n?void 0:n.postOrderDetails).length?null===n||void 0===n?void 0:n.postOrderDetails:{})),i||{}},F=function(e){!function(e){e(Object(u.g)())}(e),localStorage.getItem(d.P.PAYMENT_STATUS)!==d.Y.FAILED&&(function(e){e(Object(i.b)())}(e),function(e){e(Object(c.e)())}(e)),function(e){e(Object(c.a)({value:[]}))}(e),localStorage.removeItem(d.P.ORDER_TRACKING)}},390:function(e,t,n){"use strict";var a=n(1),i=-1,c=1,o=function(e,t){if(!function(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&"visible"===t||"scroll"===t||"auto"===t}(e))return!1;if(t===c)return e.scrollTop+e.clientHeight<e.scrollHeight;if(t===i)return e.scrollTop>0;throw new Error("unsupported direction")},r=function e(t,n){return!!o(t,n)||null!=t.parentElement&&e(t.parentElement,n)},s=(n(438),n(0)),d=function(){return Object(s.jsxs)("div",{className:"lds-ellipsis",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})},l=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"\u21a7\xa0\xa0pull to refresh\xa0\xa0\u21a7"})})},u=n(8),b=(n(440),function(e){if(!e||!e.current)return-1;var t=window.scrollY;return e.current.scrollHeight-t-window.innerHeight}),v=function(e,t){var n,a,c;(t.isDragging=!1,e instanceof MouseEvent&&(t.startY=e.pageY),window.TouchEvent&&e instanceof TouchEvent)&&(t.startY=null===(c=e.touches[0])||void 0===c?void 0:c.pageY);return t.currentY=t.startY,"touchstart"===e.type&&r(e.target,i)||(null===(n=t.childrenRef)||void 0===n||null===(a=n.current)||void 0===a?void 0:a.getBoundingClientRect().top)<0||(t.isDragging=!0),t};t.a=function(e){var t=e.isPullable,n=void 0===t||t,i=e.canFetchMore,c=void 0!==i&&i,o=e.onRefresh,r=void 0===o?u.Eb:o,j=e.onFetchMore,O=void 0===j?u.Eb:j,m=e.refreshingContent,f=void 0===m?Object(s.jsx)(d,{}):m,p=e.pullingContent,h=void 0===p?Object(s.jsx)(l,{}):p,g=e.children,x=void 0===g?u.Db:g,N=e.pullDownThreshold,E=void 0===N?67:N,T=e.fetchMoreThreshold,I=void 0===T?100:T,C=e.maxPullDownDistance,S=void 0===C?95:C,A=e.backgroundColor,y=e.className,_=void 0===y?"ptr-def":y,D=e.dataTestId,R=void 0===D?"ptr-component":D,w=Object(a.useRef)(null),L=Object(a.useRef)(null),k=Object(a.useRef)(null),P=Object(a.useRef)(null),M=!1,F=!1,H=!1,U=0,B=0,Y=function(e){var t=v(e,{isDragging:H,startY:U,currentY:B,childrenRef:L});H=t.isDragging,U=t.startY,B=t.currentY};Object(a.useEffect)((function(){if(n&&L&&L.current)return L.current.addEventListener("touchstart",Y,{passive:!0}),L.current.addEventListener("mousedown",Y),L.current.addEventListener("touchmove",K,{passive:!1}),L.current.addEventListener("mousemove",K),window.addEventListener("scroll",V),L.current.addEventListener("touchend",W),L.current.addEventListener("mouseup",W),document.body.addEventListener("mouseleave",W),function(){n&&L&&L.current&&(L.current.removeEventListener("touchstart",Y),L.current.removeEventListener("mousedown",Y),L.current.removeEventListener("touchmove",K),L.current.removeEventListener("mousemove",K),window.removeEventListener("scroll",V),L.current.removeEventListener("touchend",W),L.current.removeEventListener("mouseup",W),document.body.removeEventListener("mouseleave",W))}}),[x,n,r,E,S,c,I]),Object(a.useEffect)((function(){var e,t;(null===(e=w)||void 0===e?void 0:e.current)&&(w.current.classList.contains("ptr--fetch-more-treshold-breached")||c&&b(L)<I&&O&&(w.current.classList.add("ptr--fetch-more-treshold-breached"),F=!0,null===(t=O())||void 0===t||t.then(G).catch(G)))}),[c,x]);var G=function(){var e=function(e){var t=e.containerRef,n=e.pullDownRef,a=e.childrenRef,i=e.pullToRefreshThresholdBreached,c=e.fetchMoreTresholdBreached;return a.current&&(e.childrenRef.current.style.marginTop=0),n.current&&(e.pullDownRef.current.style.opacity="0"),t.current&&(e.containerRef.current.classList.remove("ptr--pull-down-treshold-breached"),e.containerRef.current.classList.remove("ptr--dragging"),e.containerRef.current.classList.remove("ptr--fetch-more-treshold-breached")),i&&(e.pullToRefreshThresholdBreached=!1),c&&(e.fetchMoreTresholdBreached=!1),e}({containerRef:w,pullDownRef:k,childrenRef:L,pullToRefreshThresholdBreached:M,fetchMoreTresholdBreached:F});w=e.containerRef,k=e.pullDownRef,L=e.childrenRef,M=e.pullToRefreshThresholdBreached,F=e.fetchMoreTresholdBreached},K=function(e){var t=function(e,t){var n,a,i;return t.isDragging?(window.TouchEvent&&e instanceof TouchEvent?t.currentY=e.touches[0].pageY:t.currentY=e.pageY,null===(n=t.containerRef.current)||void 0===n||n.classList.add("ptr--dragging"),t.currentY<t.startY?(t.isDragging=!1,t):(t.currentY-t.startY>=t.pullDownThreshold&&(t.isDragging=!0,t.pullToRefreshThresholdBreached=!0,null===(a=t.containerRef.current)||void 0===a||a.classList.remove("ptr--dragging"),null===(i=t.containerRef.current)||void 0===i||i.classList.add("ptr--pull-down-treshold-breached")),t.currentY-t.startY>t.maxPullDownDistance||(t.pullDownRef.current.style.opacity=((t.currentY-t.startY)/65).toString(),t.childrenRef.current.style.overflow="visible",t.childrenRef.current.style.marginTop="".concat(t.currentY-t.startY,"px"),t.pullDownRef.current.style.visibility="visible"),t)):t}(e,{isDragging:H,currentY:B,startY:U,containerRef:w,pullDownThreshold:E,pullToRefreshThresholdBreached:M,maxPullDownDistance:S,pullDownRef:k,childrenRef:L});H=t.isDragging,B=t.currentY,w=t.containerRef,M=t.pullToRefreshThresholdBreached,k=t.pullDownRef,L=t.childrenRef},V=function(e){var t,n;F||c&&b(L)<I&&O&&(F=!0,null===(t=w.current)||void 0===t||t.classList.add("ptr--fetch-more-treshold-breached"),null===(n=O())||void 0===n||n.then(G).catch(G))},W=function(){if(H=!1,U=0,B=0,!M)return k.current&&(k.current.style.visibility="hidden"),void G();L.current&&(L.current.style.overflow="visible",L.current.style.marginTop="".concat(E,"px")),r().then(G).catch(G)};return Object(s.jsxs)("div",{className:"ptr ".concat(_),style:{backgroundColor:A},ref:w,"data-testid":R,children:[Object(s.jsxs)("div",{className:"ptr__pull-down",ref:k,"data-testid":"ptr-pulldown-id",children:[Object(s.jsx)("div",{className:"ptr__loader ptr__pull-down--loading",children:f}),Object(s.jsx)("div",{className:"ptr__pull-down--pull-more",children:h})]}),Object(s.jsxs)("div",{className:"ptr__children",ref:L,"data-testid":"ptr-children-id",children:[x,Object(s.jsx)("div",{className:"ptr__fetch-more",ref:P,children:Object(s.jsx)("div",{className:"ptr__loader ptr__fetch-more--loading",children:f})})]})]})}},394:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"emptyFunction",(function(){return y})),n.d(t,"hideConsoleLogs",(function(){return _}));var a=n(1),i=n.n(a),c=n(60),o=n.n(c),r=n(150),s=n(384),d=n(9),l=n(385),u=n(126),b=n(17),v=n(386),j=n.n(v),O=n(388),m=n(35),f=n(3),p=n(30),h=n(109),g=n(28),x=n(16),N=n(8),E=n(125),T=n(0),I=["splashLoaderReducer","errorReducer","paymentsGoogleSpotReducer","appConfigReducer"];Object(f.Nb)()&&(I.push("menuReducer"),I.push("contentReducer"));var C=Object(u.a)(j.a,null,I),S=C.store,A=C.persistor;u.c.run(O.a);var y=function(){},_=function(e,t){var n;(null===e||void 0===e?void 0:e.toLowerCase())!==E.c.DEV&&"yes"===(null===t||void 0===t||null===(n=t.trim())||void 0===n?void 0:n.toLowerCase())&&(console.log=y,console.error=y,console.table=y,console.warn=y,console.debug=y)};if(!0===window.supportsES6){var D,R,w,L,k,P,M,F,H,U=null===(D=e)||void 0===D||null===(R=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===R?void 0:R.REACT_APP_TENANT_CODE,B=null!==(w=null===(L=e)||void 0===L||null===(k=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===k?void 0:k.REACT_APP_API_BASE_URL)&&void 0!==w?w:"".concat(null===(P=window)||void 0===P||null===(M=P.location)||void 0===M?void 0:M.protocol,"//").concat(null===(F=window)||void 0===F||null===(H=F.location)||void 0===H?void 0:H.host);if(!U||!B)throw new Error("Env variables REACT_APP_TENANT_CODE or REACT_APP_API_BASE_URL is missing. Please provide them during build or start");console.log("Loading Application for Tenant: ".concat(U)),window.showLoading(),h.a.init(U,B).then((function(e){return console.log("Configuration manager have been successfully initialized"),h.a.fetchConfigs().then((function(e){e&&(_("production",Object(p.a)(E.d)),Object(m.l)(Object(p.a)(g.M),Object(p.a)(g.K),Object(p.a)(g.s),Object(p.a)(g.g),Object(p.a)(g.I),Object(p.a)(g.B),Object(p.a)(g.J)),x.a.bind(Object(p.a)(N.g)),o.a.hydrate(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(d.a,{store:S,children:Object(T.jsx)(l.a,{loading:null,persistor:A,children:Object(T.jsx)(b.b,{children:Object(T.jsx)(r.a,{})})})})}),document.getElementById("root")))}))})).finally((function(){window.hideLoading()}))}Object(s.a)()}.call(this,n(137))},406:function(e,t){},42:function(e,t,n){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAl:"external"}},43:function(e,t,n){"use strict";t.a={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",KFC_Gift_Card:"KFC Gift Card"}},438:function(e,t,n){},44:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"t",(function(){return d})),n.d(t,"p",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return x})),n.d(t,"l",(function(){return N}));var a="offerDeals",i="haveADiscountCode",c="oneCouponPerOrder",o="discountCode",r="apply",s="cartOffersForYou",d="exclusiveOffers",l="couponSuccess",u="Applied",b="Invalidated",v="SET_COUPON_ERROR_MESSAGE",j="SET_COUPON_EXPIRY_MESSAGE",O="Your cart is not eligible for the coupon you applied and it has been removed. ",m="expiredMsg",f="/images/items/no-image.jpg",p="redeem",h="termsConditions",g="termsAndCondition",x="terms-and-conditions",N="Offer Applied"},440:function(e,t,n){},470:function(e,t){},48:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"p",(function(){return d})),n.d(t,"q",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"t",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"u",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"r",(function(){return x})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return E})),n.d(t,"s",(function(){return T}));var a="offerDeal",i="offerDeals",c="offer",o="nationalOffers",r="offersForYou",s="SignInToSeeOffers",d="offerApplied",l="redeem",u="viewdetails",b="findKfc",v="login",j="validTo",O=9,m=1,f="viewed",p="of",h="loadMore",g="/images/items/no-image.jpg",x="SHOW_COPY_COUPON_ACTION",N="HIDE_COPY_COUPON_ACTION",E="kfcLocalOffers",T="kfcSignInExclusiveOffers"},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=/^(?!\s)[A-Za-z ]+$/;t.c={IS_DELIVERY:"DELIVERY",IS_TAKEAWAY:"PICKUP",IS_DINEIN:"DINE-IN",CHECKOUT_TITLES:{TITLE:"cartCheckout",DELIVERY_INFO:"deliveryInfo",TAKEAWAY_INFO:"takeawayInfo",DINEIN_INFO:"dineInInfo",DELIVERY_OPTIONS:"deliveryOptions",TAKEAWAY_OPTIONS:"takeawayOptions",DINEIN_OPTIONS:"dineInOptions",CONTACT_INFO:"contactInfo",PAYMENT:"payment"},CHECKOUT_SUMMARY:{QUANTITY_TEXT:"cartItem",QUANTITYS_TEXT:"cartItems",SUBTOTAL:"cartSubTotal",GST:"cartGst",ADDITIONAL_TAX:"cartIncluTax",RESTRNT_HANDLING:"restaurantHandling",ADD_HOPE_HEADER:"addHopeHeader",ADD_HOPE_TEXT:"addHopeText",ADD_BAG_TEXT:"largeCarryBagContent"},ERROR_ALERT:"checkoutAlert",DELIVERY:{LEAVE_AT_MY_DOOR:{TITLE:"leaveatMyDoor",DESC:"leaveatMyDoorDesc"},HAND_IT_TO_ME:{TITLE:"handItToMe",DESC:"",PLACE_HOLDER:"deliveryInstructions"}},TAKEAWAY:{WALK_IN_THE_STORE:{TITLE:"walkInStore",DESC:""},KFC_TO_YOUR_CAR:{TITLE:"KfcToYourCar",DESC:"KfcToYourCarDesc",PLACE_HOLDER:"vehicleInformation"}},DINE_IN:{DINEIN_WALK_IN_THE_STORE:{TITLE:"DineInStore"}},ADD_PAY_METHOD:"addPaymentMethodHeader",ASAP:"asap",ADDRESS_PH:"address2Placeholder",AGREEMENT_LABEL:"subscribeEmail",CONTINUE_PAYMENT:"continuePayment",PLACE_ORDER:"placeOrder",FORM_NAMES:{FULL_NAME:"fullName",PHONE:"phone",EMAIL:"email",SUBSCRIPTION:"subscription",VEHICAL_INFORMATION:"vehicalInformation",DELIVERY_INSTRUCTION:"deliveryInstruction"},SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",PRICE_DECIMAL_DIGIT:2,PHONEPE_SWITCH_CONSTANTS:{SUCCESS:"SUCCESS",FAILURE:"FAILURE"},mandatorynote:"mandatorynote",IS_CURBSIDE:"curbside"}},513:function(e,t,n){},54:function(e,t,n){"use strict";n.d(t,"i",(function(){return A})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"h",(function(){return D})),n.d(t,"l",(function(){return R})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return P})),n.d(t,"b",(function(){return M})),n.d(t,"e",(function(){return F})),n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return U})),n.d(t,"d",(function(){return B}));var a,i=n(2),c=n(6),o=n.n(c),r=n(15),s=n(22),d=n(24),l=n(5),u=n(29),b=n(33),v=n(3),j=n(16),O=n(107),m=d.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,f=d.a.TAKEAWAY_UNAVAILABLE,p=d.a.DINEIN_UNAVAILABLE,h=d.a.TAKE_AWAY_SERVICE,g=d.a.DINE_IN_SERVICE,x=d.a.STORE_STATUS_OPEN,N=d.a.DELIVERY_SERVICE,E=d.a.DELIVERY_UNAVAILABLE,T=d.a.LOCATION_WARNING_MESSAGE,I=[],C=[],S=[],A=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(b.a.localisationSignIn.name,{"%event%":"localisationSignIn"},v.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(b.a.orderNow.name,{"%event%":"orderNow"},v.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push({event:"orderForLater"}),e.next=4,u.a.registerEvent(void 0,{data:t[0]},v.H);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(null===(a=b.a.localisationViewPWA)||void 0===a?void 0:a.name,{"%event%":"localisationView","%viewSelected%":t?Object(l.e)("list"):Object(l.e)("map"),"%orderType%":n},v.H);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(null===(t=b.a.useMyLocation)||void 0===t?void 0:t.name,{data:{event:"useMyLocation"}},v.H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t,n,i,c,o){I=[],a=o,0===(C=e).length&&a([]);var r=C.map((function(e){var a="".concat(t.replace("{storeid}",e.id||e.storeBasic.id));return fetch(a,{headers:{"Content-type":"application/json","x-tenant-id":n,"x-correlation-session-id":i,"x-correlation-request-id":c}})}));Promise.allSettled(r).then((function(e){S=[],e.forEach((function(e,t,n){e.status===d.a.FULFILLED_TEXT&&L(e.value.json(),t===n.length-1)}))})).catch((function(e){return console.log(e)}))},L=function(e,t){S.push(e),t&&Promise.all(S).then((function(e){e.forEach((function(e){I.push({summary:Object(i.a)({},e),module:e})})),k()}))},k=function(){var e=C.map((function(e,t){var n,a,c,o,r,s={id:null!==(n=null===e||void 0===e?void 0:e.id)&&void 0!==n?n:null,tenders:null!==(a=null===(c=I)||void 0===c||null===(o=c[t])||void 0===o||null===(r=o.module)||void 0===r?void 0:r.availableTenders)&&void 0!==a?a:null};return Object(i.a)(Object(i.a)(Object(i.a)({},e),I[t]),{},{module:s})}));a(e)},P=function(e){return e.filter((function(e){return e.channel===j.b.channel}))},M=function(e,t){var n="",a="",i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","EVERYDAY"],c=new Date;return e?(a=i[c.getDay()].toUpperCase(),t.length&&t.filter((function(e){var t,i,c;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.r)(e.availableHours.to,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(i=Object(s.s)(e.availableHours.to,"hhmm","hhA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(c=Object(s.s)(e.availableHours.to,"hhmm","hh:mmA"))||void 0===c?void 0:c.split(" ").join(""));else if(e.day.toUpperCase()===d.a.EVERYDAY){var o,r,u;n=0===(null===(o=Object(s.r)(e.availableHours.to,"hhmm"))||void 0===o?void 0:o.minute())?"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(r=Object(s.s)(e.availableHours.to,"hhmm","hhA"))||void 0===r?void 0:r.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(u=Object(s.s)(e.availableHours.to,"hhmm","hh:mmA"))||void 0===u?void 0:u.split(" ").join(""))}}))):(a=c.getDay()+1>=i.length?i[c.getDay()+1-i.length].toUpperCase():i[c.getDay()+1].toUpperCase(),t.filter((function(e){var t,i,c;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.r)(e.availableHours.from,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(i=Object(s.s)(e.availableHours.from,"hhmm","hhA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(c=Object(s.s)(e.availableHours.from,"hhmm","hh:mmA"))||void 0===c?void 0:c.split(" ").join(""));else if(e.day.toUpperCase()===d.a.EVERYDAY){var o,r,u;n=0===(null===(o=Object(s.r)(e.availableHours.from,"hhmm"))||void 0===o?void 0:o.minute())?"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(r=Object(s.s)(e.availableHours.from,"hhmm","hhA"))||void 0===r?void 0:r.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(u=Object(s.s)(e.availableHours.from,"hhmm","hh:mmA"))||void 0===u?void 0:u.split(" ").join(""))}}))),n},F=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode({location:e},(function(e,t){"OK"===t?e[0]?n(e[0].formatted_address):(console.log("No results found"),a(e)):(console.log("Geocoder failed due to: "+t),a(e)),n(e[0].formatted_address)}))}))},H=function(e,t){var n,a,i,c,o,r=[],s=[];switch(e.toLowerCase()){case"delivery":i=N,c=Object(l.e)(E),o=Object(l.e)(E);break;case"takeaway":c=Object(l.e)(f),i=Object(l.e)(h),o=Object(l.e)(m);break;case"dine-in":i=g,c=Object(l.e)(p),o=Object(l.e)(p)}return null===t||void 0===t||t.map((function(e,t){var n,c;if((null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(c=n.status)||void 0===c?void 0:c.currentStatus)!==x&&s.push(e),null===e||void 0===e?void 0:e.availableServicesPerChannel){var o,d,l,u=(null===(d=a=null===e||void 0===e||null===(o=e.availableServicesPerChannel)||void 0===o?void 0:o.filter((function(e){return e.channel===j.b.channel})))||void 0===d?void 0:d.length)?null===(l=a[0])||void 0===l?void 0:l.services:[];!u.includes(i)&&u.length&&r.push(e)}})),(null===t||void 0===t?void 0:t.length)===(null===r||void 0===r?void 0:r.length)?c:(null===(n=a)||void 0===n?void 0:n.length)&&(null===t||void 0===t?void 0:t.length)!==(null===s||void 0===s?void 0:s.length)?null:o},U=function(e,t){return e.name[0].value<t.name[0].value?-1:e.name[0].value>t.name[0].value?1:0},B=function(e,t){Object(v.u)(e,!t)&&Object(v.M)(Object(l.e)(O.a.contentData.deliveryHeaderText),Object(l.e)(T))}},61:function(e,t,n){"use strict";var a=n(2),i=n(93),c=(n(1),n(0)),o=["ariaLable","className","onClickHandler","onKeyDownHandler"];t.a=function(e){var t=e.ariaLable,n=e.className,r=e.onClickHandler,s=e.onKeyDownHandler,d=Object(i.a)(e,o);return Object(c.jsx)("button",Object(a.a)(Object(a.a)({className:n||"closebtn-cls",role:"button","aria-label":t||"Close",onClick:r,onKeyDown:s},d),{},{children:e.children}))}},65:function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"k",(function(){return h}));var a=n(36),i=n(2),c=n(3),o=n(181),r=n(44),s=n(22),d=function(e){return e&&e.length&&e.reduce((function(e,t){var n=t.key,o=t.value;return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},function(e){return"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1))}(n),"TRUE"===String(o).toUpperCase()||"FALSE"!==String(o).toUpperCase()&&Object(c.Qb)(o)))}),{})},l=function(e){return e.map((function(e){var t,n,a,c,o,r,s,l,u,j,O,m,f,p,h;return Object(i.a)({discountCode:null===e||void 0===e?void 0:e.code,heading:(null===e||void 0===e||null===(t=e.promotionDetails)||void 0===t?void 0:t.title)&&(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.title.length)&&b(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a||null===(c=a.title[0])||void 0===c?void 0:c.value),description:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.description)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r?void 0:r.description.length)&&(null===e||void 0===e||null===(s=e.promotionDetails)||void 0===s||null===(l=s.description[0])||void 0===l?void 0:l.value),imageSrc:(null===e||void 0===e||null===(u=e.promotionDetails)||void 0===u?void 0:u.image)&&(null===e||void 0===e||null===(j=e.promotionDetails)||void 0===j?void 0:j.image.length)&&(null===e||void 0===e||null===(O=e.promotionDetails)||void 0===O||null===(m=O.image[0])||void 0===m?void 0:m.value),endTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:v(null===e||void 0===e||null===(f=e.promotionDetails)||void 0===f?void 0:f.conditions),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(p=e.promotionDetails)||void 0===p?void 0:p.cardType},d(null===e||void 0===e||null===(h=e.promotionDetails)||void 0===h?void 0:h.customProperties))}))},u=function(e){return{discountCode:null===e||void 0===e?void 0:e.couponCode,heading:null===e||void 0===e?void 0:e.titleValue,description:null===e||void 0===e?void 0:e.smallText,endTime:null===e||void 0===e?void 0:e.validityEndTime,isApplied:null===e||void 0===e?void 0:e.isApplied}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e&&e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>"),n=Object(o.a)("".concat(t));return n},v=function(e){return e&&e.map((function(e){return{displayOrder:e.displayOrder,message:e.displayMessage[0].value}})).sort((function(e,t){return+e.displayOrder-+t.displayOrder}))},j=function(e){if(e){var t=Object(s.q)(e),n=Object(s.g)(),a=Object(s.m)(t,n,"seconds"),i=String(a).includes("-");return t.isValid()&&!i}return!1},O=function(e){var t=Object(s.q)(e),n=Object(s.g)(),a=Object(s.m)(t,n,"hour"),i=n.add(a,"hours"),c=Object(s.m)(t,i,"minute"),o=i.add(c,"minutes"),r=Object(s.m)(t,o,"second");return"".concat(a,"HR : ").concat(c,"M : ").concat(r,"S")},m=function(e){var t=Object(s.q)(e);return Object(s.e)(t,"DD/MM/YY")},f=function(e){var t=Object(s.q)(e);return Object(s.e)(t,"DD/MM/YYYY")},p=function(e){var t,n,a,i,c=null===e||void 0===e?void 0:e.promoConditionStatus.filter((function(e){return!(null===e||void 0===e?void 0:e.isValidCondition)}));return(null===e||void 0===e||null===(t=e.basicErrors)||void 0===t?void 0:t.length)?r.e+(null===e||void 0===e||null===(n=e.basicErrors[0])||void 0===n?void 0:n.message):(null===c||void 0===c?void 0:c.length)?r.e+(null===(a=c[0])||void 0===a||null===(i=a.displayMessage[0])||void 0===i?void 0:i.value):void 0},h=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||""}},79:function(e,t,n){"use strict";var a=n(139),i=n.n(a),c=n(199),o=n.n(c),r=n(178),s=n.n(r),d=n(348),l=n.n(d),u=n(14),b=n(30),v=n(28),j=new l.a(localStorage,{hash:function(e){return o()(e,Object(b.a)(v.o)).toString()},encrypt:function(e){return i.a.encrypt(e,Object(b.a)(v.o)).toString()},decrypt:function(e){return i.a.decrypt(e,Object(b.a)(v.o)).toString(s.a)}}),O={setItem:function(e,t){if(!Object(u.isEmpty)(e)&&!Object(u.isEmpty)(t))return j.setItem(e,t)},getItem:function(e){if(!Object(u.isEmpty)(e))return j.getItem(e)}};Object.freeze(O),t.a=O},8:function(e,t,n){"use strict";n.d(t,"ob",(function(){return a})),n.d(t,"rb",(function(){return i})),n.d(t,"pb",(function(){return c})),n.d(t,"qb",(function(){return o})),n.d(t,"bb",(function(){return r})),n.d(t,"s",(function(){return s})),n.d(t,"o",(function(){return d})),n.d(t,"kb",(function(){return l})),n.d(t,"p",(function(){return u})),n.d(t,"t",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"H",(function(){return j})),n.d(t,"R",(function(){return O})),n.d(t,"F",(function(){return m})),n.d(t,"A",(function(){return f})),n.d(t,"Q",(function(){return p})),n.d(t,"cb",(function(){return h})),n.d(t,"wb",(function(){return g})),n.d(t,"I",(function(){return x})),n.d(t,"Eb",(function(){return N})),n.d(t,"Cb",(function(){return E})),n.d(t,"Fb",(function(){return T})),n.d(t,"Db",(function(){return I})),n.d(t,"hb",(function(){return C})),n.d(t,"g",(function(){return S})),n.d(t,"ub",(function(){return A})),n.d(t,"jb",(function(){return y})),n.d(t,"ib",(function(){return _})),n.d(t,"v",(function(){return D})),n.d(t,"u",(function(){return R})),n.d(t,"j",(function(){return w})),n.d(t,"M",(function(){return L})),n.d(t,"f",(function(){return k})),n.d(t,"fb",(function(){return P})),n.d(t,"Bb",(function(){return M})),n.d(t,"sb",(function(){return F})),n.d(t,"tb",(function(){return H})),n.d(t,"N",(function(){return U})),n.d(t,"yb",(function(){return B})),n.d(t,"zb",(function(){return Y})),n.d(t,"m",(function(){return G})),n.d(t,"db",(function(){return K})),n.d(t,"l",(function(){return V})),n.d(t,"Z",(function(){return W})),n.d(t,"eb",(function(){return q})),n.d(t,"x",(function(){return z})),n.d(t,"y",(function(){return Q})),n.d(t,"w",(function(){return J})),n.d(t,"X",(function(){return X})),n.d(t,"nb",(function(){return Z})),n.d(t,"W",(function(){return $})),n.d(t,"P",(function(){return ee})),n.d(t,"Y",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"e",(function(){return ae})),n.d(t,"k",(function(){return ie})),n.d(t,"V",(function(){return ce})),n.d(t,"a",(function(){return oe})),n.d(t,"z",(function(){return re})),n.d(t,"C",(function(){return se})),n.d(t,"lb",(function(){return de})),n.d(t,"i",(function(){return le})),n.d(t,"mb",(function(){return ue})),n.d(t,"O",(function(){return be})),n.d(t,"L",(function(){return ve})),n.d(t,"q",(function(){return je})),n.d(t,"G",(function(){return Oe})),n.d(t,"T",(function(){return me})),n.d(t,"c",(function(){return fe})),n.d(t,"K",(function(){return pe})),n.d(t,"D",(function(){return he})),n.d(t,"vb",(function(){return ge})),n.d(t,"S",(function(){return xe})),n.d(t,"r",(function(){return Ne})),n.d(t,"J",(function(){return Ee})),n.d(t,"ab",(function(){return Te})),n.d(t,"h",(function(){return Ie})),n.d(t,"E",(function(){return Ce})),n.d(t,"U",(function(){return Se})),n.d(t,"d",(function(){return Ae})),n.d(t,"gb",(function(){return ye})),n.d(t,"B",(function(){return _e})),n.d(t,"xb",(function(){return De}));var a="DELIVERY",i="PICKUP",c="DINE-IN",o="TAKEAWAY",r="pickup",s="dine-in",d="delivery",l="Pickup",u="Delivery",b="Dine in",v="no-image.jpg",j="Homepage",O="Menu",m="GiftCards",f="FAQ",p="MenuCategory",h="Product",g="USER_SELECTED_LANGUAGE",x="homeContentfulResp",N=function(){},E=[],T={},I=document.createElement("div"),C="6LfV2X8UAAAAAG_yyymEZiRSaVnxwZKjzgl1973q",S="MIN_SUPPORTED_BROWSERS",A="unsupportedBrowser",y="mobile",_="desktop",D="dispositionOld",R="dispositionNew",w="currentStoreInfo",L="(min-width:650px) and (max-width:1024px)",k="cart",P="_self",M="loggedIN",F="Item added to Cart",H="Items added to Cart",U="KFC",B="[0].availableHours.from",Y="[0].availableHours.to",G=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","EVERYDAY"],K={CART:"Page_Title_Cart",OFFERS:"Page_Title_Offers",LOGIN:"Page_Title_Login",HELP:"Page_Title_Help",CHECKOUT:"Page_Title_Checkout",PAYMENT_FAILURE:"Page_Title_Payment_Failure",PAYMENT_SUCCESS:"Page_Title_Payment_Success",PAYMENT_STATUS:"Page_Title_Payment_Status",OUR_ADDS:"Page_Title_Our_Adds",CONTACT_US:"Page_Title_ContactUs",TERMS_OF_USE:"Page_Title_TermsOfUse",TERMS_CONDITIONS:"Page_Title_Terms_Conditions",FAQ:"Page_Title_Faq",GIFT_CARD:"Page_Title_Gift_Card",PRIVACY_POLICY:"Page_Title_Privacy_Policy",SIGN_OUT:"Page_Title_Sign_out",ACCOUNT:"Page_Title_Account",NOT_FOUND:"Page_Title_Not_Found"},V={TOKEN_EXPIRY_GRACE_PERIOD:"TOKEN_EXPIRY_GRACE_PERIOD",USER_RESET_GRACE_TIME_MINUTES:"USER_RESET_GRACE_TIME_MINUTES",USER_RESET_WARNING_GRACE_TIME_MINUTES:"USER_RESET_WARNING_GRACE_TIME_MINUTES",GOOGLE_SPOT_AUTH_SCOPE:"GOOGLE_SPOT_AUTH_SCOPE",HEADER_ATTR_DATA_ID:"root-header",HEADER_SIGN_IN_ATTR_DATA_ID:"header-sign-in",CHECKOUT_SIGN_IN_ATTR_DATA_ID:"checkout-sign-in",VIEWPORT_AGENT_BROWSER:"web",VIEWPORT_AGENT_GOOGLE:"GPay-Microapps",VIEWPORT_AGENT_PHONE_PE:"phonepe",VIEWPORT_AGENT_PAY_TM:"AppContainer",VIEWPORT_CHANNEL_BROWSER:"web",VIEWPORT_CHANNEL_GOOGLE:"google-pay-spot",VIEWPORT_CHANNEL_PHONE_PE:"phonepe-in-app",VIEWPORT_CHANNEL_PAY_TM:"paytm-miniapp",VIEWPORT_CLASSNAME_DEBUG:"channel-debug",VIEWPORT_CLASSNAME_BROWSER:"channel-browser",VIEWPORT_CLASSNAME_GOOGLE:"channel-google-pay",VIEWPORT_CLASSNAME_PHONE_PE:"channel-phone-pe",VIEWPORT_CLASSNAME_PAY_TM:"channel-pay-tm",QR_CODE_VALID_TIME_MINS:"QR_CODE_VALID_TIME_MINS",Status:{Pass:"SUCCESS",Pending:"SUBMITTED",Fail:"FAILURE"},Setting:{Google:{Source:"https://microapps.google.com/apis/v1alpha/microapps.js",Nonce:null,Prompt:!0},Accuracy:!0,Retry:3,Interval:500,Timeout:5e3,Expiration:0,Storage:{Store:"storeInfo"}},Debug:{Navigator:{UserAgent:{Browser:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36",Google:"Mozilla/5.0 (Linux; Android 11; moto g fast Build/RPJS31.Q1-53-12-5; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.164 Mobile Safari/537.36 [GPay-Microapps/132.1.5 (arm64-v8a_release_flutter) flutter]"}},Google:{Coordinates:{longitude:78.372658,latitude:17.442791},Address:"gachibowli, hyderabad, telangana, india",Name:"isaac ewing",Email:"isaac.ewing@cognizant.com",Phone:"9725550178",OrderId:"VGUH0124248666",BasketId:"146258421991",Token:{Phone:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmNWQ0MDA2ZDYxMzVhYTcxN2UxMzA5YzllYzM0YmE5ODljMjlhZTEiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJodHRwczovL21pY3JvYXBwcy5nb29nbGUuY29tLzE1NDM0NDQwNjQxOTQ0MjM0Mzk2IiwiaXNzIjoiaHR0cHM6Ly9taWNyb2FwcHMuZ29vZ2xlLmNvbSIsInBob25lX251bWJlcl92ZXJpZmllZCI6dHJ1ZSwicGhvbmVfbnVtYmVyIjoiKzEgOTcyODMyMDE3OCIsImV4cCI6MTYyNjI4MjkxOCwiaWF0IjoxNjI2Mjc5MzE4fQ.PaR80j_eFsIdNIWtRLq5Xx1nxs0c4RVRBrUvXRe6JnyqqtwYrya4wWGlqQAlpwLSpKNuVDbaHUmJV7CEkiCPslLn6hDIut9IkImBIhWoBlYFApu7ghrZIoYH9pVjswUVpNjWhv7p6U8VJ26pcunsm24AaxYTBVsEOSBv4OXyV0NuxbZeYR_agxyejZXWOnKm6TuZkaNIqqG5Q9QdUrPPvIIaKTDnmIm5AKtpydXRGgzNwNb3wjnV9L1HxAkKFrivh7PDW1dxTJ8sIen8XKgRkL3Pj4KClNVzWiiyeQT6ifGH74ilXmV4w7Q337R69hBA0nNyQ8o6t7XtQw9gsbZnOQ",Identity:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjNkZjBhODMxZTA5M2ZhZTFlMjRkNzdkNDc4MzQ0MDVmOTVkMTdiNTQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2Mjc2MjkzODcsImF1ZCI6IjEwMjU4NjI4MTY3MjYtdjFwOGY0dmlqYjh0NDdncGFkaXUzMHBtNGljaGh1M3UuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTY5MjcwNTAxNjgyNDc5MDA2MTEiLCJlbWFpbCI6Im0uc2FybzE5OThAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF6cCI6IjEwMjU4NjI4MTY3MjYtdjFwOGY0dmlqYjh0NDdncGFkaXUzMHBtNGljaGh1M3UuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJuYW1lIjoiU2FyYXZhbmEgR2FuZXNoIE0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFUWEFKenJVOWFxbXJxM0ZWVnI0QXFMTkEtdXhEcWZ5VkdNOXRLSlJQbzk9czk2LWMiLCJnaXZlbl9uYW1lIjoiU2FyYXZhbmEgR2FuZXNoIiwiZmFtaWx5X25hbWUiOiJNIiwiaWF0IjoxNjI3NjI5Njg3LCJleHAiOjE2Mjc2MzMyODcsImp0aSI6ImViZWNlOTY5MzczMDVkNTIzZjcxZTY4NWMxOWMzMTdkNGVjODcwNDIifQ.NJOMLzzUffqj6ihraIQv1ahjFpFuYQ2x-Jx5ERNln736Iz-bJeS0IruGinCqOSMGIwnfJYfYR31FfHt-RRhSidj7NCGA1UiMkm9HaX1CrUPNDN44SSUNz1Qxtoeu7K6rhTV-pRFJiuQ2MVky96hl4i012_EdDLa4gEv3JqCx6aL6E08mru9-vLN7T504oZj7jreJAK6Y_5Ne2C8mrQT785_qybJAthNxSQOKjTsBc3gHzHumjvGjNZfPEtKpHmuxVu-0Jq2_F5Cq3wZd07sZkSPKqzAld_UF8xesSRGYj7I6udZEf81cAjXgyeRouUmO8I0sHToiKlzNMPAnNBAgKg"},Payment:{Response:{apiVersion:2,apiVersionMinor:0,paymentMethodData:{type:"UPI",tokenizationData:{type:"DIRECT",token:'{"protocolVersion":"ECV2","signature":"","signedMessage":"{\\"paymentMethod\\":\\"UPI\\",\\"paymentMethodDetails\\":{\\"payeeVpa\\":\\"yumrestaurantindia.billdesk@hdfcbank\\",\\"transactionReferenceId\\":\\"UGUH0002036496\\",\\"transactionId\\":\\"779306059769\\",\\"status\\":\\"SUCCESS\\",\\"transactionInfo\\":{\\"currencyCode\\":\\"INR\\",\\"totalPriceStatus\\":\\"FINAL\\",\\"totalPrice\\":\\"2.00\\",\\"transactionNote\\":\\"\\"}},\\"messageExpiration\\":\\"1627567541475\\"}"}'}}}},Order:{Channel:!0,Olo:!0}}}},W={CREDIT_CARD:"credit-card",GIFT_CARD:"giftcard",NET_BANKING:"net-banking",OTHER_WALLET:"other-wallet",PAY_BY_CASH:"pay-by-cash",PAYTM:"paytm",PHONEPE:"phonepe",GOOGLE_PAY_SPOT:"google-pay-spot",UPI:"upi",PAYTM_MINIAPP:"paytm-miniapp",PHONEPE_SWITCH:"phonepe-in-app"},q={HOME:"",HOME_PAGE:"/",CART:"/cart",CHECKOUT:"/checkout",GIFT_CARD:"/giftcards",PAYMENT_SUCCESS:"/payment-success",PAYMENT_FAILURE:"/payment-failure",ORDER_DETAILS:"/order-details",HELP:"/help",ACCOUNT:"/account",TRACK_ORDERS:"/track-orders",PAYMENT_STATUS_CHECK:"/payment-status-check",ACTIVE_ORDERS:"/active-orders"},z={DELIVERY:"DELIVERY",DINE_IN:"DINE-IN",PICKUP:"PICKUP"},Q={DELIVERY:"Delivery",DINE_IN:"Dine in",PICKUP:"Pick up"},J=[z.DELIVERY,z.DINE_IN,z.PICKUP],X={STAGED:"STAGED",ACCEPTED:"ACCEPTED",SENT_TO_POS_COMPLETED:"SENT-TO-POS-COMPLETED",CANCELLED:"CANCELLED",PAYMENT_FAILED:"PAYMENT-FAILED",SENT_TO_POS_FAILED:"SENT-TO-POS-FAILED",CREATED:"CREATED",ASSIGNED:"ASSIGNED",PICKED_UP:"PICKED-UP",OUT_FOR_DELIVERY:"OUT FOR DELIVERY",ARRIVED:"ARRIVED",DELIVERED:"DELIVERED",CANCEL:"CANCEL"},Z={ESTIMATED_ARRIVAL:"estimatedArrival",DELIVERED_AT:"deliveredAt",ORDER_RECEIVED:"orderReceived",ENJOY_MEAL:"enjoyMeal",ASK_FOR_OTP:"askForOTP",ORDER_READY:"orderGettingReady",FOUND_DRIVER:"foundDriver",CANCEL_ORDER:"cancelOrder",CANCEL_ORDER_REFUND:"cancelOrderRefund",BUSINESS_DAYS:"businessDays"},$={STAGED_ACCEPTED:"STAGED-ACCEPTED",PICKUP_DELIVERY_DINE_IN:"PICKUP-DELIVERY-DINE-IN",DELIVERY_DISTA_CREATE_ASSIGN:"DELIVERY_DISTA_CREATE_ASSIGN",DELIVERY_DISTA:"DELIVERY-DISTA",DELIVERY_DISTA_DELIVERED:"DELIVERY_DISTA_DELIVERED",FAILED:"FAILED",CANCELLED:"CANCELLED"},ee={ORDER_TRACKING:"orderTracking",POST_PAYMENT_TYPE:"postPaymentType",PAYMENT_STATUS:"paymentStatus",DISPOSITION_NEW:"dispositionNew",TENANT_REDUCER:"tenantReducer",RETAIN_ADDRESS:"searchStoreByAttribute",SERVICE_TYPE:"serviceType",STORE_ID:"storeId",DISPOSITION_TYPE:"dispositionType"},te={SUCCESS:"Success",FAILED:"Failed",STATUS_TEXT:"paymentStatus"},ne={MINIMUM_AMOUNT:"BSDE0027",MAXIMUM_AMOUNT:"BSDE0028"},ae=[{breakpoint:1350,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,variableWidth:!0}}],ie="currentFavMenu",ce="NA",oe="/account",re="ecommerce",se="fields",de="title",le="content",ue="topics",be="linkText",ve="internalurl",je="description",Oe="headline",me="name",fe="buttonText",pe="image",he="file",ge="url",xe="mobileImage",Ne="desktopImage",Ee="icon",Te="phoneNumber",Ie="CONTACT US",Ce="Get Help",Se="Nearest KFC",Ae="Call us",ye="SHARE YOUR EXPERIENCE",_e="FAQ Topics",De="ViewAllFAQ";t.Ab={KEY_CHAR_CODE:{SPACE:32,ENTER:13},CMS_CONTENT_TYPES:{LOGO_ICON:"logoicon",MULTI_TEXT:"multiTypeText",CALL_TO_ACTION:"callToAction",NAVIGATION_LINK:"navigationLink"}}},86:function(e,t,n){"use strict";t.a={DISPOSITION_TYPE:{TYPE_DINE_IN:"DINE-IN",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP"},DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:"SET_QR_DEEPLINK_MODE"},FIND_OPEN_KFC_TEXT:"findOpenKfc",INVALID_QR_TEXT:"invalidQRCodeError",CLOSED_STORE_MODAL_SUBTITLE:"closeStoreModelSubTitle",TAKEAWAY_STORE_CLOSED_TEXT:"takeawayStoreClosed",DINE_IN_STORE_CLOSED_TEXT:"dineInStoreClosed",SWITCH_TO_TAKEAWAY_TEXT:"switchToTakeaway",SWITCH_TO_DINEIN_TEXT:"switchToDineIn"}},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v}));var a=n(6),i=n.n(a),c=n(15),o=n(29),r=n(33),s=n(3),d=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.registerEvent(r.a.add_to_cart.name,{data:{event:"add_to_cart",ecommerce:{add_to_cart:{items:[t]}}}},s.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){o.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.emailId||"NA","%phone%":Object(s.r)(e.phoneNumber)||"NA"},s.H)},u=function(e){o.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((function(e){return"marketing-emails"===e}))?"True":"False","%editorAndCustomerFavourites%":e.find((function(e){return"editor-pick"===e}))?"True":"False","%newsAndAnnouncements%":e.find((function(e){return"kfc-news"===e}))?"True":"False","%doNotSellInformation%":e.find((function(e){return"do-not-sell"===e}))?"True":"False"},s.H)},b=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":t||"NA"},s.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":t||"NA"},s.H);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},[[394,3,4]]]);